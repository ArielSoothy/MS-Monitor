import{m as Y,j as e}from"./index-CaLxbxh3.js";import{_ as le,r as T,f as ce,g as Z,a as de,L as ue,c as me,X as he,Y as fe,T as ge,e as ve}from"./charts-BdICjjZY.js";import{c as _e,F as pe,d as B,e as J,f as xe,g as Se,T as Ie,h as Ce,P as je,i as Ne,j as Q,A as ee,k as we}from"./icons-CZRcmTJT.js";import"./vendor-Csw2ODfV.js";import"./router-M1Z-wYJt.js";var te=Number.isNaN||function(a){return typeof a=="number"&&a!==a};function Te(c,a){return!!(c===a||te(c)&&te(a))}function qe(c,a){if(c.length!==a.length)return!1;for(var i=0;i<c.length;i++)if(!Te(c[i],a[i]))return!1;return!0}function K(c,a){a===void 0&&(a=qe);var i,o=[],u,m=!1;function v(){for(var _=[],N=0;N<arguments.length;N++)_[N]=arguments[N];return m&&i===this&&a(_,o)||(u=c.apply(this,_),m=!0,i=this,o=_),u}return v}var ye=typeof performance=="object"&&typeof performance.now=="function",se=ye?function(){return performance.now()}:function(){return Date.now()};function ne(c){cancelAnimationFrame(c.id)}function be(c,a){var i=se();function o(){se()-i>=a?c.call(null):u.id=requestAnimationFrame(o)}var u={id:requestAnimationFrame(o)};return u}var X=-1;function ae(c){if(c===void 0&&(c=!1),X===-1||c){var a=document.createElement("div"),i=a.style;i.width="50px",i.height="50px",i.overflow="scroll",document.body.appendChild(a),X=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return X}var D=null;function re(c){if(c===void 0&&(c=!1),D===null||c){var a=document.createElement("div"),i=a.style;i.width="50px",i.height="50px",i.overflow="scroll",i.direction="rtl";var o=document.createElement("div"),u=o.style;return u.width="100px",u.height="100px",a.appendChild(o),document.body.appendChild(a),a.scrollLeft>0?D="positive-descending":(a.scrollLeft=1,a.scrollLeft===0?D="negative":D="positive-ascending"),document.body.removeChild(a),D}return D}var Re=150,Me=function(a,i){return a};function Le(c){var a,i=c.getItemOffset,o=c.getEstimatedTotalSize,u=c.getItemSize,m=c.getOffsetForIndexAndAlignment,v=c.getStartIndexForOffset,_=c.getStopIndexForStartIndex,N=c.initInstanceProps,q=c.shouldResetStyleCacheOnItemSizeChange,R=c.validateProps;return a=function(L){le(M,L);function M(y){var s;return s=L.call(this,y)||this,s._instanceProps=N(s.props,Z(s)),s._outerRef=void 0,s._resetIsScrollingTimeoutId=null,s.state={instance:Z(s),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof s.props.initialScrollOffset=="number"?s.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},s._callOnItemsRendered=void 0,s._callOnItemsRendered=K(function(l,d,p,h){return s.props.onItemsRendered({overscanStartIndex:l,overscanStopIndex:d,visibleStartIndex:p,visibleStopIndex:h})}),s._callOnScroll=void 0,s._callOnScroll=K(function(l,d,p){return s.props.onScroll({scrollDirection:l,scrollOffset:d,scrollUpdateWasRequested:p})}),s._getItemStyle=void 0,s._getItemStyle=function(l){var d=s.props,p=d.direction,h=d.itemSize,C=d.layout,f=s._getItemStyleCache(q&&h,q&&C,q&&p),S;if(f.hasOwnProperty(l))S=f[l];else{var j=i(s.props,l,s._instanceProps),b=u(s.props,l,s._instanceProps),P=p==="horizontal"||C==="horizontal",$=p==="rtl",O=P?j:0;f[l]=S={position:"absolute",left:$?void 0:O,right:$?O:void 0,top:P?0:j,height:P?"100%":b,width:P?b:"100%"}}return S},s._getItemStyleCache=void 0,s._getItemStyleCache=K(function(l,d,p){return{}}),s._onScrollHorizontal=function(l){var d=l.currentTarget,p=d.clientWidth,h=d.scrollLeft,C=d.scrollWidth;s.setState(function(f){if(f.scrollOffset===h)return null;var S=s.props.direction,j=h;if(S==="rtl")switch(re()){case"negative":j=-h;break;case"positive-descending":j=C-p-h;break}return j=Math.max(0,Math.min(j,C-p)),{isScrolling:!0,scrollDirection:f.scrollOffset<j?"forward":"backward",scrollOffset:j,scrollUpdateWasRequested:!1}},s._resetIsScrollingDebounced)},s._onScrollVertical=function(l){var d=l.currentTarget,p=d.clientHeight,h=d.scrollHeight,C=d.scrollTop;s.setState(function(f){if(f.scrollOffset===C)return null;var S=Math.max(0,Math.min(C,h-p));return{isScrolling:!0,scrollDirection:f.scrollOffset<S?"forward":"backward",scrollOffset:S,scrollUpdateWasRequested:!1}},s._resetIsScrollingDebounced)},s._outerRefSetter=function(l){var d=s.props.outerRef;s._outerRef=l,typeof d=="function"?d(l):d!=null&&typeof d=="object"&&d.hasOwnProperty("current")&&(d.current=l)},s._resetIsScrollingDebounced=function(){s._resetIsScrollingTimeoutId!==null&&ne(s._resetIsScrollingTimeoutId),s._resetIsScrollingTimeoutId=be(s._resetIsScrolling,Re)},s._resetIsScrolling=function(){s._resetIsScrollingTimeoutId=null,s.setState({isScrolling:!1},function(){s._getItemStyleCache(-1,null)})},s}M.getDerivedStateFromProps=function(s,l){return ze(s,l),R(s),null};var w=M.prototype;return w.scrollTo=function(s){s=Math.max(0,s),this.setState(function(l){return l.scrollOffset===s?null:{scrollDirection:l.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},w.scrollToItem=function(s,l){l===void 0&&(l="auto");var d=this.props,p=d.itemCount,h=d.layout,C=this.state.scrollOffset;s=Math.max(0,Math.min(s,p-1));var f=0;if(this._outerRef){var S=this._outerRef;h==="vertical"?f=S.scrollWidth>S.clientWidth?ae():0:f=S.scrollHeight>S.clientHeight?ae():0}this.scrollTo(m(this.props,s,l,C,this._instanceProps,f))},w.componentDidMount=function(){var s=this.props,l=s.direction,d=s.initialScrollOffset,p=s.layout;if(typeof d=="number"&&this._outerRef!=null){var h=this._outerRef;l==="horizontal"||p==="horizontal"?h.scrollLeft=d:h.scrollTop=d}this._callPropsCallbacks()},w.componentDidUpdate=function(){var s=this.props,l=s.direction,d=s.layout,p=this.state,h=p.scrollOffset,C=p.scrollUpdateWasRequested;if(C&&this._outerRef!=null){var f=this._outerRef;if(l==="horizontal"||d==="horizontal")if(l==="rtl")switch(re()){case"negative":f.scrollLeft=-h;break;case"positive-ascending":f.scrollLeft=h;break;default:var S=f.clientWidth,j=f.scrollWidth;f.scrollLeft=j-S-h;break}else f.scrollLeft=h;else f.scrollTop=h}this._callPropsCallbacks()},w.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ne(this._resetIsScrollingTimeoutId)},w.render=function(){var s=this.props,l=s.children,d=s.className,p=s.direction,h=s.height,C=s.innerRef,f=s.innerElementType,S=s.innerTagName,j=s.itemCount,b=s.itemData,P=s.itemKey,$=P===void 0?Me:P,O=s.layout,A=s.outerElementType,E=s.outerTagName,U=s.style,G=s.useIsScrolling,V=s.width,H=this.state.isScrolling,n=p==="horizontal"||O==="horizontal",g=n?this._onScrollHorizontal:this._onScrollVertical,r=this._getRangeToRender(),x=r[0],z=r[1],I=[];if(j>0)for(var F=x;F<=z;F++)I.push(T.createElement(l,{data:b,key:$(F,b),index:F,isScrolling:G?H:void 0,style:this._getItemStyle(F)}));var W=o(this.props,this._instanceProps);return T.createElement(A||E||"div",{className:d,onScroll:g,ref:this._outerRefSetter,style:ce({position:"relative",height:h,width:V,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:p},U)},T.createElement(f||S||"div",{children:I,ref:C,style:{height:n?"100%":W,pointerEvents:H?"none":void 0,width:n?W:"100%"}}))},w._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var s=this.props.itemCount;if(s>0){var l=this._getRangeToRender(),d=l[0],p=l[1],h=l[2],C=l[3];this._callOnItemsRendered(d,p,h,C)}}if(typeof this.props.onScroll=="function"){var f=this.state,S=f.scrollDirection,j=f.scrollOffset,b=f.scrollUpdateWasRequested;this._callOnScroll(S,j,b)}},w._getRangeToRender=function(){var s=this.props,l=s.itemCount,d=s.overscanCount,p=this.state,h=p.isScrolling,C=p.scrollDirection,f=p.scrollOffset;if(l===0)return[0,0,0,0];var S=v(this.props,f,this._instanceProps),j=_(this.props,S,f,this._instanceProps),b=!h||C==="backward"?Math.max(1,d):1,P=!h||C==="forward"?Math.max(1,d):1;return[Math.max(0,S-b),Math.max(0,Math.min(l-1,j+P)),S,j]},M}(T.PureComponent),a.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},a}var ze=function(a,i){a.children,a.direction,a.height,a.layout,a.innerTagName,a.outerTagName,a.width,i.instance},Fe=50,k=function(a,i,o){var u=a,m=u.itemSize,v=o.itemMetadataMap,_=o.lastMeasuredIndex;if(i>_){var N=0;if(_>=0){var q=v[_];N=q.offset+q.size}for(var R=_+1;R<=i;R++){var L=m(R);v[R]={offset:N,size:L},N+=L}o.lastMeasuredIndex=i}return v[i]},Pe=function(a,i,o){var u=i.itemMetadataMap,m=i.lastMeasuredIndex,v=m>0?u[m].offset:0;return v>=o?oe(a,i,m,0,o):$e(a,i,Math.max(0,m),o)},oe=function(a,i,o,u,m){for(;u<=o;){var v=u+Math.floor((o-u)/2),_=k(a,v,i).offset;if(_===m)return v;_<m?u=v+1:_>m&&(o=v-1)}return u>0?u-1:0},$e=function(a,i,o,u){for(var m=a.itemCount,v=1;o<m&&k(a,o,i).offset<u;)o+=v,v*=2;return oe(a,i,Math.min(o,m-1),Math.floor(o/2),u)},ie=function(a,i){var o=a.itemCount,u=i.itemMetadataMap,m=i.estimatedItemSize,v=i.lastMeasuredIndex,_=0;if(v>=o&&(v=o-1),v>=0){var N=u[v];_=N.offset+N.size}var q=o-v-1,R=q*m;return _+R},Oe=Le({getItemOffset:function(a,i,o){return k(a,i,o).offset},getItemSize:function(a,i,o){return o.itemMetadataMap[i].size},getEstimatedTotalSize:ie,getOffsetForIndexAndAlignment:function(a,i,o,u,m,v){var _=a.direction,N=a.height,q=a.layout,R=a.width,L=_==="horizontal"||q==="horizontal",M=L?R:N,w=k(a,i,m),y=ie(a,m),s=Math.max(0,Math.min(y-M,w.offset)),l=Math.max(0,w.offset-M+w.size+v);switch(o==="smart"&&(u>=l-M&&u<=s+M?o="auto":o="center"),o){case"start":return s;case"end":return l;case"center":return Math.round(l+(s-l)/2);case"auto":default:return u>=l&&u<=s?u:u<l?l:s}},getStartIndexForOffset:function(a,i,o){return Pe(a,o,i)},getStopIndexForStartIndex:function(a,i,o,u){for(var m=a.direction,v=a.height,_=a.itemCount,N=a.layout,q=a.width,R=m==="horizontal"||N==="horizontal",L=R?q:v,M=k(a,i,u),w=o+L,y=M.offset+M.size,s=i;s<_-1&&y<w;)s++,y+=k(a,s,u).size;return s},initInstanceProps:function(a,i){var o=a,u=o.estimatedItemSize,m={itemMetadataMap:{},estimatedItemSize:u||Fe,lastMeasuredIndex:-1};return i.resetAfterIndex=function(v,_){_===void 0&&(_=!0),m.lastMeasuredIndex=Math.min(m.lastMeasuredIndex,v-1),i._getItemStyleCache(-1),_&&i.forceUpdate()},m},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(a){a.itemSize}});const De="_pipelines_gqxnv_2",ke="_fadeIn_gqxnv_1",Ee="_header_gqxnv_14",Ae="_title_gqxnv_18",He="_subtitle_gqxnv_25",We="_controls_gqxnv_32",Ue="_searchContainer_gqxnv_40",Ge="_searchIcon_gqxnv_46",Ve="_searchInput_gqxnv_56",Be="_filterToggle_gqxnv_73",Ke="_active_gqxnv_91",Xe="_toggleIcon_gqxnv_97",Ye="_rotated_gqxnv_101",Ze="_sortControls_gqxnv_105",Je="_sortSelect_gqxnv_111",Qe="_sortOrder_gqxnv_120",et="_filtersPanel_gqxnv_138",tt="_slideDown_gqxnv_1",st="_filterGroup_gqxnv_152",nt="_filterLabel_gqxnv_160",at="_statusFilters_gqxnv_167",rt="_statusFilter_gqxnv_167",it="_healthy_gqxnv_197",ot="_warning_gqxnv_203",lt="_failed_gqxnv_209",ct="_processing_gqxnv_215",dt="_sourceFilter_gqxnv_221",ut="_teamFilter_gqxnv_231",mt="_classificationFilter_gqxnv_232",ht="_pipelinesList_gqxnv_252",ft="_listHeader_gqxnv_259",gt="_columnHeaders_gqxnv_268",vt="_headerCell_gqxnv_280",_t="_resultCount_gqxnv_288",pt="_loadingIndicator_gqxnv_293",xt="_virtualContainer_gqxnv_301",St="_virtualList_gqxnv_306",It="_virtualRow_gqxnv_328",Ct="_pipelineRow_gqxnv_333",jt="_expanded_gqxnv_346",Nt="_rowContent_gqxnv_351",wt="_pipelineInfo_gqxnv_358",Tt="_pipelineName_gqxnv_366",qt="_name_gqxnv_370",yt="_source_gqxnv_221",bt="_pipelineMetadata_gqxnv_388",Rt="_metadataItem_gqxnv_395",Mt="_metadataLabel_gqxnv_403",Lt="_classification_gqxnv_232",zt="_internal_gqxnv_421",Ft="_confidential_gqxnv_426",Pt="_secret_gqxnv_431",$t="_statusCell_gqxnv_436",Ot="_statusIcon_gqxnv_443",Dt="_statusText_gqxnv_453",kt="_metricCell_gqxnv_464",Et="_metricValue_gqxnv_471",At="_metricLabel_gqxnv_477",Ht="_failureRate_gqxnv_483",Wt="_low_gqxnv_488",Ut="_high_gqxnv_489",Gt="_actions_gqxnv_491",Vt="_actionButton_gqxnv_496",Bt="_expandIcon_gqxnv_518",Kt="_expandedContent_gqxnv_528",Xt="_expandDown_gqxnv_1",Yt="_expandedGrid_gqxnv_540",Zt="_chartSection_gqxnv_547",Jt="_errorsSection_gqxnv_552",Qt="_configSection_gqxnv_557",es="_dependenciesSection_gqxnv_562",ts="_sectionTitle_gqxnv_567",ss="_sectionIcon_gqxnv_577",ns="_chartContainer_gqxnv_583",as="_errorsList_gqxnv_590",rs="_errorItem_gqxnv_595",is="_error_gqxnv_552",os="_errorTime_gqxnv_616",ls="_errorMessage_gqxnv_621",cs="_noErrors_gqxnv_626",ds="_configGrid_gqxnv_633",us="_configItem_gqxnv_639",ms="_configKey_gqxnv_649",hs="_configValue_gqxnv_654",fs="_dependenciesList_gqxnv_660",gs="_dependencyItem_gqxnv_666",vs="_dependencyName_gqxnv_676",_s="_noDependencies_gqxnv_681",t={pipelines:De,fadeIn:ke,header:Ee,title:Ae,subtitle:He,controls:We,searchContainer:Ue,searchIcon:Ge,searchInput:Ve,filterToggle:Be,active:Ke,toggleIcon:Xe,rotated:Ye,sortControls:Ze,sortSelect:Je,sortOrder:Qe,filtersPanel:et,slideDown:tt,filterGroup:st,filterLabel:nt,statusFilters:at,statusFilter:rt,healthy:it,warning:ot,failed:lt,processing:ct,sourceFilter:dt,teamFilter:ut,classificationFilter:mt,pipelinesList:ht,listHeader:ft,columnHeaders:gt,headerCell:vt,resultCount:_t,loadingIndicator:pt,virtualContainer:xt,virtualList:St,virtualRow:It,pipelineRow:Ct,expanded:jt,rowContent:Nt,pipelineInfo:wt,pipelineName:Tt,name:qt,source:yt,pipelineMetadata:bt,metadataItem:Rt,metadataLabel:Mt,classification:Lt,public:"_public_gqxnv_416",internal:zt,confidential:Ft,secret:Pt,statusCell:$t,statusIcon:Ot,statusText:Dt,metricCell:kt,metricValue:Et,metricLabel:At,failureRate:Ht,low:Wt,high:Ut,actions:Gt,actionButton:Vt,expandIcon:Bt,expandedContent:Kt,expandDown:Xt,expandedGrid:Yt,chartSection:Zt,errorsSection:Jt,configSection:Qt,dependenciesSection:es,sectionTitle:ts,sectionIcon:ss,chartContainer:ns,errorsList:as,errorItem:rs,error:is,errorTime:os,errorMessage:ls,noErrors:cs,configGrid:ds,configItem:us,configKey:ms,configValue:hs,dependenciesList:fs,dependencyItem:gs,dependencyName:vs,noDependencies:_s},ps=T.memo(()=>{const[c]=T.useState(Y),[a,i]=T.useState(""),[o,u]=T.useState(new Set),[m,v]=T.useState("all"),[_,N]=T.useState("all"),[q,R]=T.useState("all"),[L,M]=T.useState("name"),[w,y]=T.useState("asc"),[s,l]=T.useState(new Set),[d,p]=T.useState(!1),h=T.useRef(null),C=()=>{const n=[],g=new Date;for(let r=23;r>=0;r--){const x=new Date(g.getTime()-r*60*60*1e3),z=45+Math.sin(r*.5)*15+Math.random()*20;n.push({time:x.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),processingTime:Math.max(10,Math.floor(z))})}return n},f=n=>{const g=[];return n.status==="failed"&&n.lastFailureReason&&g.push({timestamp:new Date(n.lastRun.getTime()+Math.random()*60*60*1e3),message:n.lastFailureReason,level:"error"}),n.status==="warning"&&(n.lastFailureReason?g.push({timestamp:new Date(Date.now()-Math.random()*1*60*60*1e3),message:n.lastFailureReason,level:"warning"}):g.push({timestamp:new Date(Date.now()-Math.random()*1*60*60*1e3),message:`Performance degradation detected - ${n.failureRate}% failure rate`,level:"warning"})),n.avgProcessingTime>n.slaRequirement&&g.push({timestamp:new Date(Date.now()-Math.random()*2*60*60*1e3),message:`SLA breach: Processing time (${n.avgProcessingTime}min) exceeds requirement (${n.slaRequirement}min)`,level:"warning"}),g},S=n=>({ownerTeam:n.ownerTeam,dataClassification:n.dataClassification,region:n.region,slaRequirement:`${n.slaRequirement} minutes`,dataType:n.dataType,process:n.process,maintenanceWindow:n.maintenanceWindow||"Not scheduled",avgProcessingTime:`${n.avgProcessingTime} minutes`,recordsProcessed:n.recordsProcessed.toLocaleString(),failureRate:`${n.failureRate}%`}),j=n=>!n.dependsOn||n.dependsOn.length===0?[]:n.dependsOn.map(g=>{const r=Y.find(x=>x.id===g);return r?{id:r.id,name:r.name,status:r.status}:null}).filter(Boolean),b=T.useMemo(()=>c.filter(n=>{const g=n.name.toLowerCase().includes(a.toLowerCase())||n.source.toLowerCase().includes(a.toLowerCase())||n.ownerTeam.toLowerCase().includes(a.toLowerCase()),r=o.size===0||o.has(n.status),x=m==="all"||n.source===m,z=_==="all"||n.ownerTeam===_,I=q==="all"||n.dataClassification===q;return g&&r&&x&&z&&I}).sort((n,g)=>{let r,x;switch(L){case"name":r=n.name.toLowerCase(),x=g.name.toLowerCase();break;case"lastRun":r=n.lastRun.getTime(),x=g.lastRun.getTime();break;case"status":r=n.status,x=g.status;break;case"source":r=n.source,x=g.source;break;case"failureRate":r=n.failureRate,x=g.failureRate;break;default:return 0}return w==="asc"?r<x?-1:r>x?1:0:r>x?-1:r<x?1:0}),[c,a,o,m,_,q,L,w]),P=[...new Set(c.map(n=>n.ownerTeam))],$=[...new Set(c.map(n=>n.dataClassification))],O=n=>{const g=new Set(o);g.has(n)?g.delete(n):g.add(n),u(g)},A=T.useCallback(n=>{console.log("Toggling pipeline:",n),l(g=>{const r=new Set(g);return r.has(n)?r.delete(n):r.add(n),setTimeout(()=>{h.current&&h.current.resetAfterIndex(0)},0),setTimeout(()=>{h.current&&h.current.resetAfterIndex(0)},50),r})},[]),E=n=>{switch(n){case"healthy":return e.jsx(Ce,{className:`${t.statusIcon} ${t.healthy}`});case"warning":return e.jsx(Ie,{className:`${t.statusIcon} ${t.warning}`});case"failed":return e.jsx(Se,{className:`${t.statusIcon} ${t.failed}`});case"processing":return e.jsx(xe,{className:`${t.statusIcon} ${t.processing}`})}},U=n=>{const r=new Date().getTime()-n.getTime(),x=Math.floor(r/(1e3*60)),z=Math.floor(x/60),I=Math.floor(z/24);return I>0?`${I}d ago`:z>0?`${z}h ago`:x>0?`${x}m ago`:"Just now"},G=(n,g)=>Math.floor(n*60/g).toLocaleString(),V=[...new Set(c.map(n=>n.source))],H=({index:n,style:g})=>{const r=b[n],x=s.has(r.id),z=I=>{const F=I.target;F.closest("button")||F.closest(".actionButton")||(console.log("Pipeline clicked:",r.name),A(r.id))};return e.jsx("div",{style:g,className:t.virtualRow,children:e.jsxs("div",{className:`${t.pipelineRow} ${x?t.expanded:""}`,onClick:z,"data-pipeline-id":r.id,children:[e.jsxs("div",{className:t.rowContent,children:[e.jsxs("div",{className:t.pipelineInfo,children:[e.jsxs("div",{className:t.pipelineName,children:[e.jsx("span",{className:t.name,children:r.name}),e.jsx("span",{className:t.source,children:r.source}),e.jsxs("div",{className:t.pipelineMetadata,children:[e.jsxs("span",{className:t.metadataItem,children:[e.jsx("span",{className:t.metadataLabel,children:"Team:"})," ",r.ownerTeam]}),e.jsxs("span",{className:t.metadataItem,children:[e.jsx("span",{className:t.metadataLabel,children:"Region:"})," ",r.region]}),e.jsx("span",{className:`${t.metadataItem} ${t.classification} ${t[r.dataClassification.toLowerCase()]}`,children:r.dataClassification})]})]}),e.jsxs("div",{className:t.statusCell,children:[E(r.status),e.jsx("span",{className:`${t.statusText} ${t[r.status]}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),e.jsxs("div",{className:t.metricCell,children:[e.jsx("span",{className:t.metricValue,children:U(r.lastRun)}),e.jsx("span",{className:t.metricLabel,children:"Last Run"})]}),e.jsxs("div",{className:t.metricCell,children:[e.jsxs("span",{className:t.metricValue,children:[r.avgProcessingTime,"m"]}),e.jsx("span",{className:t.metricLabel,children:"Avg Time"})]}),e.jsxs("div",{className:t.metricCell,children:[e.jsx("span",{className:t.metricValue,children:G(r.recordsProcessed,r.avgProcessingTime)}),e.jsx("span",{className:t.metricLabel,children:"Records/Hour"})]}),e.jsxs("div",{className:t.metricCell,children:[e.jsxs("span",{className:`${t.failureRate} ${r.failureRate>5?t.high:t.low}`,children:[r.failureRate,"%"]}),e.jsx("span",{className:t.metricLabel,children:"Failure Rate"})]}),e.jsxs("div",{className:t.actions,children:[r.status==="processing"?e.jsx("button",{className:t.actionButton,title:"Pause Pipeline",children:e.jsx(je,{size:16})}):e.jsx("button",{className:t.actionButton,title:"Run Pipeline",children:e.jsx(Ne,{size:16})}),e.jsx("button",{className:t.actionButton,title:"Configure Pipeline",children:e.jsx(Q,{size:16})})]})]}),e.jsx("div",{className:t.expandIcon,children:x?e.jsx(J,{size:20}):e.jsx(B,{size:20})})]}),x&&e.jsx("div",{className:t.expandedContent,children:e.jsxs("div",{className:t.expandedGrid,children:[e.jsxs("div",{className:t.chartSection,children:[e.jsxs("h4",{className:t.sectionTitle,children:[e.jsx(ee,{className:t.sectionIcon}),"24-Hour Processing Time Trend"]}),e.jsx("div",{className:t.chartContainer,children:e.jsx(de,{width:"100%",height:200,children:e.jsxs(ue,{data:C(),children:[e.jsx(me,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(he,{dataKey:"time",tick:{fill:"#ccc",fontSize:11},interval:2}),e.jsx(fe,{tick:{fill:"#ccc"},label:{value:"Minutes",angle:-90,position:"insideLeft"}}),e.jsx(ge,{labelFormatter:I=>`Time: ${I}`,formatter:I=>[`${I} min`,"Processing Time"],contentStyle:{backgroundColor:"#252526",border:"1px solid #333",borderRadius:"6px"}}),e.jsx(ve,{type:"monotone",dataKey:"processingTime",stroke:"#1890ff",strokeWidth:2,dot:{fill:"#1890ff",strokeWidth:0,r:2},activeDot:{r:4,stroke:"#1890ff",strokeWidth:2}})]})})})]}),e.jsxs("div",{className:t.errorsSection,children:[e.jsxs("h4",{className:t.sectionTitle,children:[e.jsx(we,{className:t.sectionIcon}),"Recent Issues"]}),e.jsx("div",{className:t.errorsList,children:f(r).length>0?f(r).map((I,F)=>e.jsxs("div",{className:`${t.errorItem} ${t[I.level]}`,children:[e.jsx("div",{className:t.errorTime,children:I.timestamp.toLocaleTimeString()}),e.jsx("div",{className:t.errorMessage,children:I.message})]},F)):e.jsx("div",{className:t.noErrors,children:"No recent issues"})})]}),e.jsxs("div",{className:t.configSection,children:[e.jsxs("h4",{className:t.sectionTitle,children:[e.jsx(Q,{className:t.sectionIcon}),"Configuration"]}),e.jsx("div",{className:t.configGrid,children:Object.entries(S(r)).map(([I,F])=>e.jsxs("div",{className:t.configItem,children:[e.jsxs("span",{className:t.configKey,children:[I.replace(/([A-Z])/g," $1").replace(/^./,W=>W.toUpperCase()),":"]}),e.jsx("span",{className:t.configValue,children:F})]},I))})]}),e.jsxs("div",{className:t.dependenciesSection,children:[e.jsxs("h4",{className:t.sectionTitle,children:[e.jsx(ee,{className:t.sectionIcon}),"Dependencies"]}),e.jsx("div",{className:t.dependenciesList,children:j(r).length>0?j(r).map(I=>e.jsxs("div",{className:t.dependencyItem,children:[E(I.status),e.jsx("span",{className:t.dependencyName,children:I.name})]},I.id)):e.jsx("div",{className:t.noDependencies,children:"No dependencies"})})]})]})})]})})};return e.jsxs("div",{className:t.pipelines,children:[e.jsxs("div",{className:t.header,children:[e.jsx("h1",{className:t.title,children:"Pipeline Management"}),e.jsx("p",{className:t.subtitle,children:"Monitor and manage your threat intelligence data pipelines"}),e.jsxs("div",{style:{color:"#888",fontSize:"0.8rem",marginTop:"10px"},children:["Expanded pipelines: ",s.size," | Expanded IDs: [",Array.from(s).join(", "),"] |",e.jsx("button",{onClick:()=>{console.log("Test toggle first pipeline"),b.length>0&&A(b[0].id)},style:{marginLeft:"10px",padding:"4px 8px",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"},children:"Test Toggle First Pipeline"}),e.jsx("button",{onClick:()=>{console.log("Clear all expanded"),l(new Set)},style:{marginLeft:"10px",padding:"4px 8px",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"},children:"Clear All"})]})]}),e.jsxs("div",{className:t.controls,children:[e.jsxs("div",{className:t.searchContainer,children:[e.jsx(_e,{className:t.searchIcon}),e.jsx("input",{type:"text",placeholder:"Search pipelines...",value:a,onChange:n=>i(n.target.value),className:t.searchInput})]}),e.jsxs("button",{className:`${t.filterToggle} ${d?t.active:""}`,onClick:()=>p(!d),children:[e.jsx(pe,{size:16}),"Filters",e.jsx(B,{className:`${t.toggleIcon} ${d?t.rotated:""}`})]}),e.jsxs("div",{className:t.sortControls,children:[e.jsxs("select",{value:L,onChange:n=>M(n.target.value),className:t.sortSelect,children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"lastRun",children:"Sort by Last Run"}),e.jsx("option",{value:"status",children:"Sort by Status"}),e.jsx("option",{value:"source",children:"Sort by Source"}),e.jsx("option",{value:"failureRate",children:"Sort by Failure Rate"})]}),e.jsx("button",{className:t.sortOrder,onClick:()=>y(w==="asc"?"desc":"asc"),children:w==="asc"?e.jsx(J,{size:16}):e.jsx(B,{size:16})})]})]}),d&&e.jsxs("div",{className:t.filtersPanel,children:[e.jsxs("div",{className:t.filterGroup,children:[e.jsx("label",{className:t.filterLabel,children:"Status:"}),e.jsx("div",{className:t.statusFilters,children:["healthy","warning","failed","processing"].map(n=>e.jsxs("button",{className:`${t.statusFilter} ${o.has(n)?t.active:""} ${t[n]}`,onClick:()=>O(n),children:[E(n),n.charAt(0).toUpperCase()+n.slice(1)]},n))})]}),e.jsxs("div",{className:t.filterGroup,children:[e.jsx("label",{className:t.filterLabel,children:"Source System:"}),e.jsxs("select",{value:m,onChange:n=>v(n.target.value),className:t.sourceFilter,children:[e.jsx("option",{value:"all",children:"All Sources"}),V.map(n=>e.jsx("option",{value:n,children:n},n))]})]}),e.jsxs("div",{className:t.filterGroup,children:[e.jsx("label",{className:t.filterLabel,children:"Owner Team:"}),e.jsxs("select",{value:_,onChange:n=>N(n.target.value),className:t.teamFilter,children:[e.jsx("option",{value:"all",children:"All Teams"}),P.map(n=>e.jsx("option",{value:n,children:n},n))]})]}),e.jsxs("div",{className:t.filterGroup,children:[e.jsx("label",{className:t.filterLabel,children:"Classification:"}),e.jsxs("select",{value:q,onChange:n=>R(n.target.value),className:t.classificationFilter,children:[e.jsx("option",{value:"all",children:"All Classifications"}),$.map(n=>e.jsx("option",{value:n,children:n},n))]})]})]}),e.jsxs("div",{className:t.pipelinesList,children:[e.jsx("div",{className:t.listHeader,children:e.jsxs("span",{className:t.resultCount,children:[b.length," of ",c.length," pipelines"]})}),e.jsxs("div",{className:t.columnHeaders,children:[e.jsx("div",{className:t.headerCell,children:"Pipeline"}),e.jsx("div",{className:t.headerCell,children:"Status"}),e.jsx("div",{className:t.headerCell,children:"Last Run"}),e.jsx("div",{className:t.headerCell,children:"Avg Time"}),e.jsx("div",{className:t.headerCell,children:"Records/Hour"}),e.jsx("div",{className:t.headerCell,children:"Failure"}),e.jsx("div",{className:t.headerCell,children:"Actions"}),e.jsx("div",{className:t.headerCell})]}),e.jsx("div",{className:t.virtualContainer,children:e.jsx(Oe,{ref:h,height:600,width:"100%",itemCount:b.length,itemSize:n=>{const g=b[n];return s.has(g.id)?480:100},className:t.virtualList,children:H},`${s.size}-${Array.from(s).join(",")}`)})]})]})});ps.displayName="Pipelines";export{ps as default};
//# sourceMappingURL=Pipelines-CA1WJoMh.js.map
