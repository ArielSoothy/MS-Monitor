import{j as e}from"./index-BP8q5Izt.js";import{r as i}from"./charts-DwVu4C-4.js";import{H as B}from"./HowItWorksModal-CElEZR-v.js";import{C as F}from"./ChallengesModal-XxEpkmUu.js";import{R as x,j as V,i as O,S as g,D as T,a as j,Z as $,b as p,a0 as v,H as _,a1 as G,A as f,u as E,$ as q,T as N,p as A}from"./icons-DTFXYCiL.js";import"./vendor-Csw2ODfV.js";import"./router-Uvrq3glh.js";const Q="_infrastructurePage_ufcd2_1",W="_header_ufcd2_9",Z="_titleSection_ufcd2_18",K="_titleIcon_ufcd2_24",J="_infoButton_ufcd2_38",X="_challengesButton_ufcd2_59",Y="_refreshInfo_ufcd2_73",ee="_loadingContainer_ufcd2_81",se="_loadingIcon_ufcd2_91",te="_clusterOverview_ufcd2_101",ae="_overviewCard_ufcd2_108",ie="_overviewStats_ufcd2_132",ce="_overviewStat_ufcd2_132",ne="_statValue_ufcd2_145",re="_statLabel_ufcd2_152",oe="_nodeHealthSection_ufcd2_160",le="_nodeGrid_ufcd2_171",de="_nodeCard_ufcd2_177",ue="_selected_ufcd2_192",he="_nodeHeader_ufcd2_197",me="_nodeStatus_ufcd2_204",xe="_nodeRegion_ufcd2_212",ge="_nodeId_ufcd2_217",je="_nodeMetrics_ufcd2_228",pe="_nodeMetric_ufcd2_228",ve="_nodePerformance_ufcd2_247",_e="_perfMetric_ufcd2_255",fe="_nodeDetailView_ufcd2_263",Ne="_nodeDetailGrid_ufcd2_280",Se="_detailCard_ufcd2_286",we="_detailMetrics_ufcd2_300",ye="_detailMetric_ufcd2_300",Ce="_resourceBars_ufcd2_329",Me="_resourceBar_ufcd2_329",be="_resourceLabel_ufcd2_341",ze="_resourceProgress_ufcd2_354",Ue="_resourceFill_ufcd2_361",He="_costOptimizationSection_ufcd2_368",Ie="_costGrid_ufcd2_379",Le="_costCard_ufcd2_385",ke="_costMetrics_ufcd2_399",De="_costMetric_ufcd2_399",Pe="_optimizationSuggestions_ufcd2_426",Re="_suggestion_ufcd2_440",Be="_suggestionHeader_ufcd2_452",Fe="_suggestionType_ufcd2_459",Ve="_suggestionSavings_ufcd2_470",Oe="_suggestionDescription_ufcd2_476",Te="_suggestionComplexity_ufcd2_483",$e="_complexityBadge_ufcd2_488",s={infrastructurePage:Q,header:W,titleSection:Z,titleIcon:K,infoButton:J,challengesButton:X,refreshInfo:Y,loadingContainer:ee,loadingIcon:se,clusterOverview:te,overviewCard:ae,overviewStats:ie,overviewStat:ce,statValue:ne,statLabel:re,nodeHealthSection:oe,nodeGrid:le,nodeCard:de,selected:ue,nodeHeader:he,nodeStatus:me,nodeRegion:xe,nodeId:ge,nodeMetrics:je,nodeMetric:pe,nodePerformance:ve,perfMetric:_e,nodeDetailView:fe,nodeDetailGrid:Ne,detailCard:Se,detailMetrics:we,detailMetric:ye,resourceBars:Ce,resourceBar:Me,resourceLabel:be,resourceProgress:ze,resourceFill:Ue,costOptimizationSection:He,costGrid:Ie,costCard:Le,costMetrics:ke,costMetric:De,optimizationSuggestions:Pe,suggestion:Re,suggestionHeader:Be,suggestionType:Fe,suggestionSavings:Ve,suggestionDescription:Oe,suggestionComplexity:Te,complexityBadge:$e},Ke=()=>{const[r,S]=i.useState([]),[o,w]=i.useState(null),[n,y]=i.useState(null),[c,C]=i.useState(null),[a,M]=i.useState(null),[b,d]=i.useState(!0),[z,U]=i.useState(new Date),[H,u]=i.useState(!1),[I,h]=i.useState(!1);i.useEffect(()=>{m();const t=setInterval(()=>{m(),U(new Date)},15e3);return()=>clearInterval(t)},[]);const m=async()=>{try{d(!0);const t=[{nodeId:"adx-node-01-israelcentral",region:"Israel Central",status:"healthy",uptime:168.7,cpuUsage:34.2,memoryUsage:67.8,diskUsage:23.1,networkLatency:2.3,activeConnections:847,queriesPerSecond:156.4,cacheHitRate:87.3,lastHeartbeat:new Date(Date.now()-1e3)},{nodeId:"adx-node-02-israelcentral",region:"Israel Central",status:"healthy",uptime:168.7,cpuUsage:42.1,memoryUsage:71.2,diskUsage:24.8,networkLatency:1.9,activeConnections:923,queriesPerSecond:178.2,cacheHitRate:89.1,lastHeartbeat:new Date(Date.now()-2e3)},{nodeId:"adx-node-03-israelcentral",region:"Israel Central",status:"warning",uptime:168.7,cpuUsage:78.9,memoryUsage:89.4,diskUsage:82.3,networkLatency:4.7,activeConnections:1247,queriesPerSecond:89.7,cacheHitRate:67.2,lastHeartbeat:new Date(Date.now()-3e3)},{nodeId:"adx-node-04-westeurope",region:"West Europe",status:"healthy",uptime:72.3,cpuUsage:28.7,memoryUsage:55.1,diskUsage:19.4,networkLatency:12.4,activeConnections:456,queriesPerSecond:67.8,cacheHitRate:91.7,lastHeartbeat:new Date(Date.now()-1500)},{nodeId:"adx-node-05-eastus",region:"East US",status:"maintenance",uptime:0,cpuUsage:0,memoryUsage:0,diskUsage:0,networkLatency:0,activeConnections:0,queriesPerSecond:0,cacheHitRate:0,lastHeartbeat:new Date(Date.now()-3e5)},{nodeId:"adx-node-06-australiaeast",region:"Australia East",status:"critical",uptime:2.1,cpuUsage:95.7,memoryUsage:98.2,diskUsage:94.1,networkLatency:45.7,activeConnections:2847,queriesPerSecond:12.3,cacheHitRate:23.4,lastHeartbeat:new Date(Date.now()-3e4)}],l={authenticationRate:99.97,failedLogins:247,blockedRequests:1847,activeThreats:3,securityEvents:15672,complianceScore:94.2,dataEncryptionStatus:"enabled",accessControlStatus:"compliant"},P={currentCapacity:6,maxCapacity:12,autoScalingEnabled:!0,scaleEvents:[{timestamp:new Date(Date.now()-36e5),action:"scale_up",reason:"High CPU utilization (>80%) for 15 minutes",nodes:1},{timestamp:new Date(Date.now()-72e5),action:"scale_down",reason:"Low resource utilization (<30%) for 2 hours",nodes:1}],resourcePrediction:{nextHour:78.4,next24Hours:65.2,trend:"increasing"}},R={currentMonthlyCost:8947.32,projectedMonthlyCost:9234.18,costPerQuery:.00234,resourceUtilization:67.8,optimizationSuggestions:[{type:"compute",description:"Right-size compute instances based on actual usage patterns",potentialSavings:1247.5,complexity:"medium"},{type:"storage",description:"Implement data lifecycle policies for cold storage",potentialSavings:892.3,complexity:"low"},{type:"network",description:"Optimize cross-region data transfer patterns",potentialSavings:456.2,complexity:"high"}]};S(t),w(l),y(P),C(R)}catch(t){console.error("Failed to load infrastructure data:",t)}finally{d(!1)}},L=t=>{switch(t){case"healthy":return"#10b981";case"warning":return"#f59e0b";case"critical":return"#ef4444";case"maintenance":return"#6b7280";default:return"#6b7280"}},k=t=>{switch(t){case"healthy":return e.jsx(A,{size:16});case"warning":return e.jsx(N,{size:16});case"critical":return e.jsx(N,{size:16});case"maintenance":return e.jsx(q,{size:16});default:return e.jsx(f,{size:16})}},D=t=>{switch(t){case"increasing":return e.jsx(j,{size:16,style:{color:"#ef4444"}});case"decreasing":return e.jsx(E,{size:16,style:{color:"#10b981"}});default:return e.jsx(f,{size:16,style:{color:"#6b7280"}})}};return b?e.jsxs("div",{className:s.loadingContainer,children:[e.jsx(x,{className:s.loadingIcon}),e.jsx("span",{children:"Loading infrastructure metrics..."})]}):e.jsxs("div",{className:s.infrastructurePage,children:[e.jsxs("div",{className:s.header,children:[e.jsxs("div",{className:s.titleSection,children:[e.jsx(V,{className:s.titleIcon}),e.jsxs("div",{children:[e.jsxs("h1",{children:["Infrastructure Monitoring",e.jsx("button",{className:s.infoButton,onClick:()=>u(!0),title:"How does this system work?",children:e.jsx(O,{size:18})}),e.jsx("button",{className:`${s.infoButton} ${s.challengesButton}`,onClick:()=>h(!0),title:"Implementation Challenges",children:e.jsx(g,{size:18})})]}),e.jsx("p",{children:"Real-time cluster health, security, scaling, and cost optimization"})]})]}),e.jsxs("div",{className:s.refreshInfo,children:[e.jsx(x,{size:16}),e.jsxs("span",{children:["Last refresh: ",z.toLocaleTimeString()]})]})]}),e.jsxs("div",{className:s.clusterOverview,children:[e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx(T,{size:20})," Cluster Status"]}),e.jsxs("div",{className:s.overviewStats,children:[e.jsxs("div",{className:s.overviewStat,children:[e.jsx("span",{className:s.statValue,children:r.filter(t=>t.status==="healthy").length}),e.jsx("span",{className:s.statLabel,children:"Healthy Nodes"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsx("span",{className:s.statValue,children:r.filter(t=>t.status==="warning").length}),e.jsx("span",{className:s.statLabel,children:"Warning"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsx("span",{className:s.statValue,children:r.filter(t=>t.status==="critical").length}),e.jsx("span",{className:s.statLabel,children:"Critical"})]})]})]}),o&&e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx(g,{size:20})," Security"]}),e.jsxs("div",{className:s.overviewStats,children:[e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:[o.complianceScore,"%"]}),e.jsx("span",{className:s.statLabel,children:"Compliance"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsx("span",{className:s.statValue,children:o.activeThreats}),e.jsx("span",{className:s.statLabel,children:"Active Threats"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:[o.authenticationRate,"%"]}),e.jsx("span",{className:s.statLabel,children:"Auth Success"})]})]})]}),n&&e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx(j,{size:20})," Auto-scaling"]}),e.jsxs("div",{className:s.overviewStats,children:[e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:[n.currentCapacity,"/",n.maxCapacity]}),e.jsx("span",{className:s.statLabel,children:"Capacity"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:[n.resourcePrediction.nextHour,"%"]}),e.jsx("span",{className:s.statLabel,children:"Next Hour"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsx("span",{className:s.statValue,children:D(n.resourcePrediction.trend)}),e.jsx("span",{className:s.statLabel,children:"Trend"})]})]})]}),c&&e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx($,{size:20})," Cost"]}),e.jsxs("div",{className:s.overviewStats,children:[e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:["$",(c.currentMonthlyCost/1e3).toFixed(1),"K"]}),e.jsx("span",{className:s.statLabel,children:"Monthly"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:["$",c.costPerQuery.toFixed(4)]}),e.jsx("span",{className:s.statLabel,children:"Per Query"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:[c.resourceUtilization,"%"]}),e.jsx("span",{className:s.statLabel,children:"Utilization"})]})]})]})]}),e.jsxs("div",{className:s.nodeHealthSection,children:[e.jsx("h2",{children:"Node Health Status"}),e.jsx("div",{className:s.nodeGrid,children:r.map(t=>e.jsxs("div",{className:`${s.nodeCard} ${(a==null?void 0:a.nodeId)===t.nodeId?s.selected:""}`,onClick:()=>M(t),children:[e.jsxs("div",{className:s.nodeHeader,children:[e.jsxs("div",{className:s.nodeStatus,style:{color:L(t.status)},children:[k(t.status),e.jsx("span",{children:t.status})]}),e.jsx("span",{className:s.nodeRegion,children:t.region})]}),e.jsx("div",{className:s.nodeId,children:t.nodeId}),e.jsxs("div",{className:s.nodeMetrics,children:[e.jsxs("div",{className:s.nodeMetric,children:[e.jsx(p,{size:14}),e.jsxs("span",{children:["CPU: ",t.cpuUsage.toFixed(1),"%"]})]}),e.jsxs("div",{className:s.nodeMetric,children:[e.jsx(v,{size:14}),e.jsxs("span",{children:["Memory: ",t.memoryUsage.toFixed(1),"%"]})]}),e.jsxs("div",{className:s.nodeMetric,children:[e.jsx(_,{size:14}),e.jsxs("span",{children:["Disk: ",t.diskUsage.toFixed(1),"%"]})]}),e.jsxs("div",{className:s.nodeMetric,children:[e.jsx(G,{size:14}),e.jsxs("span",{children:["Latency: ",t.networkLatency,"ms"]})]})]}),e.jsxs("div",{className:s.nodePerformance,children:[e.jsx("div",{className:s.perfMetric,children:e.jsxs("span",{children:[t.queriesPerSecond.toFixed(1)," QPS"]})}),e.jsx("div",{className:s.perfMetric,children:e.jsxs("span",{children:[t.cacheHitRate.toFixed(1),"% Cache"]})})]})]},t.nodeId))})]}),a&&e.jsxs("div",{className:s.nodeDetailView,children:[e.jsxs("h3",{children:["Node Details: ",a.nodeId]}),e.jsxs("div",{className:s.nodeDetailGrid,children:[e.jsxs("div",{className:s.detailCard,children:[e.jsx("h4",{children:"Performance Metrics"}),e.jsxs("div",{className:s.detailMetrics,children:[e.jsxs("div",{className:s.detailMetric,children:[e.jsx("span",{children:"Uptime"}),e.jsxs("span",{children:[a.uptime.toFixed(1)," hours"]})]}),e.jsxs("div",{className:s.detailMetric,children:[e.jsx("span",{children:"Active Connections"}),e.jsx("span",{children:a.activeConnections.toLocaleString()})]}),e.jsxs("div",{className:s.detailMetric,children:[e.jsx("span",{children:"Queries per Second"}),e.jsx("span",{children:a.queriesPerSecond.toFixed(1)})]}),e.jsxs("div",{className:s.detailMetric,children:[e.jsx("span",{children:"Cache Hit Rate"}),e.jsxs("span",{children:[a.cacheHitRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:s.detailMetric,children:[e.jsx("span",{children:"Network Latency"}),e.jsxs("span",{children:[a.networkLatency,"ms"]})]})]})]}),e.jsxs("div",{className:s.detailCard,children:[e.jsx("h4",{children:"Resource Utilization"}),e.jsxs("div",{className:s.resourceBars,children:[e.jsxs("div",{className:s.resourceBar,children:[e.jsxs("div",{className:s.resourceLabel,children:[e.jsx(p,{size:16}),e.jsx("span",{children:"CPU Usage"}),e.jsxs("span",{children:[a.cpuUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:s.resourceProgress,children:e.jsx("div",{className:s.resourceFill,style:{width:`${a.cpuUsage}%`,backgroundColor:a.cpuUsage>80?"#ef4444":a.cpuUsage>60?"#f59e0b":"#10b981"}})})]}),e.jsxs("div",{className:s.resourceBar,children:[e.jsxs("div",{className:s.resourceLabel,children:[e.jsx(v,{size:16}),e.jsx("span",{children:"Memory Usage"}),e.jsxs("span",{children:[a.memoryUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:s.resourceProgress,children:e.jsx("div",{className:s.resourceFill,style:{width:`${a.memoryUsage}%`,backgroundColor:a.memoryUsage>80?"#ef4444":a.memoryUsage>60?"#f59e0b":"#10b981"}})})]}),e.jsxs("div",{className:s.resourceBar,children:[e.jsxs("div",{className:s.resourceLabel,children:[e.jsx(_,{size:16}),e.jsx("span",{children:"Disk Usage"}),e.jsxs("span",{children:[a.diskUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:s.resourceProgress,children:e.jsx("div",{className:s.resourceFill,style:{width:`${a.diskUsage}%`,backgroundColor:a.diskUsage>80?"#ef4444":a.diskUsage>60?"#f59e0b":"#10b981"}})})]})]})]})]})]}),c&&e.jsxs("div",{className:s.costOptimizationSection,children:[e.jsx("h2",{children:"Cost Optimization Insights"}),e.jsxs("div",{className:s.costGrid,children:[e.jsxs("div",{className:s.costCard,children:[e.jsx("h4",{children:"Monthly Cost Analysis"}),e.jsxs("div",{className:s.costMetrics,children:[e.jsxs("div",{className:s.costMetric,children:[e.jsx("span",{children:"Current Month"}),e.jsxs("span",{children:["$",c.currentMonthlyCost.toLocaleString()]})]}),e.jsxs("div",{className:s.costMetric,children:[e.jsx("span",{children:"Projected"}),e.jsxs("span",{children:["$",c.projectedMonthlyCost.toLocaleString()]})]}),e.jsxs("div",{className:s.costMetric,children:[e.jsx("span",{children:"Resource Utilization"}),e.jsxs("span",{children:[c.resourceUtilization,"%"]})]})]})]}),e.jsxs("div",{className:s.optimizationSuggestions,children:[e.jsx("h4",{children:"Optimization Recommendations"}),c.optimizationSuggestions.map((t,l)=>e.jsxs("div",{className:s.suggestion,children:[e.jsxs("div",{className:s.suggestionHeader,children:[e.jsx("span",{className:s.suggestionType,children:t.type}),e.jsxs("span",{className:s.suggestionSavings,children:["$",t.potentialSavings.toLocaleString()," savings"]})]}),e.jsx("p",{className:s.suggestionDescription,children:t.description}),e.jsxs("div",{className:s.suggestionComplexity,children:["Complexity: ",e.jsx("span",{className:s.complexityBadge,children:t.complexity})]})]},l))]})]})]}),e.jsx(B,{isOpen:H,onClose:()=>u(!1),section:"infrastructure"}),e.jsx(F,{isOpen:I,onClose:()=>h(!1),section:"infrastructure"})]})};export{Ke as default};
//# sourceMappingURL=Infrastructure-C9Jhzuyq.js.map
