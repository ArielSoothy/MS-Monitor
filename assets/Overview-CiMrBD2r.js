import{m as Te,a as Re,j as e}from"./index-HKzES0-U.js";import{r as o,a as d,P as Ie,b as Pe,C as oe,T as h,B as ce,c as _,X as v,Y as j,d as C,L as ke,e as He}from"./charts-C5h2vIoi.js";import{H as Ae}from"./HowItWorksModal-oKW2DKg_.js";import{I as r,g as i}from"./tooltipContent-BsFA_Dvu.js";import{R as de,e as Le,f as Be,g as De,T as ze,A as he}from"./icons-C30ICxKa.js";import"./vendor-Csw2ODfV.js";import"./router-D-wRvbVe.js";const Me="_overview_vpuq2_1",Fe="_loadingContainer_vpuq2_7",$e="_loadingIcon_vpuq2_16",We="_spin_vpuq2_1",Ke="_header_vpuq2_27",Ve="_headerContent_vpuq2_31",Oe="_titleSection_vpuq2_37",Ge="_title_vpuq2_37",Ue="_infoButton_vpuq2_51",Ee="_subtitle_vpuq2_71",Xe="_headerActions_vpuq2_77",Ye="_howItWorksButton_vpuq2_83",Je="_refreshInfo_vpuq2_109",Qe="_refreshIcon_vpuq2_117",Ze="_refreshText_vpuq2_122",et="_metricsHeader_vpuq2_127",tt="_metricCard_vpuq2_134",st="_metricHeader_vpuq2_148",at="_metricIcon_vpuq2_154",it="_healthy_vpuq2_161",nt="_warning_vpuq2_165",lt="_metricTitle_vpuq2_169",rt="_metricValue_vpuq2_175",ot="_metricSubtext_vpuq2_182",ct="_metricBreakdown_vpuq2_187",dt="_statusBadge_vpuq2_194",ht="_dashboardGrid_vpuq2_204",mt="_chartCard_vpuq2_223",ut="_chartTitle_vpuq2_237",pt="_chartSubtitle_vpuq2_244",xt="_chartLegend_vpuq2_252",gt="_legendItem_vpuq2_260",ft="_legendColor_vpuq2_268",_t="_failingPipelinesTable_vpuq2_275",vt="_tableHeader_vpuq2_279",jt="_tableRow_vpuq2_290",Ct="_pipelineName_vpuq2_303",Nt="_name_vpuq2_309",yt="_source_vpuq2_315",bt="_status_vpuq2_194",St="_failed_vpuq2_339",wt="_processing_vpuq2_344",qt="_failureRate_vpuq2_349",Tt="_lastRun_vpuq2_355",Rt="_team_vpuq2_360",It="_sla_vpuq2_366",Pt="_recentAlertsCard_vpuq2_372",kt="_alertsList_vpuq2_379",Ht="_alertItem_vpuq2_385",At="_critical_vpuq2_396",Lt="_high_vpuq2_400",Bt="_medium_vpuq2_404",Dt="_low_vpuq2_408",zt="_alertInfo_vpuq2_412",Mt="_alertMessage_vpuq2_418",Ft="_alertTime_vpuq2_423",$t="_alertSeverity_vpuq2_428",s={overview:Me,loadingContainer:Fe,loadingIcon:$e,spin:We,header:Ke,headerContent:Ve,titleSection:Oe,title:Ge,infoButton:Ue,subtitle:Ee,headerActions:Xe,howItWorksButton:Ye,refreshInfo:Je,refreshIcon:Qe,refreshText:Ze,metricsHeader:et,metricCard:tt,metricHeader:st,metricIcon:at,healthy:it,warning:nt,metricTitle:lt,metricValue:rt,metricSubtext:ot,metricBreakdown:ct,statusBadge:dt,dashboardGrid:ht,chartCard:mt,chartTitle:ut,chartSubtitle:pt,chartLegend:xt,legendItem:gt,legendColor:ft,failingPipelinesTable:_t,tableHeader:vt,tableRow:jt,pipelineName:Ct,name:Nt,source:yt,status:bt,failed:St,processing:wt,failureRate:qt,lastRun:Tt,team:Rt,sla:It,recentAlertsCard:Pt,alertsList:kt,alertItem:Ht,critical:At,high:Lt,medium:Bt,low:Dt,alertInfo:zt,alertMessage:Mt,alertTime:Ft,alertSeverity:$t},Wt=o.memo(()=>{var R,I,P,k,H,A,L,B,D,z,M,F,$,W,K,V,O,G,U,E,X,Y,J,Q,Z,ee,te,se,ae,ie,ne,le,re;const[l]=o.useState(Te),[m]=o.useState(Re),[me,ue]=o.useState(1247),[pe,xe]=o.useState(!0),[ge,fe]=o.useState(new Date),[_e,N]=o.useState(!1),[ve]=o.useState(()=>{const t=[],a=new Date;for(let n=23;n>=0;n--){const c=new Date(a.getTime()-n*60*60*1e3);t.push({time:c.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),rate:Math.floor(Math.random()*500)+800})}return t});o.useEffect(()=>{xe(!1);const t=setInterval(()=>{ue(a=>{const n=(Math.random()-.5)*100,c=Math.max(800,Math.min(1500,a+n));return Math.floor(c)}),fe(new Date)},5e3);return()=>clearInterval(t)},[]);const je=o.useMemo(()=>({totalPipelines:l.length,healthyPipelines:l.filter(t=>t.status==="healthy").length,warningPipelines:l.filter(t=>t.status==="warning").length,failedPipelines:l.filter(t=>t.status==="failed").length,processingPipelines:l.filter(t=>t.status==="processing").length}),[l]),{totalPipelines:y,healthyPipelines:u,warningPipelines:p,failedPipelines:b,processingPipelines:x}=je,Ce=m.filter(t=>!t.resolved).length,Ne=m.filter(t=>!t.resolved&&t.severity==="critical").length,ye=m.filter(t=>!t.resolved&&(t.severity==="high"||t.severity==="medium")).length,S=Math.round((u*100+p*70+x*85)/y),g=[{name:"Healthy",value:u,color:"#52c41a"},{name:"Warning",value:p,color:"#faad14"},{name:"Failed",value:b,color:"#f5222d"},{name:"Processing",value:x,color:"#1890ff"}],be=l.filter(t=>t.status==="failed"||t.status==="warning").sort((t,a)=>a.failureRate-t.failureRate).slice(0,5),Se=l.reduce((t,a)=>{const n=a.ownerTeam||"Unknown";return t[n]||(t[n]={total:0,healthy:0,failed:0,warning:0,processing:0,avgFailureRate:0,totalFailureRate:0}),t[n].total++,t[n][a.status]++,t[n].totalFailureRate+=a.failureRate,t},{}),f=Object.entries(Se).map(([t,a])=>{const n=Math.round(a.healthy/a.total*100),c=Math.round(a.totalFailureRate/a.total*100)/100;return{team:t.length>15?t.substring(0,15)+"...":t,fullTeam:t,healthPercentage:n,avgFailureRate:c,total:a.total,healthy:a.healthy,failed:a.failed,warning:a.warning,processing:a.processing}}).filter(t=>t.total>=3).sort((t,a)=>a.healthPercentage-t.healthPercentage).slice(0,8),we=l.reduce((t,a)=>{const n=a.dataClassification||"Unknown";return t[n]||(t[n]={total:0,healthy:0,failed:0}),t[n].total++,a.status==="healthy"&&t[n].healthy++,a.status==="failed"&&t[n].failed++,t},{}),qe=Object.entries(we).map(([t,a])=>({name:t,total:a.total,healthy:a.healthy,failed:a.failed,healthPercentage:Math.round(a.healthy/a.total*100)})),w=l.filter(t=>{const a=t.slaRequirement||60,n=new Date(t.lastRun);return(new Date().getTime()-n.getTime())/(1e3*60)>a&&t.status!=="processing"}),q=Math.round((l.length-w.length)/l.length*100),T=t=>t>=90?"#52c41a":t>=75?"#faad14":t>=60?"#ff7a45":"#f5222d";return pe?e.jsx("div",{className:s.overview,children:e.jsxs("div",{className:s.loadingContainer,children:[e.jsx(de,{className:s.loadingIcon}),e.jsx("span",{children:"Loading dashboard..."})]})}):e.jsxs("div",{className:s.overview,children:[e.jsx("div",{className:s.header,children:e.jsxs("div",{className:s.headerContent,children:[e.jsxs("div",{className:s.titleSection,children:[e.jsxs("h1",{className:s.title,children:["Threat Intelligence Pipeline Dashboard",e.jsx("button",{className:s.infoButton,onClick:()=>N(!0),title:"How does this system work?",children:e.jsx(Le,{size:18})})]}),e.jsx("p",{className:s.subtitle,children:"Real-time monitoring and analytics"})]}),e.jsx("div",{className:s.headerActions,children:e.jsxs("div",{className:s.refreshInfo,children:[e.jsx(de,{className:s.refreshIcon}),e.jsxs("span",{className:s.refreshText,children:["Last updated: ",ge.toLocaleTimeString()]})]})})]})}),e.jsxs("div",{className:s.metricsHeader,children:[e.jsxs("div",{className:s.metricCard,children:[e.jsxs("div",{className:s.metricHeader,children:[e.jsx(Be,{className:s.metricIcon}),e.jsxs("span",{className:s.metricTitle,children:["Total Pipelines",e.jsx(r,{content:((R=i("totalPipelines"))==null?void 0:R.content)||"Total number of threat intelligence pipelines",title:(I=i("totalPipelines"))==null?void 0:I.title,detailedContent:(P=i("totalPipelines"))==null?void 0:P.detailedContent,position:"top",size:"medium"})]})]}),e.jsx("div",{className:s.metricValue,children:y}),e.jsxs("div",{className:s.metricBreakdown,children:[e.jsxs("span",{className:s.statusBadge,style:{backgroundColor:"#52c41a"},children:[u," Healthy"]}),e.jsxs("span",{className:s.statusBadge,style:{backgroundColor:"#faad14"},children:[p," Warning"]}),e.jsxs("span",{className:s.statusBadge,style:{backgroundColor:"#f5222d"},children:[b," Failed"]}),e.jsxs("span",{className:s.statusBadge,style:{backgroundColor:"#1890ff"},children:[x," Processing"]})]})]}),e.jsxs("div",{className:s.metricCard,children:[e.jsxs("div",{className:s.metricHeader,children:[e.jsx(De,{className:s.metricIcon}),e.jsxs("span",{className:s.metricTitle,children:["Ingestion Rate",e.jsx(r,{content:((k=i("ingestionRate"))==null?void 0:k.content)||"Data ingestion rate across all pipelines",title:(H=i("ingestionRate"))==null?void 0:H.title,detailedContent:(A=i("ingestionRate"))==null?void 0:A.detailedContent,position:"top",size:"medium"})]})]}),e.jsx("div",{className:s.metricValue,children:me.toLocaleString()}),e.jsx("div",{className:s.metricSubtext,children:"files/hour"})]}),e.jsxs("div",{className:s.metricCard,children:[e.jsxs("div",{className:s.metricHeader,children:[e.jsx(ze,{className:`${s.metricIcon} ${s.warning}`}),e.jsxs("span",{className:s.metricTitle,children:["Active Alerts",e.jsx(r,{content:((L=i("activeAlerts"))==null?void 0:L.content)||"Unresolved alerts requiring attention",title:(B=i("activeAlerts"))==null?void 0:B.title,detailedContent:(D=i("activeAlerts"))==null?void 0:D.detailedContent,position:"top",size:"medium"})]})]}),e.jsx("div",{className:s.metricValue,children:Ce}),e.jsxs("div",{className:s.metricSubtext,children:[Ne," critical, ",ye," warnings"]})]}),e.jsxs("div",{className:s.metricCard,children:[e.jsxs("div",{className:s.metricHeader,children:[e.jsx(he,{className:s.metricIcon}),e.jsxs("span",{className:s.metricTitle,children:["System Health",e.jsx(r,{content:((z=i("systemHealthScore"))==null?void 0:z.content)||"Overall system health percentage",title:(M=i("systemHealthScore"))==null?void 0:M.title,detailedContent:(F=i("systemHealthScore"))==null?void 0:F.detailedContent,position:"top",size:"medium"})]})]}),e.jsxs("div",{className:s.metricValue,style:{color:T(S)},children:[S,"%"]}),e.jsx("div",{className:s.metricSubtext,children:"Overall system health"})]}),e.jsxs("div",{className:s.metricCard,children:[e.jsxs("div",{className:s.metricHeader,children:[e.jsx(he,{className:s.metricIcon}),e.jsxs("span",{className:s.metricTitle,children:["SLA Compliance",e.jsx(r,{content:(($=i("slaCompliance"))==null?void 0:$.content)||"Percentage meeting SLA requirements",title:(W=i("slaCompliance"))==null?void 0:W.title,detailedContent:(K=i("slaCompliance"))==null?void 0:K.detailedContent,position:"top",size:"medium"})]})]}),e.jsxs("div",{className:s.metricValue,style:{color:T(q)},children:[q,"%"]}),e.jsxs("div",{className:s.metricSubtext,children:[w.length," SLA breaches",e.jsx(r,{content:((V=i("slaBreaches"))==null?void 0:V.content)||"Pipelines exceeding SLA requirements",title:(O=i("slaBreaches"))==null?void 0:O.title,detailedContent:(G=i("slaBreaches"))==null?void 0:G.detailedContent,position:"top",size:"small"})]})]})]}),e.jsxs("div",{className:s.dashboardGrid,children:[e.jsxs("div",{className:s.chartCard,children:[e.jsxs("h3",{className:s.chartTitle,children:["Pipeline Status Distribution",e.jsx(r,{content:((U=i("pipelineStatusDistribution"))==null?void 0:U.content)||"Breakdown of pipelines by operational status",title:(E=i("pipelineStatusDistribution"))==null?void 0:E.title,detailedContent:(X=i("pipelineStatusDistribution"))==null?void 0:X.detailedContent,position:"top",size:"medium"})]}),e.jsx(d,{width:"100%",height:300,children:e.jsxs(Ie,{children:[e.jsx(Pe,{data:g,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:2,dataKey:"value",children:g.map((t,a)=>e.jsx(oe,{fill:t.color},`cell-${a}`))}),e.jsx(h,{formatter:(t,a)=>[`${t} pipelines`,a],contentStyle:{backgroundColor:"#252526",border:"1px solid #333",borderRadius:"6px"}})]})}),e.jsx("div",{className:s.chartLegend,children:g.map((t,a)=>e.jsxs("div",{className:s.legendItem,children:[e.jsx("div",{className:s.legendColor,style:{backgroundColor:t.color}}),e.jsxs("span",{children:[t.name,": ",t.value]})]},a))})]}),e.jsxs("div",{className:s.chartCard,children:[e.jsxs("h3",{className:s.chartTitle,children:["Team Health Performance",e.jsx(r,{content:((Y=i("teamHealthPerformance"))==null?void 0:Y.content)||"Health score rankings by team",title:(J=i("teamHealthPerformance"))==null?void 0:J.title,detailedContent:(Q=i("teamHealthPerformance"))==null?void 0:Q.detailedContent,position:"top",size:"medium"}),e.jsx("span",{className:s.chartSubtitle,children:"Health Score by Team (min. 3 pipelines)"})]}),e.jsx(d,{width:"100%",height:320,children:e.jsxs(ce,{data:f,layout:"horizontal",margin:{top:5,right:30,left:120,bottom:5},children:[e.jsx(_,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(v,{type:"number",tick:{fill:"#ccc",fontSize:12},domain:[0,100],tickFormatter:t=>`${t}%`}),e.jsx(j,{type:"category",dataKey:"team",tick:{fill:"#ccc",fontSize:10},width:115}),e.jsx(h,{formatter:(t,a)=>a==="healthPercentage"?[`${t}%`,"Health Score"]:[t,a],labelFormatter:t=>{const a=f.find(n=>n.team===t);return a?`Team: ${a.fullTeam}`:`Team: ${t}`},contentStyle:{backgroundColor:"#252526",border:"1px solid #333",borderRadius:"6px"},content:({active:t,payload:a})=>{if(t&&a&&a[0]){const n=a[0].payload;return e.jsxs("div",{style:{backgroundColor:"#252526",border:"1px solid #333",borderRadius:"6px",padding:"8px"},children:[e.jsx("p",{style:{color:"#fff",margin:0,fontWeight:"bold"},children:n.fullTeam}),e.jsxs("p",{style:{color:"#52c41a",margin:"4px 0"},children:["Health Score: ",n.healthPercentage,"%"]}),e.jsxs("p",{style:{color:"#ccc",margin:"2px 0",fontSize:"12px"},children:["Total Pipelines: ",n.total]}),e.jsxs("p",{style:{color:"#52c41a",margin:"2px 0",fontSize:"12px"},children:["Healthy: ",n.healthy]}),e.jsxs("p",{style:{color:"#faad14",margin:"2px 0",fontSize:"12px"},children:["Warning: ",n.warning]}),e.jsxs("p",{style:{color:"#f5222d",margin:"2px 0",fontSize:"12px"},children:["Failed: ",n.failed]}),e.jsxs("p",{style:{color:"#1890ff",margin:"2px 0",fontSize:"12px"},children:["Processing: ",n.processing]})]})}return null}}),e.jsx(C,{dataKey:"healthPercentage",radius:[0,4,4,0],children:f.map((t,a)=>e.jsx(oe,{fill:t.healthPercentage>=90?"#52c41a":t.healthPercentage>=75?"#faad14":t.healthPercentage>=60?"#ff7a45":"#f5222d"},`cell-${a}`))})]})}),e.jsxs("div",{className:s.teamHealthLegend,children:[e.jsxs("div",{className:s.legendItem,children:[e.jsx("div",{className:s.legendColor,style:{backgroundColor:"#52c41a"}}),e.jsx("span",{children:"Excellent (90%+)"})]}),e.jsxs("div",{className:s.legendItem,children:[e.jsx("div",{className:s.legendColor,style:{backgroundColor:"#faad14"}}),e.jsx("span",{children:"Good (75-89%)"})]}),e.jsxs("div",{className:s.legendItem,children:[e.jsx("div",{className:s.legendColor,style:{backgroundColor:"#ff7a45"}}),e.jsx("span",{children:"Fair (60-74%)"})]}),e.jsxs("div",{className:s.legendItem,children:[e.jsx("div",{className:s.legendColor,style:{backgroundColor:"#f5222d"}}),e.jsx("span",{children:"Poor (<60%)"})]})]})]}),e.jsxs("div",{className:s.chartCard,children:[e.jsxs("h3",{className:s.chartTitle,children:["Data Classification Status",e.jsx(r,{content:((Z=i("dataClassificationStatus"))==null?void 0:Z.content)||"Pipeline health by data security classification",title:(ee=i("dataClassificationStatus"))==null?void 0:ee.title,detailedContent:(te=i("dataClassificationStatus"))==null?void 0:te.detailedContent,position:"top",size:"medium"})]}),e.jsx(d,{width:"100%",height:300,children:e.jsxs(ce,{data:qe,children:[e.jsx(_,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(v,{dataKey:"name",tick:{fill:"#ccc",fontSize:11},angle:-45,textAnchor:"end",height:80}),e.jsx(j,{tick:{fill:"#ccc"}}),e.jsx(h,{formatter:(t,a)=>a==="healthy"?[`${t} pipelines`,"Healthy"]:a==="failed"?[`${t} pipelines`,"Failed"]:[t,a],contentStyle:{backgroundColor:"#252526",border:"1px solid #333",borderRadius:"6px"}}),e.jsx(C,{dataKey:"healthy",stackId:"a",fill:"#52c41a"}),e.jsx(C,{dataKey:"failed",stackId:"a",fill:"#f5222d"})]})})]}),e.jsxs("div",{className:s.chartCard,children:[e.jsxs("h3",{className:s.chartTitle,children:["Ingestion Rate (Last 24 Hours)",e.jsx(r,{content:((se=i("ingestionRateTrend"))==null?void 0:se.content)||"Real-time data ingestion volume over 24 hours",title:(ae=i("ingestionRateTrend"))==null?void 0:ae.title,detailedContent:(ie=i("ingestionRateTrend"))==null?void 0:ie.detailedContent,position:"top",size:"medium"})]}),e.jsx(d,{width:"100%",height:300,children:e.jsxs(ke,{data:ve,children:[e.jsx(_,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(v,{dataKey:"time",tick:{fill:"#ccc",fontSize:11},interval:2}),e.jsx(j,{tick:{fill:"#ccc"},domain:["dataMin - 50","dataMax + 50"]}),e.jsx(h,{labelFormatter:t=>`Time: ${t}`,formatter:t=>[`${t} files/hour`,"Ingestion Rate"],contentStyle:{backgroundColor:"#252526",border:"1px solid #333",borderRadius:"6px"}}),e.jsx(He,{type:"monotone",dataKey:"rate",stroke:"#1890ff",strokeWidth:2,dot:{fill:"#1890ff",strokeWidth:0,r:3},activeDot:{r:5,stroke:"#1890ff",strokeWidth:2}})]})})]}),e.jsxs("div",{className:s.chartCard,children:[e.jsxs("h3",{className:s.chartTitle,children:["Top Failing Pipelines",e.jsx(r,{content:((ne=i("topFailingPipelines"))==null?void 0:ne.content)||"Pipelines with highest failure rates requiring attention",title:(le=i("topFailingPipelines"))==null?void 0:le.title,detailedContent:(re=i("topFailingPipelines"))==null?void 0:re.detailedContent,position:"top",size:"medium"})]}),e.jsxs("div",{className:s.failingPipelinesTable,children:[e.jsxs("div",{className:s.tableHeader,children:[e.jsx("span",{children:"Pipeline"}),e.jsx("span",{children:"Team"}),e.jsx("span",{children:"Status"}),e.jsx("span",{children:"Failure Rate"}),e.jsx("span",{children:"SLA"})]}),be.map(t=>e.jsxs("div",{className:s.tableRow,children:[e.jsxs("div",{className:s.pipelineName,children:[e.jsx("span",{className:s.name,children:t.name}),e.jsx("span",{className:s.source,children:t.source})]}),e.jsx("span",{className:s.team,children:t.ownerTeam}),e.jsx("span",{className:`${s.status} ${s[t.status]}`,children:t.status}),e.jsxs("span",{className:s.failureRate,children:[t.failureRate.toFixed(1),"%"]}),e.jsxs("span",{className:s.sla,children:[t.slaRequirement,"m"]})]},t.id))]})]})]}),e.jsx(Ae,{isOpen:_e,onClose:()=>N(!1),section:"overview"})]})});Wt.displayName="Overview";export{Wt as default};
//# sourceMappingURL=Overview-CiMrBD2r.js.map
