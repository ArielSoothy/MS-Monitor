import{j as e}from"./index-BEZnNEcV.js";import{r as a}from"./charts-CVhI3LTv.js";import{D as d,r as k,P as M,R as u,c as D,a2 as b,H as A,Z as E,B as g,q as v,b as P,C as T,o as _,T as O}from"./icons-xX1ujmH_.js";import"./vendor-Csw2ODfV.js";import"./router-BUTKzT10.js";const B="_dataEngineeringPage_v2rea_2",F="_header_v2rea_10",L="_titleSection_v2rea_19",U="_titleIcon_v2rea_25",H="_controls_v2rea_43",Q="_controlButton_v2rea_49",G="_active_v2rea_68",V="_loadingContainer_v2rea_74",$="_loadingIcon_v2rea_84",Z="_spinning_v2rea_93",W="_pipelineSection_v2rea_98",J="_pipelineFlow_v2rea_109",K="_pipelineStageContainer_v2rea_117",X="_pipelineStage_v2rea_117",Y="_stageHeader_v2rea_139",ee="_stageStatus_v2rea_146",ie="_stageType_v2rea_154",te="_stageName_v2rea_165",ae="_stageMetrics_v2rea_173",se="_stageMetric_v2rea_173",ne="_resourceUsage_v2rea_196",re="_resourceMetric_v2rea_206",oe="_optimizations_v2rea_218",ce="_optimization_v2rea_218",le="_moreOptimizations_v2rea_237",de="_pipelineArrow_v2rea_244",me="_qualitySection_v2rea_250",pe="_qualityGrid_v2rea_261",ue="_qualityCard_v2rea_267",ge="_qualityHeader_v2rea_281",ve="_impactBadge_v2rea_296",_e="_qualityDescription_v2rea_308",he="_qualityMetrics_v2rea_315",xe="_qualityMetric_v2rea_315",ye="_passRate_v2rea_337",je="_failedRecords_v2rea_342",fe="_suggestions_v2rea_347",ze="_suggestion_v2rea_347",Se="_optimizationSection_v2rea_380",Ne="_optimizationGrid_v2rea_391",Ie="_optimizationCard_v2rea_397",Ce="_selected_v2rea_412",qe="_optimizationHeader_v2rea_417",we="_categoryBadge_v2rea_424",Re="_effortRisk_v2rea_435",ke="_effort_v2rea_435",Me="_risk_v2rea_447",De="_improvements_v2rea_465",be="_improvement_v2rea_465",Ae="_optimizationDetail_v2rea_485",Ee="_optimizationComparison_v2rea_502",Pe="_currentState_v2rea_509",Te="_optimizedState_v2rea_510",Oe="_transitionArrow_v2rea_540",i={dataEngineeringPage:B,header:F,titleSection:L,titleIcon:U,controls:H,controlButton:Q,active:G,loadingContainer:V,loadingIcon:$,spinning:Z,pipelineSection:W,pipelineFlow:J,pipelineStageContainer:K,pipelineStage:X,stageHeader:Y,stageStatus:ee,stageType:ie,stageName:te,stageMetrics:ae,stageMetric:se,resourceUsage:ne,resourceMetric:re,optimizations:oe,optimization:ce,moreOptimizations:le,pipelineArrow:de,qualitySection:me,qualityGrid:pe,qualityCard:ue,qualityHeader:ge,impactBadge:ve,qualityDescription:_e,qualityMetrics:he,qualityMetric:xe,passRate:ye,failedRecords:je,suggestions:fe,suggestion:ze,optimizationSection:Se,optimizationGrid:Ne,optimizationCard:Ie,selected:Ce,optimizationHeader:qe,categoryBadge:we,effortRisk:Re,effort:ke,risk:Me,improvements:De,improvement:be,optimizationDetail:Ae,optimizationComparison:Ee,currentState:Pe,optimizedState:Te,transitionArrow:Oe},Qe=()=>{const[m,h]=a.useState([]),[x,y]=a.useState([]),[j,f]=a.useState([]),[z,S]=a.useState([]),[o,N]=a.useState(null),[I,p]=a.useState(!0),[n,C]=a.useState(!0);a.useEffect(()=>{if(l(),n){const t=setInterval(l,5e3);return()=>clearInterval(t)}},[n]);const l=async()=>{try{p(!0);const t=[{stageId:"stage-001",name:"Azure AD Log Ingestion",type:"ingestion",status:"running",duration:2847,recordsIn:0,recordsOut:2847592,dataQuality:98.7,resourceUsage:{cpu:23.4,memory:67.8,disk:12.3},optimizations:["Columnar storage format (Parquet)","Compression with Snappy codec","Parallel ingestion with 8 threads"],dependencies:[]},{stageId:"stage-002",name:"Schema Validation & Normalization",type:"validation",status:"completed",duration:1834,recordsIn:2847592,recordsOut:2834156,dataQuality:99.5,resourceUsage:{cpu:45.2,memory:89.3,disk:34.7},optimizations:["Schema registry for validation","Vectorized processing","Bloom filters for fast lookups"],dependencies:["stage-001"]},{stageId:"stage-003",name:"Threat Intelligence Enrichment",type:"enrichment",status:"running",duration:4721,recordsIn:2834156,recordsOut:2834156,dataQuality:96.2,resourceUsage:{cpu:67.9,memory:78.4,disk:45.6},optimizations:["In-memory lookup tables","Distributed hash joins","Adaptive query execution"],dependencies:["stage-002"]},{stageId:"stage-004",name:"Risk Score Calculation",type:"transformation",status:"waiting",duration:0,recordsIn:0,recordsOut:0,dataQuality:0,resourceUsage:{cpu:0,memory:0,disk:0},optimizations:["Vectorized calculations","Model caching","Batch prediction optimization"],dependencies:["stage-003"]},{stageId:"stage-005",name:"Aggregation & Windowing",type:"aggregation",status:"waiting",duration:0,recordsIn:0,recordsOut:0,dataQuality:0,resourceUsage:{cpu:0,memory:0,disk:0},optimizations:["Tumbling windows (5-minute)","Pre-aggregated materialized views","Delta Lake ACID transactions"],dependencies:["stage-004"]}],s=[{ruleName:"IP Address Format Validation",description:"Ensures all IP addresses follow IPv4/IPv6 format standards",passRate:99.97,failedRecords:847,impact:"medium",suggestions:["Implement regex validation at ingestion","Add data quality monitoring alerts","Create quarantine table for invalid IPs"]},{ruleName:"Timestamp Consistency Check",description:"Validates timestamp formats and ranges across all events",passRate:98.42,failedRecords:44832,impact:"high",suggestions:["Standardize timezone handling","Implement timestamp normalization","Add temporal data validation rules"]},{ruleName:"User ID Completeness",description:"Ensures all security events have valid user identifiers",passRate:96.8,failedRecords:90876,impact:"critical",suggestions:["Implement user ID lookup service","Add default values for system accounts","Create user identity resolution pipeline"]},{ruleName:"Geolocation Data Accuracy",description:"Validates IP-to-location mapping accuracy and completeness",passRate:94.3,failedRecords:161847,impact:"medium",suggestions:["Update GeoIP database monthly","Implement fallback geolocation services","Add confidence scores to location data"]}],c=[{category:"partitioning",name:"Time-based Data Partitioning",description:"Implement daily partitioning strategy for security events table",currentState:"Single large table with 2.8B rows",optimizedState:"Daily partitions with automatic pruning",expectedImprovement:{queryTime:75,storageReduction:15,costSavings:40},implementationEffort:"medium",riskLevel:"low"},{category:"indexing",name:"Composite Index Optimization",description:"Create optimal indexes for common query patterns",currentState:"Basic clustered index on timestamp",optimizedState:"Composite indexes on (timestamp, user_id, threat_level)",expectedImprovement:{queryTime:85,storageReduction:-5,costSavings:25},implementationEffort:"low",riskLevel:"low"},{category:"compression",name:"Advanced Compression Strategy",description:"Implement columnar compression with adaptive encoding",currentState:"Row-based storage with basic compression",optimizedState:"Columnar format with adaptive compression",expectedImprovement:{queryTime:45,storageReduction:60,costSavings:55},implementationEffort:"high",riskLevel:"medium"},{category:"caching",name:"Intelligent Query Result Caching",description:"Implement semantic caching for frequent analytical queries",currentState:"No query result caching",optimizedState:"Multi-level caching with TTL and invalidation",expectedImprovement:{queryTime:90,storageReduction:0,costSavings:35},implementationEffort:"medium",riskLevel:"low"},{category:"parallelization",name:"Adaptive Query Parallelization",description:"Dynamic parallelization based on query complexity and data size",currentState:"Fixed parallelism settings",optimizedState:"Adaptive parallelism with cost-based optimization",expectedImprovement:{queryTime:65,storageReduction:0,costSavings:20},implementationEffort:"high",riskLevel:"medium"}],r=[{version:"v2.3.0",timestamp:new Date(Date.now()-864e5),changes:[{type:"added",field:"threat_confidence_score",description:"Added ML-based confidence scoring for threat detection",impact:"non-breaking"},{type:"modified",field:"user_risk_level",description:'Expanded enum values to include "very_high" risk level',impact:"non-breaking"}],compatibility:"backward",migrationRequired:!1},{version:"v2.2.1",timestamp:new Date(Date.now()-2592e5),changes:[{type:"deprecated",field:"legacy_event_type",description:"Deprecated in favor of standardized event_category field",impact:"non-breaking"}],compatibility:"full",migrationRequired:!1}];h(t),y(s),S(c),f(r),console.log("Schema evolution data loaded:",r.length,"entries")}catch(t){console.error("Failed to load data engineering metrics:",t)}finally{p(!1)}},q=t=>{switch(t){case"completed":return"#10b981";case"running":return"#3b82f6";case"failed":return"#ef4444";case"waiting":return"#6b7280";default:return"#6b7280"}},w=t=>{switch(t){case"completed":return e.jsx(v,{size:16});case"running":return e.jsx(u,{size:16,className:i.spinning});case"failed":return e.jsx(O,{size:16});case"waiting":return e.jsx(_,{size:16});default:return e.jsx(_,{size:16})}},R=t=>{switch(t){case"low":return"#10b981";case"medium":return"#f59e0b";case"high":return"#ef4444";case"critical":return"#dc2626";default:return"#6b7280"}};return I?e.jsxs("div",{className:i.loadingContainer,children:[e.jsx(d,{className:i.loadingIcon}),e.jsx("span",{children:"Loading data engineering metrics..."})]}):e.jsxs("div",{className:i.dataEngineeringPage,children:[e.jsxs("div",{className:i.header,children:[e.jsxs("div",{className:i.titleSection,children:[e.jsx(d,{className:i.titleIcon}),e.jsxs("div",{children:[e.jsx("h1",{children:"Data Engineering Excellence"}),e.jsx("p",{children:"Advanced pipeline optimization, data quality monitoring, and schema evolution"})]})]}),e.jsxs("div",{className:i.controls,children:[e.jsxs("button",{className:`${i.controlButton} ${n?i.active:""}`,onClick:()=>C(!n),children:[n?e.jsx(k,{size:16}):e.jsx(M,{size:16}),n?"Pause":"Resume"," Real-time"]}),e.jsxs("button",{className:i.controlButton,onClick:l,children:[e.jsx(u,{size:16}),"Refresh"]})]})]}),e.jsxs("div",{className:i.pipelineSection,children:[e.jsx("h2",{children:"Data Pipeline Flow"}),e.jsx("div",{className:i.pipelineFlow,children:m.map((t,s)=>e.jsxs("div",{className:i.pipelineStageContainer,children:[e.jsxs("div",{className:i.pipelineStage,children:[e.jsxs("div",{className:i.stageHeader,children:[e.jsxs("div",{className:i.stageStatus,style:{color:q(t.status)},children:[w(t.status),e.jsx("span",{children:t.status})]}),e.jsx("span",{className:i.stageType,children:t.type})]}),e.jsx("h4",{className:i.stageName,children:t.name}),e.jsxs("div",{className:i.stageMetrics,children:[e.jsxs("div",{className:i.stageMetric,children:[e.jsx("span",{children:"Duration"}),e.jsx("span",{children:t.duration>0?`${(t.duration/1e3).toFixed(1)}s`:"-"})]}),e.jsxs("div",{className:i.stageMetric,children:[e.jsx("span",{children:"Records In"}),e.jsx("span",{children:t.recordsIn>0?t.recordsIn.toLocaleString():"-"})]}),e.jsxs("div",{className:i.stageMetric,children:[e.jsx("span",{children:"Records Out"}),e.jsx("span",{children:t.recordsOut>0?t.recordsOut.toLocaleString():"-"})]}),e.jsxs("div",{className:i.stageMetric,children:[e.jsx("span",{children:"Quality"}),e.jsx("span",{children:t.dataQuality>0?`${t.dataQuality.toFixed(1)}%`:"-"})]})]}),t.status==="running"&&e.jsxs("div",{className:i.resourceUsage,children:[e.jsxs("div",{className:i.resourceMetric,children:[e.jsx(D,{size:14}),e.jsxs("span",{children:[t.resourceUsage.cpu.toFixed(1),"%"]})]}),e.jsxs("div",{className:i.resourceMetric,children:[e.jsx(b,{size:14}),e.jsxs("span",{children:[t.resourceUsage.memory.toFixed(1),"%"]})]}),e.jsxs("div",{className:i.resourceMetric,children:[e.jsx(A,{size:14}),e.jsxs("span",{children:[t.resourceUsage.disk.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:i.optimizations,children:[t.optimizations.slice(0,2).map((c,r)=>e.jsxs("div",{className:i.optimization,children:[e.jsx(E,{size:12}),e.jsx("span",{children:c})]},r)),t.optimizations.length>2&&e.jsxs("div",{className:i.moreOptimizations,children:["+",t.optimizations.length-2," more"]})]})]}),s<m.length-1&&e.jsx(g,{className:i.pipelineArrow})]},t.stageId))})]}),e.jsxs("div",{className:i.qualitySection,children:[e.jsx("h2",{children:"Data Quality Monitoring"}),e.jsx("div",{className:i.qualityGrid,children:x.map((t,s)=>e.jsxs("div",{className:i.qualityCard,children:[e.jsxs("div",{className:i.qualityHeader,children:[e.jsx("h4",{children:t.ruleName}),e.jsx("div",{className:i.impactBadge,style:{color:R(t.impact)},children:t.impact})]}),e.jsx("p",{className:i.qualityDescription,children:t.description}),e.jsxs("div",{className:i.qualityMetrics,children:[e.jsxs("div",{className:i.qualityMetric,children:[e.jsx("span",{children:"Pass Rate"}),e.jsxs("span",{className:i.passRate,children:[t.passRate.toFixed(2),"%"]})]}),e.jsxs("div",{className:i.qualityMetric,children:[e.jsx("span",{children:"Failed Records"}),e.jsx("span",{className:i.failedRecords,children:t.failedRecords.toLocaleString()})]})]}),e.jsxs("div",{className:i.suggestions,children:[e.jsx("h5",{children:"Improvement Suggestions:"}),t.suggestions.map((c,r)=>e.jsxs("div",{className:i.suggestion,children:[e.jsx(v,{size:12}),e.jsx("span",{children:c})]},r))]})]},s))})]}),e.jsxs("div",{className:i.optimizationSection,children:[e.jsx("h2",{children:"Performance Optimization Opportunities"}),e.jsx("div",{className:i.optimizationGrid,children:z.map((t,s)=>e.jsxs("div",{className:`${i.optimizationCard} ${o===t?i.selected:""}`,onClick:()=>N(t),children:[e.jsxs("div",{className:i.optimizationHeader,children:[e.jsx("div",{className:i.categoryBadge,children:t.category}),e.jsxs("div",{className:i.effortRisk,children:[e.jsxs("span",{className:i.effort,children:["Effort: ",t.implementationEffort]}),e.jsxs("span",{className:i.risk,children:["Risk: ",t.riskLevel]})]})]}),e.jsx("h4",{children:t.name}),e.jsx("p",{children:t.description}),e.jsxs("div",{className:i.improvements,children:[e.jsxs("div",{className:i.improvement,children:[e.jsx(P,{size:14}),e.jsxs("span",{children:["Query Time: ",t.expectedImprovement.queryTime,"% faster"]})]}),e.jsxs("div",{className:i.improvement,children:[e.jsx(d,{size:14}),e.jsxs("span",{children:["Storage: ",t.expectedImprovement.storageReduction,"% reduction"]})]}),e.jsxs("div",{className:i.improvement,children:[e.jsx(T,{size:14}),e.jsxs("span",{children:["Cost: ",t.expectedImprovement.costSavings,"% savings"]})]})]})]},s))})]}),o&&e.jsxs("div",{className:i.optimizationDetail,children:[e.jsxs("h3",{children:["Optimization Details: ",o.name]}),e.jsxs("div",{className:i.optimizationComparison,children:[e.jsxs("div",{className:i.currentState,children:[e.jsx("h4",{children:"Current State"}),e.jsx("p",{children:o.currentState})]}),e.jsx(g,{className:i.transitionArrow}),e.jsxs("div",{className:i.optimizedState,children:[e.jsx("h4",{children:"Optimized State"}),e.jsx("p",{children:o.optimizedState})]})]})]}),e.jsx("div",{style:{display:"none"},children:j.length})]})};export{Qe as default};
//# sourceMappingURL=DataEngineering-DssZv0Qu.js.map
