import{m as z,j as e}from"./index-QRpErOtS.js";import{r as h}from"./charts-BdICjjZY.js";import{c as B,A as S,f as E,C as V,Z as R,h as C,D as L,G as H,l as W,g as Q,T as F}from"./icons-CZRcmTJT.js";import"./vendor-Csw2ODfV.js";import"./router-BGDWP-Da.js";const O="_dataLineage_z66fg_2",U="_header_z66fg_9",X="_title_z66fg_13",q="_subtitle_z66fg_24",Y="_mainContent_z66fg_31",Z="_controls_z66fg_37",J="_searchContainer_z66fg_49",K="_searchIcon_z66fg_56",ee="_searchInput_z66fg_66",se="_filterSelect_z66fg_87",te="_clearButton_z66fg_104",ae="_contentGrid_z66fg_120",ie="_visualizationPanel_z66fg_127",ne="_legend_z66fg_136",ce="_legendItem_z66fg_148",re="_legendDot_z66fg_157",le="_source_z66fg_164",oe="_ingestion_z66fg_168",de="_transformation_z66fg_172",me="_enrichment_z66fg_176",he="_destination_z66fg_180",ue="_lineageContainer_z66fg_184",ge="_lineageSvg_z66fg_192",xe="_sectionLabel_z66fg_199",fe="_nodeGroup_z66fg_206",_e="_nodeRect_z66fg_211",ye="_selectedNode_z66fg_223",je="_nodeText_z66fg_229",ve="_nodeSubtext_z66fg_234",pe="_connectionLine_z66fg_239",Ne="_flowDot_z66fg_243",ze="_tooltip_z66fg_248",Se="_sidePanel_z66fg_253",Ce="_sidePanelHeader_z66fg_263",Le="_sidePanelTitle_z66fg_269",Te="_statusBadge_z66fg_276",De="_statusHealthy_z66fg_285",Pe="_statusWarning_z66fg_289",Ie="_statusFailed_z66fg_293",be="_statusProcessing_z66fg_297",we="_sidePanelContent_z66fg_302",Me="_detailSection_z66fg_311",$e="_detailTitle_z66fg_317",Ge="_detailDescription_z66fg_326",ke="_metricGrid_z66fg_333",Ae="_metric_z66fg_333",Be="_metricValue_z66fg_354",Ee="_metricLabel_z66fg_361",Ve="_connectionsList_z66fg_368",Re="_connectionItem_z66fg_374",He="_connectionDot_z66fg_390",We="_connectionName_z66fg_397",Qe="_connectionType_z66fg_404",Fe="_activityItem_z66fg_413",Oe="_activityIcon_z66fg_423",Ue="_activityText_z66fg_428",Xe="_activityTime_z66fg_434",qe="_summaryGrid_z66fg_440",Ye="_summaryCard_z66fg_447",Ze="_summaryIcon_z66fg_464",Je="_summaryContent_z66fg_475",Ke="_summaryValue_z66fg_479",es="_summaryLabel_z66fg_487",s={dataLineage:O,header:U,title:X,subtitle:q,mainContent:Y,controls:Z,searchContainer:J,searchIcon:K,searchInput:ee,filterSelect:se,clearButton:te,contentGrid:ae,visualizationPanel:ie,legend:ne,legendItem:ce,legendDot:re,source:le,ingestion:oe,transformation:de,enrichment:me,destination:he,lineageContainer:ue,lineageSvg:ge,sectionLabel:xe,nodeGroup:fe,nodeRect:_e,selectedNode:ye,nodeText:je,nodeSubtext:ve,connectionLine:pe,flowDot:Ne,tooltip:ze,sidePanel:Se,sidePanelHeader:Ce,sidePanelTitle:Le,statusBadge:Te,statusHealthy:De,statusWarning:Pe,statusFailed:Ie,statusProcessing:be,sidePanelContent:we,detailSection:Me,detailTitle:$e,detailDescription:Ge,metricGrid:ke,metric:Ae,metricValue:Be,metricLabel:Ee,connectionsList:Ve,connectionItem:Re,connectionDot:He,connectionName:We,connectionType:Qe,activityItem:Fe,activityIcon:Oe,activityText:Ue,activityTime:Xe,summaryGrid:qe,summaryCard:Ye,summaryIcon:Ze,summaryContent:Je,summaryValue:Ke,summaryLabel:es},ss=h.memo(()=>{const[f,T]=h.useState(""),[_,D]=h.useState("all"),[r,y]=h.useState(null),[P,j]=h.useState(null),[g,v]=h.useState([]),I=h.useRef(null),b=()=>{const t=[],n=[];return["LinkedIn","Twitter","Office365","AzureAD","GitHub","ThreatIntel","Exchange","Teams","SharePoint","PowerBI"].forEach((a,l)=>{t.push({id:`source-${a}`,name:a,type:"source",source:a,x:100,y:60+l*60,status:["healthy","warning","failed"][Math.floor(Math.random()*3)],recordsPerSecond:Math.floor(Math.random()*1e3)+100,avgProcessingTime:Math.floor(Math.random()*500)+50,connections:[],description:`Data ingestion from ${a} platform`,lastUpdate:new Date(Date.now()-Math.random()*36e5).toISOString(),dataQuality:Math.floor(Math.random()*20)+80})}),[{type:"ingestion",x:300},{type:"transformation",x:450},{type:"enrichment",x:600}].forEach(({type:a,x:l})=>{const i=z.filter(c=>_==="all"||c.source===_).slice(0,8).map((c,A)=>({id:c.id,name:`${a.charAt(0).toUpperCase()+a.slice(1)} - ${c.name.split(" ").slice(0,3).join(" ")}`,type:a,source:c.source,x:l,y:60+A*60,status:c.status,recordsPerSecond:Math.floor(c.recordsProcessed/60),avgProcessingTime:c.avgProcessingTime,connections:[],description:`${a} pipeline: ${c.name}`,lastUpdate:c.lastRun.toISOString(),dataQuality:Math.floor(Math.random()*15)+85,actualPipeline:c}));t.push(...i)}),["MSTIC Data Lake","Threat Intelligence DB","Security Analytics Store","Alert System","ML Training Data","Compliance Archive","Real-time Dashboard","API Gateway"].forEach((a,l)=>{t.push({id:`dest-${a}`,name:a,type:"destination",x:800,y:60+l*60,status:["healthy","warning"][Math.floor(Math.random()*2)],recordsPerSecond:Math.floor(Math.random()*500)+50,avgProcessingTime:Math.floor(Math.random()*100)+20,connections:[],description:`Data destination: ${a}`,lastUpdate:new Date(Date.now()-Math.random()*18e5).toISOString(),dataQuality:Math.floor(Math.random()*10)+90})}),t.forEach(a=>{a.type==="source"?t.filter(i=>i.type==="ingestion"&&i.source===a.source).forEach(i=>{const c=`${a.id}-${i.id}`;n.push({id:c,from:a.id,to:i.id,volume:["low","medium","high"][Math.floor(Math.random()*3)],health:a.status==="failed"?"error":a.status==="warning"?"warning":"healthy",animated:!0}),a.connections.push(i.id),i.connections.push(a.id)}):a.type==="ingestion"?t.filter(i=>i.type==="transformation").slice(0,2).forEach(i=>{const c=`${a.id}-${i.id}`;n.push({id:c,from:a.id,to:i.id,volume:["medium","high"][Math.floor(Math.random()*2)],health:a.status==="failed"?"error":"healthy",animated:!0}),a.connections.push(i.id),i.connections.push(a.id)}):a.type==="transformation"?t.filter(i=>i.type==="enrichment").slice(0,2).forEach(i=>{const c=`${a.id}-${i.id}`;n.push({id:c,from:a.id,to:i.id,volume:"high",health:"healthy",animated:!0}),a.connections.push(i.id),i.connections.push(a.id)}):a.type==="enrichment"&&t.filter(i=>i.type==="destination").slice(0,3).forEach(i=>{const c=`${a.id}-${i.id}`;n.push({id:c,from:a.id,to:i.id,volume:"high",health:"healthy",animated:!0}),a.connections.push(i.id),i.connections.push(a.id)})}),{nodes:t,connections:n}},{nodes:u,connections:p}=b(),x=u.filter(t=>t.name.toLowerCase().includes(f.toLowerCase())||t.source&&t.source.toLowerCase().includes(f.toLowerCase())),w=t=>{const n=new Set,o=[],d=m=>{if(n.has(m))return;n.add(m),o.push(m);const a=u.find(l=>l.id===m);a&&a.connections.forEach(l=>{n.has(l)||d(l)})};d(t),v(o)},M=t=>{y(t),w(t.id)},N=t=>{if(g.length>0&&!g.includes(t.id))return"#444";switch(t.type){case"source":return"#0078d4";case"ingestion":return"#52c41a";case"transformation":return"#faad14";case"enrichment":return"#8b5cf6";case"destination":return"#ef4444";default:return"#888"}},$=t=>{const n=g.includes(t.from)&&g.includes(t.to);return{strokeWidth:t.volume==="high"?"3":t.volume==="medium"?"2":"1",stroke:t.health==="error"?"#ef4444":t.health==="warning"?"#faad14":"#52c41a",opacity:g.length>0?n?"1":"0.2":"0.8",strokeDasharray:t.volume==="low"?"5,5":"none"}},G=t=>{switch(t){case"healthy":return e.jsx(C,{size:16,className:s.statusHealthy});case"warning":return e.jsx(F,{size:16,className:s.statusWarning});case"failed":return e.jsx(Q,{size:16,className:s.statusFailed});case"processing":return e.jsx(S,{size:16,className:s.statusProcessing});default:return null}},k=[...new Set(z.map(t=>t.source))];return e.jsxs("div",{className:s.dataLineage,children:[e.jsxs("div",{className:s.header,children:[e.jsx("h1",{className:s.title,children:"Interactive Data Lineage"}),e.jsx("p",{className:s.subtitle,children:"Visualize and explore data flow through your threat intelligence pipelines"})]}),e.jsxs("div",{className:s.mainContent,children:[e.jsxs("div",{className:s.controls,children:[e.jsxs("div",{className:s.searchContainer,children:[e.jsx(B,{className:s.searchIcon}),e.jsx("input",{type:"text",placeholder:"Search nodes and pipelines...",value:f,onChange:t=>T(t.target.value),className:s.searchInput})]}),e.jsxs("select",{value:_,onChange:t=>D(t.target.value),className:s.filterSelect,children:[e.jsx("option",{value:"all",children:"All Sources"}),k.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("button",{className:s.clearButton,onClick:()=>{y(null),v([])},children:"Clear Selection"})]}),e.jsxs("div",{className:s.contentGrid,children:[e.jsxs("div",{className:s.visualizationPanel,children:[e.jsxs("div",{className:s.legend,children:[e.jsxs("div",{className:s.legendItem,children:[e.jsx("div",{className:`${s.legendDot} ${s.source}`}),e.jsx("span",{children:"Data Sources"})]}),e.jsxs("div",{className:s.legendItem,children:[e.jsx("div",{className:`${s.legendDot} ${s.ingestion}`}),e.jsx("span",{children:"Ingestion"})]}),e.jsxs("div",{className:s.legendItem,children:[e.jsx("div",{className:`${s.legendDot} ${s.transformation}`}),e.jsx("span",{children:"Transformation"})]}),e.jsxs("div",{className:s.legendItem,children:[e.jsx("div",{className:`${s.legendDot} ${s.enrichment}`}),e.jsx("span",{children:"Enrichment"})]}),e.jsxs("div",{className:s.legendItem,children:[e.jsx("div",{className:`${s.legendDot} ${s.destination}`}),e.jsx("span",{children:"Destinations"})]})]}),e.jsx("div",{className:s.lineageContainer,children:e.jsxs("svg",{ref:I,className:s.lineageSvg,viewBox:"0 0 1000 800",preserveAspectRatio:"xMidYMid meet",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"flowGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(82, 196, 26, 0.1)"}),e.jsx("stop",{offset:"50%",stopColor:"rgba(82, 196, 26, 0.8)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(82, 196, 26, 0.1)"}),e.jsx("animateTransform",{attributeName:"gradientTransform",attributeType:"XML",type:"translate",values:"-100 0; 200 0; -100 0",dur:"3s",repeatCount:"indefinite"})]}),e.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#52c41a"})}),e.jsxs("filter",{id:"glow",children:[e.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),e.jsxs("feMerge",{children:[e.jsx("feMergeNode",{in:"coloredBlur"}),e.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),e.jsx("text",{x:"100",y:"30",className:s.sectionLabel,children:"Data Sources"}),e.jsx("text",{x:"300",y:"30",className:s.sectionLabel,children:"Ingestion"}),e.jsx("text",{x:"450",y:"30",className:s.sectionLabel,children:"Transformation"}),e.jsx("text",{x:"600",y:"30",className:s.sectionLabel,children:"Enrichment"}),e.jsx("text",{x:"800",y:"30",className:s.sectionLabel,children:"Destinations"}),p.filter(t=>{const n=x.find(d=>d.id===t.from),o=x.find(d=>d.id===t.to);return n&&o}).map(t=>{const n=x.find(m=>m.id===t.from),o=x.find(m=>m.id===t.to),d=$(t);return e.jsxs("g",{children:[e.jsx("line",{x1:n.x+140,y1:n.y+20,x2:o.x,y2:o.y+20,...d,markerEnd:"url(#arrowhead)",className:s.connectionLine}),t.animated&&e.jsx("circle",{r:"3",fill:d.stroke,className:s.flowDot,children:e.jsx("animateMotion",{dur:"3s",repeatCount:"indefinite",path:`M${n.x+140},${n.y+20} L${o.x},${o.y+20}`})})]},t.id)}),x.map(t=>e.jsxs("g",{className:s.nodeGroup,onClick:()=>M(t),onMouseEnter:()=>j(t.id),onMouseLeave:()=>j(null),children:[e.jsx("rect",{x:t.x,y:t.y,width:"140",height:"40",fill:N(t),rx:"6",className:`${s.nodeRect} ${(r==null?void 0:r.id)===t.id?s.selectedNode:""}`,filter:(r==null?void 0:r.id)===t.id?"url(#glow)":"none"}),e.jsx("text",{x:t.x+70,y:t.y+16,textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"600",className:s.nodeText,children:t.name.length>16?`${t.name.substring(0,13)}...`:t.name}),e.jsxs("text",{x:t.x+70,y:t.y+30,textAnchor:"middle",fill:"rgba(255,255,255,0.8)",fontSize:"8",className:s.nodeSubtext,children:[t.recordsPerSecond,"/s"]}),e.jsx("circle",{cx:t.x+125,cy:t.y+10,r:"4",fill:t.status==="healthy"?"#52c41a":t.status==="warning"?"#faad14":t.status==="failed"?"#ef4444":"#1890ff"}),P===t.id&&e.jsxs("g",{className:s.tooltip,children:[e.jsx("rect",{x:t.x+150,y:t.y-10,width:"200",height:"60",fill:"rgba(0,0,0,0.9)",rx:"4",stroke:"#444"}),e.jsx("text",{x:t.x+160,y:t.y+5,fill:"white",fontSize:"10",fontWeight:"600",children:t.name}),e.jsxs("text",{x:t.x+160,y:t.y+18,fill:"#ccc",fontSize:"9",children:["Records/sec: ",t.recordsPerSecond]}),e.jsxs("text",{x:t.x+160,y:t.y+30,fill:"#ccc",fontSize:"9",children:["Avg Time: ",t.avgProcessingTime,"ms"]}),e.jsxs("text",{x:t.x+160,y:t.y+42,fill:"#ccc",fontSize:"9",children:["Quality: ",t.dataQuality,"%"]})]})]},t.id))]})})]}),r&&e.jsxs("div",{className:s.sidePanel,children:[e.jsxs("div",{className:s.sidePanelHeader,children:[e.jsx("h3",{className:s.sidePanelTitle,children:r.name}),e.jsxs("div",{className:s.statusBadge,children:[G(r.status),e.jsx("span",{children:r.status})]})]}),e.jsxs("div",{className:s.sidePanelContent,children:[e.jsxs("div",{className:s.detailSection,children:[e.jsx("h4",{className:s.detailTitle,children:"Overview"}),e.jsx("p",{className:s.detailDescription,children:r.description}),e.jsxs("div",{className:s.metricGrid,children:[e.jsxs("div",{className:s.metric,children:[e.jsx(S,{size:16}),e.jsxs("div",{children:[e.jsxs("div",{className:s.metricValue,children:[r.recordsPerSecond,"/s"]}),e.jsx("div",{className:s.metricLabel,children:"Records per second"})]})]}),e.jsxs("div",{className:s.metric,children:[e.jsx(E,{size:16}),e.jsxs("div",{children:[e.jsxs("div",{className:s.metricValue,children:[r.avgProcessingTime,"ms"]}),e.jsx("div",{className:s.metricLabel,children:"Avg processing time"})]})]}),e.jsxs("div",{className:s.metric,children:[e.jsx(V,{size:16}),e.jsxs("div",{children:[e.jsxs("div",{className:s.metricValue,children:[r.dataQuality,"%"]}),e.jsx("div",{className:s.metricLabel,children:"Data quality"})]})]}),e.jsxs("div",{className:s.metric,children:[e.jsx(R,{size:16}),e.jsxs("div",{children:[e.jsx("div",{className:s.metricValue,children:r.connections.length}),e.jsx("div",{className:s.metricLabel,children:"Connections"})]})]})]})]}),e.jsxs("div",{className:s.detailSection,children:[e.jsx("h4",{className:s.detailTitle,children:"Connected Pipelines"}),e.jsx("div",{className:s.connectionsList,children:r.connections.slice(0,5).map(t=>{const n=u.find(o=>o.id===t);return n?e.jsxs("div",{className:s.connectionItem,children:[e.jsx("div",{className:s.connectionDot,style:{backgroundColor:N(n)}}),e.jsx("span",{className:s.connectionName,children:n.name}),e.jsx("span",{className:s.connectionType,children:n.type})]},t):null})})]}),e.jsxs("div",{className:s.detailSection,children:[e.jsx("h4",{className:s.detailTitle,children:"Recent Activity"}),e.jsxs("div",{className:s.activityItem,children:[e.jsx("div",{className:s.activityIcon,children:e.jsx(C,{size:14})}),e.jsxs("div",{children:[e.jsx("div",{className:s.activityText,children:"Last updated"}),e.jsx("div",{className:s.activityTime,children:new Date(r.lastUpdate).toLocaleString()})]})]})]})]})]})]})]}),e.jsxs("div",{className:s.summaryGrid,children:[e.jsxs("div",{className:s.summaryCard,children:[e.jsx("div",{className:s.summaryIcon,children:e.jsx(L,{size:24})}),e.jsxs("div",{className:s.summaryContent,children:[e.jsx("div",{className:s.summaryValue,children:u.filter(t=>t.type==="source").length}),e.jsx("div",{className:s.summaryLabel,children:"Data Sources"})]})]}),e.jsxs("div",{className:s.summaryCard,children:[e.jsx("div",{className:s.summaryIcon,children:e.jsx(H,{size:24})}),e.jsxs("div",{className:s.summaryContent,children:[e.jsx("div",{className:s.summaryValue,children:u.filter(t=>["ingestion","transformation","enrichment"].includes(t.type)).length}),e.jsx("div",{className:s.summaryLabel,children:"Processing Pipelines"})]})]}),e.jsxs("div",{className:s.summaryCard,children:[e.jsx("div",{className:s.summaryIcon,children:e.jsx(W,{size:24})}),e.jsxs("div",{className:s.summaryContent,children:[e.jsx("div",{className:s.summaryValue,children:p.length}),e.jsx("div",{className:s.summaryLabel,children:"Data Flows"})]})]}),e.jsxs("div",{className:s.summaryCard,children:[e.jsx("div",{className:s.summaryIcon,children:e.jsx(L,{size:24})}),e.jsxs("div",{className:s.summaryContent,children:[e.jsx("div",{className:s.summaryValue,children:u.filter(t=>t.type==="destination").length}),e.jsx("div",{className:s.summaryLabel,children:"Destinations"})]})]})]})]})});ss.displayName="DataLineage";export{ss as default};
//# sourceMappingURL=DataLineage-1ECzn0td.js.map
