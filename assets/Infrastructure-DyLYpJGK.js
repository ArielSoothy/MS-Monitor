import{j as e}from"./index-BEZnNEcV.js";import{r as n}from"./charts-CVhI3LTv.js";import{R as m,a as I,D as H,S as k,b as h,Z as P,c as x,a2 as g,H as j,a3 as R,A as p,t as F,a1 as V,T as v,q as B}from"./icons-xX1ujmH_.js";import"./vendor-Csw2ODfV.js";import"./router-BUTKzT10.js";const T="_infrastructurePage_1omu8_2",O="_header_1omu8_10",G="_titleSection_1omu8_19",q="_titleIcon_1omu8_25",E="_refreshInfo_1omu8_43",$="_loadingContainer_1omu8_51",A="_loadingIcon_1omu8_61",Q="_clusterOverview_1omu8_71",W="_overviewCard_1omu8_78",Z="_overviewStats_1omu8_102",K="_overviewStat_1omu8_102",J="_statValue_1omu8_115",X="_statLabel_1omu8_122",Y="_nodeHealthSection_1omu8_130",ee="_nodeGrid_1omu8_141",se="_nodeCard_1omu8_147",ae="_selected_1omu8_162",te="_nodeHeader_1omu8_167",ie="_nodeStatus_1omu8_174",ne="_nodeRegion_1omu8_182",ce="_nodeId_1omu8_187",re="_nodeMetrics_1omu8_198",oe="_nodeMetric_1omu8_198",le="_nodePerformance_1omu8_217",de="_perfMetric_1omu8_225",ue="_nodeDetailView_1omu8_233",me="_nodeDetailGrid_1omu8_250",he="_detailCard_1omu8_256",xe="_detailMetrics_1omu8_270",ge="_detailMetric_1omu8_270",je="_resourceBars_1omu8_299",pe="_resourceBar_1omu8_299",ve="_resourceLabel_1omu8_311",_e="_resourceProgress_1omu8_324",Ne="_resourceFill_1omu8_331",Se="_costOptimizationSection_1omu8_338",ye="_costGrid_1omu8_349",we="_costCard_1omu8_355",Ce="_costMetrics_1omu8_369",fe="_costMetric_1omu8_369",Me="_optimizationSuggestions_1omu8_396",be="_suggestion_1omu8_410",Ue="_suggestionHeader_1omu8_422",ze="_suggestionType_1omu8_429",Le="_suggestionSavings_1omu8_440",De="_suggestionDescription_1omu8_446",Ie="_suggestionComplexity_1omu8_453",He="_complexityBadge_1omu8_458",s={infrastructurePage:T,header:O,titleSection:G,titleIcon:q,refreshInfo:E,loadingContainer:$,loadingIcon:A,clusterOverview:Q,overviewCard:W,overviewStats:Z,overviewStat:K,statValue:J,statLabel:X,nodeHealthSection:Y,nodeGrid:ee,nodeCard:se,selected:ae,nodeHeader:te,nodeStatus:ie,nodeRegion:ne,nodeId:ce,nodeMetrics:re,nodeMetric:oe,nodePerformance:le,perfMetric:de,nodeDetailView:ue,nodeDetailGrid:me,detailCard:he,detailMetrics:xe,detailMetric:ge,resourceBars:je,resourceBar:pe,resourceLabel:ve,resourceProgress:_e,resourceFill:Ne,costOptimizationSection:Se,costGrid:ye,costCard:we,costMetrics:Ce,costMetric:fe,optimizationSuggestions:Me,suggestion:be,suggestionHeader:Ue,suggestionType:ze,suggestionSavings:Le,suggestionDescription:De,suggestionComplexity:Ie,complexityBadge:He},Be=()=>{const[r,_]=n.useState([]),[o,N]=n.useState(null),[c,S]=n.useState(null),[i,y]=n.useState(null),[t,w]=n.useState(null),[C,d]=n.useState(!0),[f,M]=n.useState(new Date);n.useEffect(()=>{u();const a=setInterval(()=>{u(),M(new Date)},15e3);return()=>clearInterval(a)},[]);const u=async()=>{try{d(!0);const a=[{nodeId:"adx-node-01-israelcentral",region:"Israel Central",status:"healthy",uptime:168.7,cpuUsage:34.2,memoryUsage:67.8,diskUsage:23.1,networkLatency:2.3,activeConnections:847,queriesPerSecond:156.4,cacheHitRate:87.3,lastHeartbeat:new Date(Date.now()-1e3)},{nodeId:"adx-node-02-israelcentral",region:"Israel Central",status:"healthy",uptime:168.7,cpuUsage:42.1,memoryUsage:71.2,diskUsage:24.8,networkLatency:1.9,activeConnections:923,queriesPerSecond:178.2,cacheHitRate:89.1,lastHeartbeat:new Date(Date.now()-2e3)},{nodeId:"adx-node-03-israelcentral",region:"Israel Central",status:"warning",uptime:168.7,cpuUsage:78.9,memoryUsage:89.4,diskUsage:82.3,networkLatency:4.7,activeConnections:1247,queriesPerSecond:89.7,cacheHitRate:67.2,lastHeartbeat:new Date(Date.now()-3e3)},{nodeId:"adx-node-04-westeurope",region:"West Europe",status:"healthy",uptime:72.3,cpuUsage:28.7,memoryUsage:55.1,diskUsage:19.4,networkLatency:12.4,activeConnections:456,queriesPerSecond:67.8,cacheHitRate:91.7,lastHeartbeat:new Date(Date.now()-1500)},{nodeId:"adx-node-05-eastus",region:"East US",status:"maintenance",uptime:0,cpuUsage:0,memoryUsage:0,diskUsage:0,networkLatency:0,activeConnections:0,queriesPerSecond:0,cacheHitRate:0,lastHeartbeat:new Date(Date.now()-3e5)},{nodeId:"adx-node-06-australiaeast",region:"Australia East",status:"critical",uptime:2.1,cpuUsage:95.7,memoryUsage:98.2,diskUsage:94.1,networkLatency:45.7,activeConnections:2847,queriesPerSecond:12.3,cacheHitRate:23.4,lastHeartbeat:new Date(Date.now()-3e4)}],l={authenticationRate:99.97,failedLogins:247,blockedRequests:1847,activeThreats:3,securityEvents:15672,complianceScore:94.2,dataEncryptionStatus:"enabled",accessControlStatus:"compliant"},L={currentCapacity:6,maxCapacity:12,autoScalingEnabled:!0,scaleEvents:[{timestamp:new Date(Date.now()-36e5),action:"scale_up",reason:"High CPU utilization (>80%) for 15 minutes",nodes:1},{timestamp:new Date(Date.now()-72e5),action:"scale_down",reason:"Low resource utilization (<30%) for 2 hours",nodes:1}],resourcePrediction:{nextHour:78.4,next24Hours:65.2,trend:"increasing"}},D={currentMonthlyCost:8947.32,projectedMonthlyCost:9234.18,costPerQuery:.00234,resourceUtilization:67.8,optimizationSuggestions:[{type:"compute",description:"Right-size compute instances based on actual usage patterns",potentialSavings:1247.5,complexity:"medium"},{type:"storage",description:"Implement data lifecycle policies for cold storage",potentialSavings:892.3,complexity:"low"},{type:"network",description:"Optimize cross-region data transfer patterns",potentialSavings:456.2,complexity:"high"}]};_(a),N(l),S(L),y(D)}catch(a){console.error("Failed to load infrastructure data:",a)}finally{d(!1)}},b=a=>{switch(a){case"healthy":return"#10b981";case"warning":return"#f59e0b";case"critical":return"#ef4444";case"maintenance":return"#6b7280";default:return"#6b7280"}},U=a=>{switch(a){case"healthy":return e.jsx(B,{size:16});case"warning":return e.jsx(v,{size:16});case"critical":return e.jsx(v,{size:16});case"maintenance":return e.jsx(V,{size:16});default:return e.jsx(p,{size:16})}},z=a=>{switch(a){case"increasing":return e.jsx(h,{size:16,style:{color:"#ef4444"}});case"decreasing":return e.jsx(F,{size:16,style:{color:"#10b981"}});default:return e.jsx(p,{size:16,style:{color:"#6b7280"}})}};return C?e.jsxs("div",{className:s.loadingContainer,children:[e.jsx(m,{className:s.loadingIcon}),e.jsx("span",{children:"Loading infrastructure metrics..."})]}):e.jsxs("div",{className:s.infrastructurePage,children:[e.jsxs("div",{className:s.header,children:[e.jsxs("div",{className:s.titleSection,children:[e.jsx(I,{className:s.titleIcon}),e.jsxs("div",{children:[e.jsx("h1",{children:"Infrastructure Monitoring"}),e.jsx("p",{children:"Real-time cluster health, security, scaling, and cost optimization"})]})]}),e.jsxs("div",{className:s.refreshInfo,children:[e.jsx(m,{size:16}),e.jsxs("span",{children:["Last refresh: ",f.toLocaleTimeString()]})]})]}),e.jsxs("div",{className:s.clusterOverview,children:[e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx(H,{size:20})," Cluster Status"]}),e.jsxs("div",{className:s.overviewStats,children:[e.jsxs("div",{className:s.overviewStat,children:[e.jsx("span",{className:s.statValue,children:r.filter(a=>a.status==="healthy").length}),e.jsx("span",{className:s.statLabel,children:"Healthy Nodes"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsx("span",{className:s.statValue,children:r.filter(a=>a.status==="warning").length}),e.jsx("span",{className:s.statLabel,children:"Warning"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsx("span",{className:s.statValue,children:r.filter(a=>a.status==="critical").length}),e.jsx("span",{className:s.statLabel,children:"Critical"})]})]})]}),o&&e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx(k,{size:20})," Security"]}),e.jsxs("div",{className:s.overviewStats,children:[e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:[o.complianceScore,"%"]}),e.jsx("span",{className:s.statLabel,children:"Compliance"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsx("span",{className:s.statValue,children:o.activeThreats}),e.jsx("span",{className:s.statLabel,children:"Active Threats"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:[o.authenticationRate,"%"]}),e.jsx("span",{className:s.statLabel,children:"Auth Success"})]})]})]}),c&&e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx(h,{size:20})," Auto-scaling"]}),e.jsxs("div",{className:s.overviewStats,children:[e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:[c.currentCapacity,"/",c.maxCapacity]}),e.jsx("span",{className:s.statLabel,children:"Capacity"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:[c.resourcePrediction.nextHour,"%"]}),e.jsx("span",{className:s.statLabel,children:"Next Hour"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsx("span",{className:s.statValue,children:z(c.resourcePrediction.trend)}),e.jsx("span",{className:s.statLabel,children:"Trend"})]})]})]}),i&&e.jsxs("div",{className:s.overviewCard,children:[e.jsxs("h3",{children:[e.jsx(P,{size:20})," Cost"]}),e.jsxs("div",{className:s.overviewStats,children:[e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:["$",(i.currentMonthlyCost/1e3).toFixed(1),"K"]}),e.jsx("span",{className:s.statLabel,children:"Monthly"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:["$",i.costPerQuery.toFixed(4)]}),e.jsx("span",{className:s.statLabel,children:"Per Query"})]}),e.jsxs("div",{className:s.overviewStat,children:[e.jsxs("span",{className:s.statValue,children:[i.resourceUtilization,"%"]}),e.jsx("span",{className:s.statLabel,children:"Utilization"})]})]})]})]}),e.jsxs("div",{className:s.nodeHealthSection,children:[e.jsx("h2",{children:"Node Health Status"}),e.jsx("div",{className:s.nodeGrid,children:r.map(a=>e.jsxs("div",{className:`${s.nodeCard} ${(t==null?void 0:t.nodeId)===a.nodeId?s.selected:""}`,onClick:()=>w(a),children:[e.jsxs("div",{className:s.nodeHeader,children:[e.jsxs("div",{className:s.nodeStatus,style:{color:b(a.status)},children:[U(a.status),e.jsx("span",{children:a.status})]}),e.jsx("span",{className:s.nodeRegion,children:a.region})]}),e.jsx("div",{className:s.nodeId,children:a.nodeId}),e.jsxs("div",{className:s.nodeMetrics,children:[e.jsxs("div",{className:s.nodeMetric,children:[e.jsx(x,{size:14}),e.jsxs("span",{children:["CPU: ",a.cpuUsage.toFixed(1),"%"]})]}),e.jsxs("div",{className:s.nodeMetric,children:[e.jsx(g,{size:14}),e.jsxs("span",{children:["Memory: ",a.memoryUsage.toFixed(1),"%"]})]}),e.jsxs("div",{className:s.nodeMetric,children:[e.jsx(j,{size:14}),e.jsxs("span",{children:["Disk: ",a.diskUsage.toFixed(1),"%"]})]}),e.jsxs("div",{className:s.nodeMetric,children:[e.jsx(R,{size:14}),e.jsxs("span",{children:["Latency: ",a.networkLatency,"ms"]})]})]}),e.jsxs("div",{className:s.nodePerformance,children:[e.jsx("div",{className:s.perfMetric,children:e.jsxs("span",{children:[a.queriesPerSecond.toFixed(1)," QPS"]})}),e.jsx("div",{className:s.perfMetric,children:e.jsxs("span",{children:[a.cacheHitRate.toFixed(1),"% Cache"]})})]})]},a.nodeId))})]}),t&&e.jsxs("div",{className:s.nodeDetailView,children:[e.jsxs("h3",{children:["Node Details: ",t.nodeId]}),e.jsxs("div",{className:s.nodeDetailGrid,children:[e.jsxs("div",{className:s.detailCard,children:[e.jsx("h4",{children:"Performance Metrics"}),e.jsxs("div",{className:s.detailMetrics,children:[e.jsxs("div",{className:s.detailMetric,children:[e.jsx("span",{children:"Uptime"}),e.jsxs("span",{children:[t.uptime.toFixed(1)," hours"]})]}),e.jsxs("div",{className:s.detailMetric,children:[e.jsx("span",{children:"Active Connections"}),e.jsx("span",{children:t.activeConnections.toLocaleString()})]}),e.jsxs("div",{className:s.detailMetric,children:[e.jsx("span",{children:"Queries per Second"}),e.jsx("span",{children:t.queriesPerSecond.toFixed(1)})]}),e.jsxs("div",{className:s.detailMetric,children:[e.jsx("span",{children:"Cache Hit Rate"}),e.jsxs("span",{children:[t.cacheHitRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:s.detailMetric,children:[e.jsx("span",{children:"Network Latency"}),e.jsxs("span",{children:[t.networkLatency,"ms"]})]})]})]}),e.jsxs("div",{className:s.detailCard,children:[e.jsx("h4",{children:"Resource Utilization"}),e.jsxs("div",{className:s.resourceBars,children:[e.jsxs("div",{className:s.resourceBar,children:[e.jsxs("div",{className:s.resourceLabel,children:[e.jsx(x,{size:16}),e.jsx("span",{children:"CPU Usage"}),e.jsxs("span",{children:[t.cpuUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:s.resourceProgress,children:e.jsx("div",{className:s.resourceFill,style:{width:`${t.cpuUsage}%`,backgroundColor:t.cpuUsage>80?"#ef4444":t.cpuUsage>60?"#f59e0b":"#10b981"}})})]}),e.jsxs("div",{className:s.resourceBar,children:[e.jsxs("div",{className:s.resourceLabel,children:[e.jsx(g,{size:16}),e.jsx("span",{children:"Memory Usage"}),e.jsxs("span",{children:[t.memoryUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:s.resourceProgress,children:e.jsx("div",{className:s.resourceFill,style:{width:`${t.memoryUsage}%`,backgroundColor:t.memoryUsage>80?"#ef4444":t.memoryUsage>60?"#f59e0b":"#10b981"}})})]}),e.jsxs("div",{className:s.resourceBar,children:[e.jsxs("div",{className:s.resourceLabel,children:[e.jsx(j,{size:16}),e.jsx("span",{children:"Disk Usage"}),e.jsxs("span",{children:[t.diskUsage.toFixed(1),"%"]})]}),e.jsx("div",{className:s.resourceProgress,children:e.jsx("div",{className:s.resourceFill,style:{width:`${t.diskUsage}%`,backgroundColor:t.diskUsage>80?"#ef4444":t.diskUsage>60?"#f59e0b":"#10b981"}})})]})]})]})]})]}),i&&e.jsxs("div",{className:s.costOptimizationSection,children:[e.jsx("h2",{children:"Cost Optimization Insights"}),e.jsxs("div",{className:s.costGrid,children:[e.jsxs("div",{className:s.costCard,children:[e.jsx("h4",{children:"Monthly Cost Analysis"}),e.jsxs("div",{className:s.costMetrics,children:[e.jsxs("div",{className:s.costMetric,children:[e.jsx("span",{children:"Current Month"}),e.jsxs("span",{children:["$",i.currentMonthlyCost.toLocaleString()]})]}),e.jsxs("div",{className:s.costMetric,children:[e.jsx("span",{children:"Projected"}),e.jsxs("span",{children:["$",i.projectedMonthlyCost.toLocaleString()]})]}),e.jsxs("div",{className:s.costMetric,children:[e.jsx("span",{children:"Resource Utilization"}),e.jsxs("span",{children:[i.resourceUtilization,"%"]})]})]})]}),e.jsxs("div",{className:s.optimizationSuggestions,children:[e.jsx("h4",{children:"Optimization Recommendations"}),i.optimizationSuggestions.map((a,l)=>e.jsxs("div",{className:s.suggestion,children:[e.jsxs("div",{className:s.suggestionHeader,children:[e.jsx("span",{className:s.suggestionType,children:a.type}),e.jsxs("span",{className:s.suggestionSavings,children:["$",a.potentialSavings.toLocaleString()," savings"]})]}),e.jsx("p",{className:s.suggestionDescription,children:a.description}),e.jsxs("div",{className:s.suggestionComplexity,children:["Complexity: ",e.jsx("span",{className:s.complexityBadge,children:a.complexity})]})]},l))]})]})]})]})};export{Be as default};
//# sourceMappingURL=Infrastructure-DyLYpJGK.js.map
