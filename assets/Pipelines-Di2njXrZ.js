import{m as oe,j as e}from"./index-DdU9E6x_.js";import{_ as Ce,r as C,f as we,g as re,a as be,L as Te,C as ke,X as Re,Y as ze,T as Le,b as Fe}from"./charts-DwVu4C-4.js";import{H as Me}from"./HowItWorksModal-BeVKYe8Q.js";import{C as Pe}from"./ChallengesModal-Dym1Swp-.js";import{g as m,I as w}from"./tooltipContent-Dqid_JQq.js";import{i as $e,S as De,k as Oe,F as qe,l as ie,m as le,n as ce,o as Ae,T as Be,p as Ee,P as He,q as We,e as de,A as ue,r as Ge,s as Ue,t as Ve,E as me}from"./icons-DTFXYCiL.js";import"./vendor-Csw2ODfV.js";import"./router-Uvrq3glh.js";var he=Number.isNaN||function(a){return typeof a=="number"&&a!==a};function Qe(c,a){return!!(c===a||he(c)&&he(a))}function Ke(c,a){if(c.length!==a.length)return!1;for(var o=0;o<c.length;o++)if(!Qe(c[o],a[o]))return!1;return!0}function ae(c,a){a===void 0&&(a=Ke);var o,r=[],h,p=!1;function g(){for(var _=[],b=0;b<arguments.length;b++)_[b]=arguments[b];return p&&o===this&&a(_,r)||(h=c.apply(this,_),p=!0,o=this,r=_),h}return g}var Xe=typeof performance=="object"&&typeof performance.now=="function",ve=Xe?function(){return performance.now()}:function(){return Date.now()};function pe(c){cancelAnimationFrame(c.id)}function Ye(c,a){var o=ve();function r(){ve()-o>=a?c.call(null):h.id=requestAnimationFrame(r)}var h={id:requestAnimationFrame(r)};return h}var ne=-1;function fe(c){if(c===void 0&&(c=!1),ne===-1||c){var a=document.createElement("div"),o=a.style;o.width="50px",o.height="50px",o.overflow="scroll",document.body.appendChild(a),ne=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return ne}var E=null;function ge(c){if(c===void 0&&(c=!1),E===null||c){var a=document.createElement("div"),o=a.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";var r=document.createElement("div"),h=r.style;return h.width="100px",h.height="100px",a.appendChild(r),document.body.appendChild(a),a.scrollLeft>0?E="positive-descending":(a.scrollLeft=1,a.scrollLeft===0?E="negative":E="positive-ascending"),document.body.removeChild(a),E}return E}var Ze=150,Je=function(a,o){return a};function et(c){var a,o=c.getItemOffset,r=c.getEstimatedTotalSize,h=c.getItemSize,p=c.getOffsetForIndexAndAlignment,g=c.getStartIndexForOffset,_=c.getStopIndexForStartIndex,b=c.initInstanceProps,k=c.shouldResetStyleCacheOnItemSizeChange,L=c.validateProps;return a=function(M){Ce(F,M);function F(R){var i;return i=M.call(this,R)||this,i._instanceProps=b(i.props,re(i)),i._outerRef=void 0,i._resetIsScrollingTimeoutId=null,i.state={instance:re(i),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof i.props.initialScrollOffset=="number"?i.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},i._callOnItemsRendered=void 0,i._callOnItemsRendered=ae(function(l,d,x,S){return i.props.onItemsRendered({overscanStartIndex:l,overscanStopIndex:d,visibleStartIndex:x,visibleStopIndex:S})}),i._callOnScroll=void 0,i._callOnScroll=ae(function(l,d,x){return i.props.onScroll({scrollDirection:l,scrollOffset:d,scrollUpdateWasRequested:x})}),i._getItemStyle=void 0,i._getItemStyle=function(l){var d=i.props,x=d.direction,S=d.itemSize,I=d.layout,f=i._getItemStyleCache(k&&S,k&&I,k&&x),y;if(f.hasOwnProperty(l))y=f[l];else{var N=o(i.props,l,i._instanceProps),$=h(i.props,l,i._instanceProps),D=x==="horizontal"||I==="horizontal",z=x==="rtl",q=D?N:0;f[l]=y={position:"absolute",left:z?void 0:q,right:z?q:void 0,top:D?0:N,height:D?"100%":$,width:D?$:"100%"}}return y},i._getItemStyleCache=void 0,i._getItemStyleCache=ae(function(l,d,x){return{}}),i._onScrollHorizontal=function(l){var d=l.currentTarget,x=d.clientWidth,S=d.scrollLeft,I=d.scrollWidth;i.setState(function(f){if(f.scrollOffset===S)return null;var y=i.props.direction,N=S;if(y==="rtl")switch(ge()){case"negative":N=-S;break;case"positive-descending":N=I-x-S;break}return N=Math.max(0,Math.min(N,I-x)),{isScrolling:!0,scrollDirection:f.scrollOffset<N?"forward":"backward",scrollOffset:N,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._onScrollVertical=function(l){var d=l.currentTarget,x=d.clientHeight,S=d.scrollHeight,I=d.scrollTop;i.setState(function(f){if(f.scrollOffset===I)return null;var y=Math.max(0,Math.min(I,S-x));return{isScrolling:!0,scrollDirection:f.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._outerRefSetter=function(l){var d=i.props.outerRef;i._outerRef=l,typeof d=="function"?d(l):d!=null&&typeof d=="object"&&d.hasOwnProperty("current")&&(d.current=l)},i._resetIsScrollingDebounced=function(){i._resetIsScrollingTimeoutId!==null&&pe(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=Ye(i._resetIsScrolling,Ze)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},function(){i._getItemStyleCache(-1,null)})},i}F.getDerivedStateFromProps=function(i,l){return tt(i,l),L(i),null};var T=F.prototype;return T.scrollTo=function(i){i=Math.max(0,i),this.setState(function(l){return l.scrollOffset===i?null:{scrollDirection:l.scrollOffset<i?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},T.scrollToItem=function(i,l){l===void 0&&(l="auto");var d=this.props,x=d.itemCount,S=d.layout,I=this.state.scrollOffset;i=Math.max(0,Math.min(i,x-1));var f=0;if(this._outerRef){var y=this._outerRef;S==="vertical"?f=y.scrollWidth>y.clientWidth?fe():0:f=y.scrollHeight>y.clientHeight?fe():0}this.scrollTo(p(this.props,i,l,I,this._instanceProps,f))},T.componentDidMount=function(){var i=this.props,l=i.direction,d=i.initialScrollOffset,x=i.layout;if(typeof d=="number"&&this._outerRef!=null){var S=this._outerRef;l==="horizontal"||x==="horizontal"?S.scrollLeft=d:S.scrollTop=d}this._callPropsCallbacks()},T.componentDidUpdate=function(){var i=this.props,l=i.direction,d=i.layout,x=this.state,S=x.scrollOffset,I=x.scrollUpdateWasRequested;if(I&&this._outerRef!=null){var f=this._outerRef;if(l==="horizontal"||d==="horizontal")if(l==="rtl")switch(ge()){case"negative":f.scrollLeft=-S;break;case"positive-ascending":f.scrollLeft=S;break;default:var y=f.clientWidth,N=f.scrollWidth;f.scrollLeft=N-y-S;break}else f.scrollLeft=S;else f.scrollTop=S}this._callPropsCallbacks()},T.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&pe(this._resetIsScrollingTimeoutId)},T.render=function(){var i=this.props,l=i.children,d=i.className,x=i.direction,S=i.height,I=i.innerRef,f=i.innerElementType,y=i.innerTagName,N=i.itemCount,$=i.itemData,D=i.itemKey,z=D===void 0?Je:D,q=i.layout,Z=i.outerElementType,V=i.outerTagName,J=i.style,Q=i.useIsScrolling,A=i.width,K=this.state.isScrolling,W=x==="horizontal"||q==="horizontal",ee=W?this._onScrollHorizontal:this._onScrollVertical,G=this._getRangeToRender(),U=G[0],te=G[1],X=[];if(N>0)for(var B=U;B<=te;B++)X.push(C.createElement(l,{data:$,key:z(B,$),index:B,isScrolling:Q?K:void 0,style:this._getItemStyle(B)}));var Y=r(this.props,this._instanceProps);return C.createElement(Z||V||"div",{className:d,onScroll:ee,ref:this._outerRefSetter,style:we({position:"relative",height:S,width:A,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:x},J)},C.createElement(f||y||"div",{children:X,ref:I,style:{height:W?"100%":Y,pointerEvents:K?"none":void 0,width:W?Y:"100%"}}))},T._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var i=this.props.itemCount;if(i>0){var l=this._getRangeToRender(),d=l[0],x=l[1],S=l[2],I=l[3];this._callOnItemsRendered(d,x,S,I)}}if(typeof this.props.onScroll=="function"){var f=this.state,y=f.scrollDirection,N=f.scrollOffset,$=f.scrollUpdateWasRequested;this._callOnScroll(y,N,$)}},T._getRangeToRender=function(){var i=this.props,l=i.itemCount,d=i.overscanCount,x=this.state,S=x.isScrolling,I=x.scrollDirection,f=x.scrollOffset;if(l===0)return[0,0,0,0];var y=g(this.props,f,this._instanceProps),N=_(this.props,y,f,this._instanceProps),$=!S||I==="backward"?Math.max(1,d):1,D=!S||I==="forward"?Math.max(1,d):1;return[Math.max(0,y-$),Math.max(0,Math.min(l-1,N+D)),y,N]},F}(C.PureComponent),a.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},a}var tt=function(a,o){a.children,a.direction,a.height,a.layout,a.innerTagName,a.outerTagName,a.width,o.instance},st=50,H=function(a,o,r){var h=a,p=h.itemSize,g=r.itemMetadataMap,_=r.lastMeasuredIndex;if(o>_){var b=0;if(_>=0){var k=g[_];b=k.offset+k.size}for(var L=_+1;L<=o;L++){var M=p(L);g[L]={offset:b,size:M},b+=M}r.lastMeasuredIndex=o}return g[o]},it=function(a,o,r){var h=o.itemMetadataMap,p=o.lastMeasuredIndex,g=p>0?h[p].offset:0;return g>=r?xe(a,o,p,0,r):at(a,o,Math.max(0,p),r)},xe=function(a,o,r,h,p){for(;h<=r;){var g=h+Math.floor((r-h)/2),_=H(a,g,o).offset;if(_===p)return g;_<p?h=g+1:_>p&&(r=g-1)}return h>0?h-1:0},at=function(a,o,r,h){for(var p=a.itemCount,g=1;r<p&&H(a,r,o).offset<h;)r+=g,g*=2;return xe(a,o,Math.min(r,p-1),Math.floor(r/2),h)},_e=function(a,o){var r=a.itemCount,h=o.itemMetadataMap,p=o.estimatedItemSize,g=o.lastMeasuredIndex,_=0;if(g>=r&&(g=r-1),g>=0){var b=h[g];_=b.offset+b.size}var k=r-g-1,L=k*p;return _+L},nt=et({getItemOffset:function(a,o,r){return H(a,o,r).offset},getItemSize:function(a,o,r){return r.itemMetadataMap[o].size},getEstimatedTotalSize:_e,getOffsetForIndexAndAlignment:function(a,o,r,h,p,g){var _=a.direction,b=a.height,k=a.layout,L=a.width,M=_==="horizontal"||k==="horizontal",F=M?L:b,T=H(a,o,p),R=_e(a,p),i=Math.max(0,Math.min(R-F,T.offset)),l=Math.max(0,T.offset-F+T.size+g);switch(r==="smart"&&(h>=l-F&&h<=i+F?r="auto":r="center"),r){case"start":return i;case"end":return l;case"center":return Math.round(l+(i-l)/2);case"auto":default:return h>=l&&h<=i?h:h<l?l:i}},getStartIndexForOffset:function(a,o,r){return it(a,r,o)},getStopIndexForStartIndex:function(a,o,r,h){for(var p=a.direction,g=a.height,_=a.itemCount,b=a.layout,k=a.width,L=p==="horizontal"||b==="horizontal",M=L?k:g,F=H(a,o,h),T=r+M,R=F.offset+F.size,i=o;i<_-1&&R<T;)i++,R+=H(a,i,h).size;return i},initInstanceProps:function(a,o){var r=a,h=r.estimatedItemSize,p={itemMetadataMap:{},estimatedItemSize:h||st,lastMeasuredIndex:-1};return o.resetAfterIndex=function(g,_){_===void 0&&(_=!0),p.lastMeasuredIndex=Math.min(p.lastMeasuredIndex,g-1),o._getItemStyleCache(-1),_&&o.forceUpdate()},p},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(a){a.itemSize}});const ot="_pipelines_vltiv_2",rt="_fadeIn_vltiv_1",lt="_header_vltiv_14",ct="_headerContent_vltiv_18",dt="_titleSection_vltiv_24",ut="_title_vltiv_24",mt="_infoButton_vltiv_38",ht="_subtitle_vltiv_58",vt="_controls_vltiv_65",pt="_searchContainer_vltiv_73",ft="_searchIcon_vltiv_79",gt="_searchInput_vltiv_89",_t="_filterToggle_vltiv_106",xt="_active_vltiv_124",St="_toggleIcon_vltiv_130",jt="_rotated_vltiv_134",yt="_sortControls_vltiv_138",Nt="_sortSelect_vltiv_144",It="_sortOrder_vltiv_153",Ct="_filtersPanel_vltiv_171",wt="_slideDown_vltiv_1",bt="_filterGroup_vltiv_185",Tt="_filterLabel_vltiv_193",kt="_statusFilters_vltiv_200",Rt="_statusFilter_vltiv_200",zt="_healthy_vltiv_230",Lt="_warning_vltiv_236",Ft="_failed_vltiv_242",Mt="_processing_vltiv_248",Pt="_sourceFilter_vltiv_254",$t="_teamFilter_vltiv_264",Dt="_classificationFilter_vltiv_265",Ot="_pipelinesList_vltiv_285",qt="_listHeader_vltiv_292",At="_columnHeaders_vltiv_301",Bt="_headerCell_vltiv_313",Et="_resultCount_vltiv_321",Ht="_loadingIndicator_vltiv_326",Wt="_virtualContainer_vltiv_334",Gt="_virtualList_vltiv_339",Ut="_virtualRow_vltiv_361",Vt="_pipelineRow_vltiv_366",Qt="_expanded_vltiv_379",Kt="_rowContent_vltiv_384",Xt="_pipelineInfo_vltiv_391",Yt="_pipelineName_vltiv_399",Zt="_name_vltiv_403",Jt="_source_vltiv_254",es="_pipelineMetadata_vltiv_421",ts="_metadataItem_vltiv_428",ss="_metadataLabel_vltiv_436",is="_classification_vltiv_265",as="_internal_vltiv_454",ns="_confidential_vltiv_459",os="_secret_vltiv_464",rs="_statusCell_vltiv_469",ls="_statusIcon_vltiv_476",cs="_statusText_vltiv_486",ds="_metricCell_vltiv_497",us="_metricValue_vltiv_504",ms="_metricLabel_vltiv_510",hs="_failureRate_vltiv_516",vs="_low_vltiv_521",ps="_high_vltiv_522",fs="_actions_vltiv_524",gs="_actionButton_vltiv_529",_s="_expandIcon_vltiv_566",xs="_expandedContent_vltiv_576",Ss="_expandDown_vltiv_1",js="_expandedGrid_vltiv_605",ys="_chartSection_vltiv_613",Ns="_errorsSection_vltiv_618",Is="_configSection_vltiv_623",Cs="_dependenciesSection_vltiv_628",ws="_logsSection_vltiv_633",bs="_logsContent_vltiv_639",Ts="_logQueries_vltiv_646",ks="_logReferences_vltiv_647",Rs="_runbooks_vltiv_648",zs="_subTitle_vltiv_654",Ls="_queryItem_vltiv_664",Fs="_queryHeader_vltiv_672",Ms="_queryName_vltiv_681",Ps="_copyButton_vltiv_687",$s="_queryBody_vltiv_709",Ds="_queryText_vltiv_713",Os="_logItem_vltiv_729",qs="_logHeader_vltiv_737",As="_logSystem_vltiv_744",Bs="_logLevel_vltiv_750",Es="_logBody_vltiv_760",Hs="_logDescription_vltiv_766",Ws="_logLink_vltiv_772",Gs="_linkIcon_vltiv_793",Us="_runbookItem_vltiv_798",Vs="_runbookHeader_vltiv_806",Qs="_runbookTitle_vltiv_813",Ks="_runbookCategory_vltiv_821",Xs="_runbookBody_vltiv_832",Ys="_runbookDescription_vltiv_838",Zs="_runbookLink_vltiv_844",Js="_feedbackNotification_vltiv_866",ei="_slideInFadeOut_vltiv_1",ti="_runButton_vltiv_905",si="_pauseButton_vltiv_911",ii="_configButton_vltiv_917",ai="_spinning_vltiv_923",ni="_spin_vltiv_923",oi="_configGrid_vltiv_992",t={pipelines:ot,fadeIn:rt,header:lt,headerContent:ct,titleSection:dt,title:ut,infoButton:mt,subtitle:ht,controls:vt,searchContainer:pt,searchIcon:ft,searchInput:gt,filterToggle:_t,active:xt,toggleIcon:St,rotated:jt,sortControls:yt,sortSelect:Nt,sortOrder:It,filtersPanel:Ct,slideDown:wt,filterGroup:bt,filterLabel:Tt,statusFilters:kt,statusFilter:Rt,healthy:zt,warning:Lt,failed:Ft,processing:Mt,sourceFilter:Pt,teamFilter:$t,classificationFilter:Dt,pipelinesList:Ot,listHeader:qt,columnHeaders:At,headerCell:Bt,resultCount:Et,loadingIndicator:Ht,virtualContainer:Wt,virtualList:Gt,virtualRow:Ut,pipelineRow:Vt,expanded:Qt,rowContent:Kt,pipelineInfo:Xt,pipelineName:Yt,name:Zt,source:Jt,pipelineMetadata:es,metadataItem:ts,metadataLabel:ss,classification:is,public:"_public_vltiv_449",internal:as,confidential:ns,secret:os,statusCell:rs,statusIcon:ls,statusText:cs,metricCell:ds,metricValue:us,metricLabel:ms,failureRate:hs,low:vs,high:ps,actions:fs,actionButton:gs,expandIcon:_s,expandedContent:xs,expandDown:Ss,expandedGrid:js,chartSection:ys,errorsSection:Ns,configSection:Is,dependenciesSection:Cs,logsSection:ws,logsContent:bs,logQueries:Ts,logReferences:ks,runbooks:Rs,subTitle:zs,queryItem:Ls,queryHeader:Fs,queryName:Ms,copyButton:Ps,queryBody:$s,queryText:Ds,logItem:Os,logHeader:qs,logSystem:As,logLevel:Bs,logBody:Es,logDescription:Hs,logLink:Ws,linkIcon:Gs,runbookItem:Us,runbookHeader:Vs,runbookTitle:Qs,runbookCategory:Ks,runbookBody:Xs,runbookDescription:Ys,runbookLink:Zs,feedbackNotification:Js,slideInFadeOut:ei,runButton:ti,pauseButton:si,configButton:ii,spinning:ai,spin:ni,configGrid:oi},ri=C.memo(()=>{const[c]=C.useState(oe),[a,o]=C.useState(""),[r,h]=C.useState(new Set),[p,g]=C.useState("all"),[_,b]=C.useState("all"),[k,L]=C.useState("all"),[M,F]=C.useState("name"),[T,R]=C.useState("asc"),[i,l]=C.useState(new Set),[d,x]=C.useState(!1),[S,I]=C.useState(!1),[f,y]=C.useState(!1),[N,$]=C.useState(new Set),[D,z]=C.useState({id:"",action:"",show:!1}),q=C.useRef(null),Z=()=>{const s=[],u=new Date;for(let n=23;n>=0;n--){const j=new Date(u.getTime()-n*60*60*1e3),P=45+Math.sin(n*.5)*15+Math.random()*20;s.push({time:j.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),processingTime:Math.max(10,Math.floor(P))})}return s},V=s=>{const u=[];return s.status==="failed"&&s.lastFailureReason&&u.push({timestamp:new Date(s.lastRun.getTime()+Math.random()*60*60*1e3),message:s.lastFailureReason,level:"error"}),s.status==="warning"&&(s.lastFailureReason?u.push({timestamp:new Date(Date.now()-Math.random()*1*60*60*1e3),message:s.lastFailureReason,level:"warning"}):u.push({timestamp:new Date(Date.now()-Math.random()*1*60*60*1e3),message:`Performance degradation detected - ${s.failureRate}% failure rate`,level:"warning"})),s.avgProcessingTime>s.slaRequirement&&u.push({timestamp:new Date(Date.now()-Math.random()*2*60*60*1e3),message:`SLA breach: Processing time (${s.avgProcessingTime}min) exceeds requirement (${s.slaRequirement}min)`,level:"warning"}),u},J=s=>({ownerTeam:s.ownerTeam,dataClassification:s.dataClassification,region:s.region,slaRequirement:`${s.slaRequirement} minutes`,dataType:s.dataType,process:s.process,maintenanceWindow:s.maintenanceWindow||"Not scheduled",avgProcessingTime:`${s.avgProcessingTime} minutes`,recordsProcessed:s.recordsProcessed.toLocaleString(),failureRate:`${s.failureRate}%`}),Q=s=>!s.dependsOn||s.dependsOn.length===0?[]:s.dependsOn.map(u=>{const n=oe.find(j=>j.id===u);return n?{id:n.id,name:n.name,status:n.status}:null}).filter(Boolean),A=C.useMemo(()=>c.filter(s=>{const u=s.name.toLowerCase().includes(a.toLowerCase())||s.source.toLowerCase().includes(a.toLowerCase())||s.ownerTeam.toLowerCase().includes(a.toLowerCase()),n=r.size===0||r.has(s.status),j=p==="all"||s.source===p,P=_==="all"||s.ownerTeam===_,v=k==="all"||s.dataClassification===k;return u&&n&&j&&P&&v}).sort((s,u)=>{let n,j;switch(M){case"name":n=s.name.toLowerCase(),j=u.name.toLowerCase();break;case"lastRun":n=s.lastRun.getTime(),j=u.lastRun.getTime();break;case"status":n=s.status,j=u.status;break;case"source":n=s.source,j=u.source;break;case"failureRate":n=s.failureRate,j=u.failureRate;break;default:return 0}return T==="asc"?n<j?-1:n>j?1:0:n>j?-1:n<j?1:0}),[c,a,r,p,_,k,M,T]),K=[...new Set(c.map(s=>s.ownerTeam))],W=[...new Set(c.map(s=>s.dataClassification))],ee=s=>{const u=new Set(r);u.has(s)?u.delete(s):u.add(s),h(u)},G=C.useCallback(s=>{console.log("Toggling pipeline:",s),l(u=>{const n=new Set(u);return n.has(s)?n.delete(s):n.add(s),setTimeout(()=>{q.current&&q.current.resetAfterIndex(0)},0),setTimeout(()=>{q.current&&q.current.resetAfterIndex(0)},50),n})},[]),U=async(s,u,n)=>{n.stopPropagation(),console.log(`${u} pipeline:`,s),u==="run"?($(j=>new Set([...j,s])),z({id:s,action:"Starting pipeline...",show:!0}),setTimeout(()=>{$(j=>{const P=new Set(j);return P.delete(s),P}),z({id:s,action:"✅ Pipeline started successfully",show:!0}),setTimeout(()=>z({id:"",action:"",show:!1}),3e3)},2e3)):u==="pause"?(z({id:s,action:"Pausing pipeline...",show:!0}),setTimeout(()=>{z({id:s,action:"⏸️ Pipeline paused",show:!0}),setTimeout(()=>z({id:"",action:"",show:!1}),3e3)},1e3)):u==="configure"&&(z({id:s,action:"⚙️ Opening configuration...",show:!0}),setTimeout(()=>z({id:"",action:"",show:!1}),2e3))},te=s=>[{name:"Recent Executions",query:`// Query to analyze recent pipeline executions
PipelineExecutions
| where PipelineName == "${s.name}"
| where TimeGenerated > ago(24h)
| summarize 
    TotalRuns = count(),
    SuccessfulRuns = countif(Status == "Success"),
    FailedRuns = countif(Status == "Failed"),
    AvgDuration = avg(DurationMinutes)
by bin(TimeGenerated, 1h)
| order by TimeGenerated desc`},{name:"Error Analysis",query:`// Query to analyze pipeline errors and failures
PipelineErrors
| where PipelineName == "${s.name}"
| where TimeGenerated > ago(7d)
| summarize ErrorCount = count() by ErrorType, bin(TimeGenerated, 1d)
| order by TimeGenerated desc, ErrorCount desc`},{name:"Performance Metrics",query:`// Query to analyze pipeline performance metrics
PipelineMetrics
| where PipelineName == "${s.name}"
| where TimeGenerated > ago(30d)
| extend ProcessingTimeCategory = case(
    DurationMinutes <= ${s.slaRequirement*.7}, "Fast",
    DurationMinutes <= ${s.slaRequirement}, "Normal",
    "Slow"
)
| summarize 
    Count = count(),
    AvgDuration = avg(DurationMinutes),
    P95Duration = percentile(DurationMinutes, 95)
by ProcessingTimeCategory
| order by AvgDuration asc`}],X=s=>{const u="https://portal.azure.com/#@microsoft.onmicrosoft.com/logs",n="12345678-1234-1234-1234-123456789012";return[{system:"Azure Monitor Logs",description:"View detailed execution logs and metrics",queryId:`pipeline-${s.id}-logs`,logUrl:`${u}?workspaceId=${n}&query=PipelineExecutions | where PipelineName == "${s.name}"`,timestamp:new Date(s.lastRun.getTime()-Math.random()*60*60*1e3),logLevel:"INFO",source:"Azure Data Factory"},{system:"Application Insights",description:"Performance and dependency tracking",queryId:`pipeline-${s.id}-insights`,logUrl:"https://portal.azure.com/#@microsoft.onmicrosoft.com/resource/appInsights",timestamp:new Date(s.lastRun.getTime()-Math.random()*30*60*1e3),logLevel:s.status==="failed"?"ERROR":"INFO",source:"Application Insights"},{system:"Azure Storage Logs",description:"Data movement and storage operations",queryId:`pipeline-${s.id}-storage`,logUrl:`${u}?workspaceId=${n}&query=StorageLogs | where OperationName contains "${s.name}"`,timestamp:new Date(s.lastRun.getTime()-Math.random()*45*60*1e3),logLevel:"INFO",source:"Azure Storage"}]},B=s=>[{title:"Pipeline Troubleshooting Guide",description:"Step-by-step troubleshooting for common pipeline issues",url:`https://docs.microsoft.com/runbooks/${s.source.toLowerCase()}-pipeline-troubleshooting`,category:"Troubleshooting"},{title:"Data Quality Validation",description:"Procedures for validating data quality and integrity",url:`https://docs.microsoft.com/runbooks/data-quality-${s.dataClassification.toLowerCase()}`,category:"Quality Assurance"},{title:"Performance Optimization",description:"Guidelines for optimizing pipeline performance",url:`https://docs.microsoft.com/runbooks/pipeline-optimization-${s.process}`,category:"Optimization"}],Y=async(s,u)=>{try{await navigator.clipboard.writeText(s),z({id:"",action:`${u} copied to clipboard!`,show:!0}),setTimeout(()=>z({id:"",action:"",show:!1}),2e3)}catch(n){console.error("Failed to copy:",n),z({id:"",action:"Failed to copy",show:!0}),setTimeout(()=>z({id:"",action:"",show:!1}),2e3)}},se=s=>{switch(s){case"healthy":return e.jsx(Ee,{className:`${t.statusIcon} ${t.healthy}`});case"warning":return e.jsx(Be,{className:`${t.statusIcon} ${t.warning}`});case"failed":return e.jsx(Ae,{className:`${t.statusIcon} ${t.failed}`});case"processing":return e.jsx(ce,{className:`${t.statusIcon} ${t.processing}`})}},Se=s=>{const n=new Date().getTime()-s.getTime(),j=Math.floor(n/(1e3*60)),P=Math.floor(j/60),v=Math.floor(P/24);return v>0?`${v}d ago`:P>0?`${P}h ago`:j>0?`${j}m ago`:"Just now"},je=(s,u)=>Math.floor(s*60/u).toLocaleString(),ye=[...new Set(c.map(s=>s.source))],Ne=({index:s,style:u})=>{const n=A[s],j=i.has(n.id),P=v=>{const O=v.target;O.closest("button")||O.closest(".actionButton")||(console.log("Pipeline clicked:",n.name),G(n.id))};return e.jsx("div",{style:u,className:t.virtualRow,children:e.jsxs("div",{className:`${t.pipelineRow} ${j?t.expanded:""}`,onClick:P,"data-pipeline-id":n.id,children:[e.jsxs("div",{className:t.rowContent,children:[e.jsxs("div",{className:t.pipelineInfo,children:[e.jsxs("div",{className:t.pipelineName,children:[e.jsx("span",{className:t.name,children:n.name}),e.jsx("span",{className:t.source,children:n.source}),e.jsxs("div",{className:t.pipelineMetadata,children:[e.jsxs("span",{className:t.metadataItem,children:[e.jsx("span",{className:t.metadataLabel,children:"Team:"})," ",n.ownerTeam,m("ownerTeamFilter")&&e.jsx(w,{...m("ownerTeamFilter"),position:"top",size:"small"})]}),e.jsxs("span",{className:t.metadataItem,children:[e.jsx("span",{className:t.metadataLabel,children:"Region:"})," ",n.region,m("pipelineRegion")&&e.jsx(w,{...m("pipelineRegion"),position:"top",size:"small"})]}),e.jsxs("span",{className:`${t.metadataItem} ${t.classification} ${t[n.dataClassification.toLowerCase()]}`,children:[n.dataClassification,m("dataClassificationFilter")&&e.jsx(w,{...m("dataClassificationFilter"),position:"top",size:"small"})]})]})]}),e.jsxs("div",{className:t.statusCell,children:[se(n.status),e.jsx("span",{className:`${t.statusText} ${t[n.status]}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),e.jsxs("div",{className:t.metricCell,children:[e.jsx("span",{className:t.metricValue,children:Se(n.lastRun)}),e.jsx("span",{className:t.metricLabel,children:"Last Run"})]}),e.jsxs("div",{className:t.metricCell,children:[e.jsxs("span",{className:t.metricValue,children:[n.avgProcessingTime,"m"]}),e.jsx("span",{className:t.metricLabel,children:"Avg Time"})]}),e.jsxs("div",{className:t.metricCell,children:[e.jsx("span",{className:t.metricValue,children:je(n.recordsProcessed,n.avgProcessingTime)}),e.jsx("span",{className:t.metricLabel,children:"Records/Hour"})]}),e.jsxs("div",{className:t.metricCell,children:[e.jsxs("span",{className:`${t.failureRate} ${n.failureRate>5?t.high:t.low}`,children:[n.failureRate,"%"]}),e.jsx("span",{className:t.metricLabel,children:"Failure Rate"})]}),e.jsxs("div",{className:t.actions,children:[n.status==="processing"||N.has(n.id)?e.jsx("button",{className:`${t.actionButton} ${t.pauseButton}`,title:N.has(n.id)?"Starting...":"Pause Pipeline",onClick:v=>U(n.id,"pause",v),disabled:N.has(n.id),children:N.has(n.id)?e.jsx(ce,{size:16,className:t.spinning}):e.jsx(He,{size:16})}):e.jsx("button",{className:`${t.actionButton} ${t.runButton}`,title:"Run Pipeline",onClick:v=>U(n.id,"run",v),children:e.jsx(We,{size:16})}),e.jsx("button",{className:`${t.actionButton} ${t.configButton}`,title:"Configure Pipeline",onClick:v=>U(n.id,"configure",v),children:e.jsx(de,{size:16})})]})]}),e.jsx("div",{className:t.expandIcon,children:j?e.jsx(le,{size:20}):e.jsx(ie,{size:20})})]}),j&&e.jsx("div",{className:t.expandedContent,children:e.jsxs("div",{className:t.expandedGrid,children:[e.jsxs("div",{className:t.chartSection,children:[e.jsxs("h4",{className:t.sectionTitle,children:[e.jsx(ue,{className:t.sectionIcon}),"24-Hour Processing Time Trend",m("processingTimeTrend")&&e.jsx(w,{...m("processingTimeTrend"),position:"right",size:"medium"})]}),e.jsx("div",{className:t.chartContainer,children:e.jsx(be,{width:"100%",height:200,children:e.jsxs(Te,{data:Z(),children:[e.jsx(ke,{strokeDasharray:"3 3",stroke:"#333"}),e.jsx(Re,{dataKey:"time",tick:{fill:"#ccc",fontSize:11},interval:2}),e.jsx(ze,{tick:{fill:"#ccc"},label:{value:"Minutes",angle:-90,position:"insideLeft"}}),e.jsx(Le,{labelFormatter:v=>`Time: ${v}`,formatter:v=>[`${v} min`,"Processing Time"],contentStyle:{backgroundColor:"#252526",border:"1px solid #333",borderRadius:"6px"}}),e.jsx(Fe,{type:"monotone",dataKey:"processingTime",stroke:"#1890ff",strokeWidth:2,dot:{fill:"#1890ff",strokeWidth:0,r:2},activeDot:{r:4,stroke:"#1890ff",strokeWidth:2}})]})})})]}),e.jsxs("div",{className:t.errorsSection,children:[e.jsxs("h4",{className:t.sectionTitle,children:[e.jsx(Ge,{className:t.sectionIcon}),"Recent Issues",m("recentIssues")&&e.jsx(w,{...m("recentIssues"),position:"right",size:"medium"})]}),e.jsx("div",{className:t.errorsList,children:V(n).length>0?V(n).map((v,O)=>e.jsxs("div",{className:`${t.errorItem} ${t[v.level]}`,children:[e.jsx("div",{className:t.errorTime,children:v.timestamp.toLocaleTimeString()}),e.jsx("div",{className:t.errorMessage,children:v.message})]},O)):e.jsx("div",{className:t.noErrors,children:"No recent issues"})})]}),e.jsxs("div",{className:t.configSection,children:[e.jsxs("h4",{className:t.sectionTitle,children:[e.jsx(de,{className:t.sectionIcon}),"Configuration",m("pipelineConfiguration")&&e.jsx(w,{...m("pipelineConfiguration"),position:"right",size:"medium"})]}),e.jsx("div",{className:t.configGrid,children:Object.entries(J(n)).map(([v,O])=>e.jsxs("div",{className:t.configItem,children:[e.jsxs("span",{className:t.configKey,children:[v.replace(/([A-Z])/g," $1").replace(/^./,Ie=>Ie.toUpperCase()),":"]}),e.jsx("span",{className:t.configValue,children:O})]},v))})]}),e.jsxs("div",{className:t.dependenciesSection,children:[e.jsxs("h4",{className:t.sectionTitle,children:[e.jsx(ue,{className:t.sectionIcon}),"Dependencies",m("pipelineDependencies")&&e.jsx(w,{...m("pipelineDependencies"),position:"right",size:"medium"})]}),e.jsx("div",{className:t.dependenciesList,children:Q(n).length>0?Q(n).map(v=>e.jsxs("div",{className:t.dependencyItem,children:[se(v.status),e.jsx("span",{className:t.dependencyName,children:v.name})]},v.id)):e.jsx("div",{className:t.noDependencies,children:"No dependencies"})})]}),e.jsxs("div",{className:t.logsSection,children:[e.jsxs("h4",{className:t.sectionTitle,children:[e.jsx(Ue,{className:t.sectionIcon}),"Logs and Diagnostics",m("pipelineLogsDiagnostics")&&e.jsx(w,{...m("pipelineLogsDiagnostics"),position:"right",size:"medium"})]}),e.jsxs("div",{className:t.logsContent,children:[e.jsxs("div",{className:t.logQueries,children:[e.jsx("h5",{className:t.subTitle,children:"Diagnostic Queries"}),te(n).map((v,O)=>e.jsxs("div",{className:t.queryItem,children:[e.jsxs("div",{className:t.queryHeader,children:[e.jsx("span",{className:t.queryName,children:v.name}),e.jsx("button",{className:t.copyButton,onClick:()=>Y(v.query,"Query"),title:"Copy query to clipboard",children:e.jsx(Ve,{size:14})})]}),e.jsx("div",{className:t.queryBody,children:e.jsx("pre",{className:t.queryText,children:v.query})})]},O))]}),e.jsxs("div",{className:t.logReferences,children:[e.jsx("h5",{className:t.subTitle,children:"Log References"}),X(n).map((v,O)=>e.jsxs("div",{className:t.logItem,children:[e.jsxs("div",{className:t.logHeader,children:[e.jsx("span",{className:t.logSystem,children:v.system}),e.jsx("span",{className:t.logLevel,children:v.logLevel})]}),e.jsxs("div",{className:t.logBody,children:[e.jsx("div",{className:t.logDescription,children:v.description}),e.jsxs("a",{href:v.logUrl,target:"_blank",rel:"noopener noreferrer",className:t.logLink,children:["View Logs",e.jsx(me,{size:14,className:t.linkIcon})]})]})]},O))]}),e.jsxs("div",{className:t.runbooks,children:[e.jsx("h5",{className:t.subTitle,children:"Runbook Links"}),B(n).map((v,O)=>e.jsxs("div",{className:t.runbookItem,children:[e.jsxs("div",{className:t.runbookHeader,children:[e.jsx("span",{className:t.runbookTitle,children:v.title}),e.jsx("span",{className:t.runbookCategory,children:v.category})]}),e.jsxs("div",{className:t.runbookBody,children:[e.jsx("div",{className:t.runbookDescription,children:v.description}),e.jsxs("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:t.runbookLink,children:["View Runbook",e.jsx(me,{size:14,className:t.linkIcon})]})]})]},O))]})]})]})]})})]})})};return e.jsxs("div",{className:t.pipelines,children:[e.jsxs("div",{className:t.header,children:[e.jsx("div",{className:t.headerContent,children:e.jsxs("div",{className:t.titleSection,children:[e.jsxs("h1",{className:t.title,children:["Pipeline Management",e.jsx("button",{className:t.infoButton,onClick:()=>I(!0),title:"How does this system work?",children:e.jsx($e,{size:18})}),e.jsx("button",{className:`${t.infoButton} ${t.challengesButton}`,onClick:()=>y(!0),title:"Implementation Challenges",children:e.jsx(De,{size:18})})]}),e.jsx("p",{className:t.subtitle,children:"Monitor and manage your threat intelligence data pipelines"})]})}),e.jsxs("div",{style:{color:"#888",fontSize:"0.8rem",marginTop:"10px"},children:["Expanded pipelines: ",i.size," | Expanded IDs: [",Array.from(i).join(", "),"] |",e.jsx("button",{onClick:()=>{console.log("Test toggle first pipeline"),A.length>0&&G(A[0].id)},style:{marginLeft:"10px",padding:"4px 8px",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"},children:"Test Toggle First Pipeline"}),e.jsx("button",{onClick:()=>{console.log("Clear all expanded"),l(new Set)},style:{marginLeft:"10px",padding:"4px 8px",background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px"},children:"Clear All"})]})]}),e.jsxs("div",{className:t.controls,children:[e.jsxs("div",{className:t.searchContainer,children:[e.jsx(Oe,{className:t.searchIcon}),e.jsx("input",{type:"text",placeholder:"Search pipelines...",value:a,onChange:s=>o(s.target.value),className:t.searchInput}),m("pipelineSearch")&&e.jsx(w,{...m("pipelineSearch"),position:"bottom",size:"medium",className:t.searchTooltip})]}),e.jsxs("button",{className:`${t.filterToggle} ${d?t.active:""}`,onClick:()=>x(!d),children:[e.jsx(qe,{size:16}),"Filters",e.jsx(ie,{className:`${t.toggleIcon} ${d?t.rotated:""}`}),m("pipelineStatusFilter")&&e.jsx(w,{...m("pipelineStatusFilter"),position:"bottom",size:"medium"})]}),e.jsxs("div",{className:t.sortControls,children:[e.jsxs("select",{value:M,onChange:s=>F(s.target.value),className:t.sortSelect,children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"lastRun",children:"Sort by Last Run"}),e.jsx("option",{value:"status",children:"Sort by Status"}),e.jsx("option",{value:"source",children:"Sort by Source"}),e.jsx("option",{value:"failureRate",children:"Sort by Failure Rate"})]}),m("pipelineSorting")&&e.jsx(w,{...m("pipelineSorting"),position:"bottom",size:"medium"}),e.jsx("button",{className:t.sortOrder,onClick:()=>R(T==="asc"?"desc":"asc"),children:T==="asc"?e.jsx(le,{size:16}):e.jsx(ie,{size:16})})]})]}),d&&e.jsxs("div",{className:t.filtersPanel,children:[e.jsxs("div",{className:t.filterGroup,children:[e.jsxs("label",{className:t.filterLabel,children:["Status:",m("pipelineStatusFilter")&&e.jsx(w,{...m("pipelineStatusFilter"),position:"right",size:"small"})]}),e.jsx("div",{className:t.statusFilters,children:["healthy","warning","failed","processing"].map(s=>e.jsxs("button",{className:`${t.statusFilter} ${r.has(s)?t.active:""} ${t[s]}`,onClick:()=>ee(s),children:[se(s),s.charAt(0).toUpperCase()+s.slice(1)]},s))})]}),e.jsxs("div",{className:t.filterGroup,children:[e.jsxs("label",{className:t.filterLabel,children:["Source System:",m("sourceSystemFilter")&&e.jsx(w,{...m("sourceSystemFilter"),position:"right",size:"small"})]}),e.jsxs("select",{value:p,onChange:s=>g(s.target.value),className:t.sourceFilter,children:[e.jsx("option",{value:"all",children:"All Sources"}),ye.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:t.filterGroup,children:[e.jsxs("label",{className:t.filterLabel,children:["Owner Team:",m("ownerTeamFilter")&&e.jsx(w,{...m("ownerTeamFilter"),position:"right",size:"small"})]}),e.jsxs("select",{value:_,onChange:s=>b(s.target.value),className:t.teamFilter,children:[e.jsx("option",{value:"all",children:"All Teams"}),K.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:t.filterGroup,children:[e.jsxs("label",{className:t.filterLabel,children:["Classification:",m("dataClassificationFilter")&&e.jsx(w,{...m("dataClassificationFilter"),position:"right",size:"small"})]}),e.jsxs("select",{value:k,onChange:s=>L(s.target.value),className:t.classificationFilter,children:[e.jsx("option",{value:"all",children:"All Classifications"}),W.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:t.pipelinesList,children:[e.jsx("div",{className:t.listHeader,children:e.jsxs("span",{className:t.resultCount,children:[A.length," of ",c.length," pipelines"]})}),e.jsxs("div",{className:t.columnHeaders,children:[e.jsx("div",{className:t.headerCell,children:"Pipeline"}),e.jsxs("div",{className:t.headerCell,children:["Status",m("pipelineStatusFilter")&&e.jsx(w,{...m("pipelineStatusFilter"),position:"bottom",size:"small"})]}),e.jsxs("div",{className:t.headerCell,children:["Last Run",m("pipelineLastRun")&&e.jsx(w,{...m("pipelineLastRun"),position:"bottom",size:"small"})]}),e.jsxs("div",{className:t.headerCell,children:["Avg Time",m("avgProcessingTime")&&e.jsx(w,{...m("avgProcessingTime"),position:"bottom",size:"small"})]}),e.jsxs("div",{className:t.headerCell,children:["Records/Hour",m("recordsPerHour")&&e.jsx(w,{...m("recordsPerHour"),position:"bottom",size:"small"})]}),e.jsxs("div",{className:t.headerCell,children:["Failure",m("pipelineFailureRate")&&e.jsx(w,{...m("pipelineFailureRate"),position:"bottom",size:"small"})]}),e.jsxs("div",{className:t.headerCell,children:["Actions",m("pipelineActions")&&e.jsx(w,{...m("pipelineActions"),position:"bottom",size:"small"})]}),e.jsx("div",{className:t.headerCell})]}),e.jsx("div",{className:t.virtualContainer,children:e.jsx(nt,{ref:q,height:600,width:"100%",itemCount:A.length,itemSize:s=>{const u=A[s];return i.has(u.id)?600:100},className:t.virtualList,children:Ne},`${i.size}-${Array.from(i).join(",")}`)})]}),e.jsx(Me,{isOpen:S,onClose:()=>I(!1),section:"pipelines"}),e.jsx(Pe,{isOpen:f,onClose:()=>y(!1),section:"pipelines"}),D.show&&e.jsx("div",{className:t.feedbackNotification,children:e.jsx("span",{children:D.action})})]})});ri.displayName="Pipelines";export{ri as default};
//# sourceMappingURL=Pipelines-Di2njXrZ.js.map
