import{j as e,m as ae}from"./index-B5Sny8fo.js";import{r as b}from"./charts-CVhI3LTv.js";import{l as es,A as K,E as ee,p as We,q as ne,r as F,s as ie,m as se,t as hs,u as us,G as ps,f as ss,a as _s,S as ts,k as X,C as ce,v as re,o as oe,T as Q,Z as as,e as Fe,h as fs,D as Qe,w as Ke,x as Xe,H as Ye,X as xs,y as gs,z as ys,J as Je}from"./icons-O6Te8S6Q.js";import{H as js}from"./HowItWorksModal-DCCnrpHF.js";import"./vendor-Csw2ODfV.js";import"./router-BUTKzT10.js";const bs="_modalOverlay_f9ny3_2",vs="_modal_f9ny3_2",Ns="_modalHeader_f9ny3_29",Ss="_modalTitle_f9ny3_38",Cs="_pipelineName_f9ny3_45",Is="_operationsSection_f9ny3_53",ks="_contactSection_f9ny3_73",Ls="_contactGrid_f9ny3_80",ws="_contactCard_f9ny3_86",Ts="_teamInfo_f9ny3_102",Ms="_teamName_f9ny3_108",As="_contactMethods_f9ny3_114",Ps="_contactButton_f9ny3_119",zs="_escalationPath_f9ny3_137",Ds="_escalationLevel_f9ny3_143",$s="_escalationOrder_f9ny3_150",Es="_escalationRole_f9ny3_163",Bs="_keyContacts_f9ny3_168",Hs="_contactPerson_f9ny3_174",Gs="_contactName_f9ny3_181",Rs="_contactRole_f9ny3_187",qs="_contactDetails_f9ny3_193",Vs="_contactEmail_f9ny3_199",Os="_contactPhone_f9ny3_200",Us="_contactSlack_f9ny3_201",Ws="_slaSection_f9ny3_210",Fs="_slaGrid_f9ny3_217",Qs="_slaCard_f9ny3_223",Ks="_slaLabel_f9ny3_231",Xs="_slaValue_f9ny3_240",Ys="_slaTarget_f9ny3_247",Js="_techSection_f9ny3_253",Zs="_techGrid_f9ny3_260",et="_techCard_f9ny3_266",st="_techLabel_f9ny3_273",tt="_techValue_f9ny3_282",at="_configSection_f9ny3_290",nt="_configGrid_f9ny3_297",it="_configCard_f9ny3_303",rt="_configLabel_f9ny3_310",ot="_configValue_f9ny3_319",ct="_complianceList_f9ny3_338",lt="_complianceBadge_f9ny3_344",dt="_perfSection_f9ny3_356",mt="_perfGrid_f9ny3_363",ht="_perfCard_f9ny3_369",ut="_perfLabel_f9ny3_377",pt="_perfValue_f9ny3_386",_t="_troubleshootSection_f9ny3_393",ft="_troubleshootGrid_f9ny3_400",xt="_troubleshootCard_f9ny3_406",gt="_issuesList_f9ny3_420",yt="_issueItem_f9ny3_429",jt="_endpointsList_f9ny3_438",bt="_endpointButton_f9ny3_444",vt="_queriesList_f9ny3_462",Nt="_queryItem_f9ny3_468",St="_queryHeader_f9ny3_475",Ct="_queryCode_f9ny3_484",It="_closeButton_f9ny3_495",kt="_quickActions_f9ny3_511",Lt="_actionButton_f9ny3_520",wt="_tabNav_f9ny3_545",Tt="_tab_f9ny3_545",Mt="_activeTab_f9ny3_571",At="_errorBadge_f9ny3_577",Pt="_modalContent_f9ny3_587",zt="_tabContent_f9ny3_593",Dt="_currentError_f9ny3_598",$t="_errorHeader_f9ny3_606",Et="_errorInfo_f9ny3_613",Bt="_errorIcon_f9ny3_619",Ht="_errorTitle_f9ny3_625",Gt="_errorMeta_f9ny3_633",Rt="_errorCode_f9ny3_639",qt="_errorTime_f9ny3_645",Vt="_severityBadge_f9ny3_650",Ot="_stackTrace_f9ny3_660",Ut="_stackHeader_f9ny3_664",Wt="_copyButton_f9ny3_677",Ft="_stackContent_f9ny3_695",Qt="_suggestedActions_f9ny3_709",Kt="_actionsList_f9ny3_719",Xt="_actionItem_f9ny3_725",Yt="_actionIcon_f9ny3_734",Jt="_context_f9ny3_741",Zt="_contextGrid_f9ny3_751",ea="_contextItem_f9ny3_757",sa="_contextKey_f9ny3_767",ta="_contextValue_f9ny3_774",aa="_noError_f9ny3_782",na="_noErrorIcon_f9ny3_788",ia="_errorHistory_f9ny3_800",ra="_historyList_f9ny3_810",oa="_historyItem_f9ny3_816",ca="_historyIcon_f9ny3_831",la="_historyContent_f9ny3_836",da="_historyMessage_f9ny3_840",ma="_historyMeta_f9ny3_846",ha="_historySeverity_f9ny3_853",ua="_logsSection_f9ny3_863",pa="_logsList_f9ny3_869",_a="_logItem_f9ny3_875",fa="_logHeader_f9ny3_882",xa="_logSystem_f9ny3_889",ga="_logButton_f9ny3_898",ya="_logMeta_f9ny3_916",ja="_queryTemplate_f9ny3_925",ba="_metricsSection_f9ny3_955",va="_metricsPlaceholder_f9ny3_961",Na="_metricsInfo_f9ny3_980",Sa="_grafanaButton_f9ny3_986",Ca="_impactSection_f9ny3_1007",Ia="_impactOverview_f9ny3_1013",ka="_impactLevel_f9ny3_1020",La="_impactBadge_f9ny3_1025",wa="_impactGrid_f9ny3_1035",Ta="_impactCard_f9ny3_1041",Ma="_affectedList_f9ny3_1054",Aa="_affectedItem_f9ny3_1060",Pa="_impactMetric_f9ny3_1073",za="_noImpact_f9ny3_1079",Da="_runbooksSection_f9ny3_1097",$a="_runbooksList_f9ny3_1103",Ea="_runbookItem_f9ny3_1110",Ba="_runbookHeader_f9ny3_1117",Ha="_runbookMeta_f9ny3_1130",Ga="_runbookDescription_f9ny3_1138",Ra="_runbookButton_f9ny3_1144",qa="_oncallInfo_f9ny3_1163",Va="_oncallDetails_f9ny3_1174",n={modalOverlay:bs,modal:vs,modalHeader:Ns,modalTitle:Ss,pipelineName:Cs,operationsSection:Is,contactSection:ks,contactGrid:Ls,contactCard:ws,teamInfo:Ts,teamName:Ms,contactMethods:As,contactButton:Ps,escalationPath:zs,escalationLevel:Ds,escalationOrder:$s,escalationRole:Es,keyContacts:Bs,contactPerson:Hs,contactName:Gs,contactRole:Rs,contactDetails:qs,contactEmail:Vs,contactPhone:Os,contactSlack:Us,slaSection:Ws,slaGrid:Fs,slaCard:Qs,slaLabel:Ks,slaValue:Xs,slaTarget:Ys,techSection:Js,techGrid:Zs,techCard:et,techLabel:st,techValue:tt,configSection:at,configGrid:nt,configCard:it,configLabel:rt,configValue:ot,"criticality-critical":"_criticality-critical_f9ny3_328","criticality-high":"_criticality-high_f9ny3_329","criticality-medium":"_criticality-medium_f9ny3_330","criticality-low":"_criticality-low_f9ny3_331","classification-restricted":"_classification-restricted_f9ny3_333","classification-confidential":"_classification-confidential_f9ny3_334","classification-internal":"_classification-internal_f9ny3_335","classification-public":"_classification-public_f9ny3_336",complianceList:ct,complianceBadge:lt,perfSection:dt,perfGrid:mt,perfCard:ht,perfLabel:ut,perfValue:pt,troubleshootSection:_t,troubleshootGrid:ft,troubleshootCard:xt,issuesList:gt,issueItem:yt,endpointsList:jt,endpointButton:bt,queriesList:vt,queryItem:Nt,queryHeader:St,queryCode:Ct,closeButton:It,quickActions:kt,actionButton:Lt,tabNav:wt,tab:Tt,activeTab:Mt,errorBadge:At,modalContent:Pt,tabContent:zt,currentError:Dt,errorHeader:$t,errorInfo:Et,errorIcon:Bt,errorTitle:Ht,errorMeta:Gt,errorCode:Rt,errorTime:qt,severityBadge:Vt,stackTrace:Ot,stackHeader:Ut,copyButton:Wt,stackContent:Ft,suggestedActions:Qt,actionsList:Kt,actionItem:Xt,actionIcon:Yt,context:Jt,contextGrid:Zt,contextItem:ea,contextKey:sa,contextValue:ta,noError:aa,noErrorIcon:na,errorHistory:ia,historyList:ra,historyItem:oa,historyIcon:ca,historyContent:la,historyMessage:da,historyMeta:ma,historySeverity:ha,logsSection:ua,logsList:pa,logItem:_a,logHeader:fa,logSystem:xa,logButton:ga,logMeta:ya,queryTemplate:ja,metricsSection:ba,metricsPlaceholder:va,metricsInfo:Na,grafanaButton:Sa,impactSection:Ca,impactOverview:Ia,impactLevel:ka,impactBadge:La,impactGrid:wa,impactCard:Ta,affectedList:Ma,affectedItem:Aa,impactMetric:Pa,noImpact:za,runbooksSection:Da,runbooksList:$a,runbookItem:Ea,runbookHeader:Ba,runbookMeta:Ha,runbookDescription:Ga,runbookButton:Ra,oncallInfo:qa,oncallDetails:Va},Ze=({isOpen:q,onClose:Y,pipelineName:v,currentError:g,errorHistory:i,logReferences:P,metricsHistory:B,impactAnalysis:L,runbooks:z,oncallTeam:D,slackChannel:w,teamsChannel:T,dashboardUrl:J,grafanaUrl:$,healthCheckUrl:H,operationalData:l})=>{var A,E;const[C,V]=b.useState("error"),[M,O]=b.useState(null);if(!q)return null;const U=async(o,h)=>{try{await navigator.clipboard.writeText(o),O(h),setTimeout(()=>O(null),2e3)}catch(W){console.error("Failed to copy:",W)}},c=o=>{switch(o){case"connection":return e.jsx(as,{className:n.errorIcon});case"data_quality":return e.jsx(We,{className:n.errorIcon});case"timeout":return e.jsx(X,{className:n.errorIcon});case"authentication":return e.jsx(F,{className:n.errorIcon});default:return e.jsx(Q,{className:n.errorIcon})}},G=o=>{switch(o){case"critical":return"#ef4444";case"high":return"#f97316";case"medium":return"#eab308";case"low":return"#22c55e";default:return"#6b7280"}};return e.jsx("div",{className:n.modalOverlay,onClick:Y,children:e.jsxs("div",{className:n.modal,onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:n.modalHeader,children:[e.jsxs("div",{children:[e.jsx("h2",{className:n.modalTitle,children:"Pipeline Error Details"}),e.jsx("p",{className:n.pipelineName,children:v})]}),e.jsx("button",{className:n.closeButton,onClick:Y,children:e.jsx(es,{size:24})})]}),e.jsxs("div",{className:n.quickActions,children:[e.jsxs("button",{className:n.actionButton,onClick:()=>window.open(H,"_blank"),disabled:!H,children:[e.jsx(K,{size:16}),"Health Check"]}),e.jsxs("button",{className:n.actionButton,onClick:()=>window.open(J,"_blank"),disabled:!J,children:[e.jsx(ee,{size:16}),"Dashboard"]}),e.jsxs("button",{className:n.actionButton,onClick:()=>window.open($,"_blank"),disabled:!$,children:[e.jsx(We,{size:16}),"Metrics"]}),w&&e.jsxs("button",{className:n.actionButton,onClick:()=>window.open(`slack://channel?team=T123&id=${w}`,"_blank"),children:[e.jsx(ne,{size:16}),"Slack"]}),T&&e.jsxs("button",{className:n.actionButton,onClick:()=>window.open(T,"_blank"),children:[e.jsx(F,{size:16}),"Teams"]})]}),e.jsx("div",{className:n.tabNav,children:["error","operations","logs","metrics","impact","runbooks"].map(o=>e.jsxs("button",{className:`${n.tab} ${C===o?n.activeTab:""}`,onClick:()=>V(o),children:[o==="operations"?"Operations":o.charAt(0).toUpperCase()+o.slice(1),o==="error"&&g&&e.jsx("span",{className:n.errorBadge,style:{backgroundColor:G(g.severity)},children:g.severity})]},o))}),e.jsxs("div",{className:n.modalContent,children:[C==="error"&&e.jsxs("div",{className:n.tabContent,children:[g?e.jsxs("div",{className:n.currentError,children:[e.jsxs("div",{className:n.errorHeader,children:[e.jsxs("div",{className:n.errorInfo,children:[c(g.errorType),e.jsxs("div",{children:[e.jsx("h3",{className:n.errorTitle,children:g.errorMessage}),e.jsxs("div",{className:n.errorMeta,children:[e.jsxs("span",{className:n.errorCode,children:["Error Code: ",g.errorCode]}),e.jsx("span",{className:n.errorTime,children:new Date(g.timestamp).toLocaleString()})]})]})]}),e.jsx("span",{className:n.severityBadge,style:{backgroundColor:G(g.severity)},children:g.severity})]}),g.stackTrace&&e.jsxs("div",{className:n.stackTrace,children:[e.jsxs("div",{className:n.stackHeader,children:[e.jsx("h4",{children:"Stack Trace"}),e.jsxs("button",{className:n.copyButton,onClick:()=>U(g.stackTrace,"Stack Trace"),children:[e.jsx(ie,{size:14}),M==="Stack Trace"?"Copied!":"Copy"]})]}),e.jsx("pre",{className:n.stackContent,children:g.stackTrace})]}),e.jsxs("div",{className:n.suggestedActions,children:[e.jsx("h4",{children:"Suggested Actions"}),e.jsx("ul",{className:n.actionsList,children:g.suggestedActions.map((o,h)=>e.jsxs("li",{className:n.actionItem,children:[e.jsx(se,{size:16,className:n.actionIcon}),o]},h))})]}),g.context&&Object.keys(g.context).length>0&&e.jsxs("div",{className:n.context,children:[e.jsx("h4",{children:"Error Context"}),e.jsx("div",{className:n.contextGrid,children:Object.entries(g.context).map(([o,h])=>e.jsxs("div",{className:n.contextItem,children:[e.jsxs("span",{className:n.contextKey,children:[o,":"]}),e.jsx("span",{className:n.contextValue,children:String(h)})]},o))})]})]}):e.jsxs("div",{className:n.noError,children:[e.jsx(se,{size:48,className:n.noErrorIcon}),e.jsx("h3",{children:"No Current Errors"}),e.jsx("p",{children:"This pipeline is currently running without any detected errors."})]}),i.length>0&&e.jsxs("div",{className:n.errorHistory,children:[e.jsx("h4",{children:"Recent Error History"}),e.jsx("div",{className:n.historyList,children:i.slice(0,5).map((o,h)=>e.jsxs("div",{className:n.historyItem,children:[e.jsx("div",{className:n.historyIcon,children:c(o.errorType)}),e.jsxs("div",{className:n.historyContent,children:[e.jsx("div",{className:n.historyMessage,children:o.errorMessage}),e.jsxs("div",{className:n.historyMeta,children:[e.jsx("span",{children:o.errorCode}),e.jsx("span",{children:new Date(o.timestamp).toLocaleString()})]})]}),e.jsx("span",{className:n.historySeverity,style:{backgroundColor:G(o.severity)},children:o.severity})]},h))})]})]}),C==="operations"&&e.jsx("div",{className:n.tabContent,children:e.jsxs("div",{className:n.operationsSection,children:[e.jsxs("div",{className:n.contactSection,children:[e.jsxs("h3",{children:[e.jsx(F,{size:20}),"Contact Information"]}),e.jsxs("div",{className:n.contactGrid,children:[e.jsxs("div",{className:n.contactCard,children:[e.jsx("h4",{children:"Primary Team"}),e.jsxs("div",{className:n.teamInfo,children:[e.jsx("span",{className:n.teamName,children:((A=l==null?void 0:l.operationalInfo)==null?void 0:A.owner)||D}),e.jsxs("div",{className:n.contactMethods,children:[w&&e.jsxs("button",{className:n.contactButton,onClick:()=>window.open(`slack://channel?team=T123&id=${w}`,"_blank"),children:[e.jsx(ne,{size:14}),"#",w]}),T&&e.jsxs("button",{className:n.contactButton,onClick:()=>window.open(T,"_blank"),children:[e.jsx(F,{size:14}),"Teams Channel"]})]})]})]}),e.jsxs("div",{className:n.contactCard,children:[e.jsx("h4",{children:"Escalation Path"}),e.jsx("div",{className:n.escalationPath,children:(((E=l==null?void 0:l.operationalInfo)==null?void 0:E.escalationPath)||["On-call Engineer","Senior Engineer","Team Lead","Principal Engineer"]).map((o,h)=>e.jsxs("div",{className:n.escalationLevel,children:[e.jsx("span",{className:n.escalationOrder,children:h+1}),e.jsx("span",{className:n.escalationRole,children:o})]},h))})]}),(l==null?void 0:l.contactInfo)&&e.jsxs("div",{className:n.contactCard,children:[e.jsx("h4",{children:"Key Contacts"}),e.jsx("div",{className:n.keyContacts,children:l.contactInfo.escalationContacts.slice(0,3).map((o,h)=>e.jsxs("div",{className:n.contactPerson,children:[e.jsx("div",{className:n.contactName,children:o.name}),e.jsx("div",{className:n.contactRole,children:o.role}),e.jsxs("div",{className:n.contactDetails,children:[e.jsxs("span",{className:n.contactEmail,children:[e.jsx(hs,{size:12}),o.email]}),o.phone&&e.jsxs("span",{className:n.contactPhone,children:[e.jsx(us,{size:12}),o.phone]}),o.slackHandle&&e.jsxs("span",{className:n.contactSlack,children:[e.jsx(ne,{size:12}),"@",o.slackHandle]})]})]},h))})]})]})]}),(l==null?void 0:l.slaMetrics)&&e.jsxs("div",{className:n.slaSection,children:[e.jsxs("h3",{children:[e.jsx(ps,{size:20}),"SLA Metrics"]}),e.jsxs("div",{className:n.slaGrid,children:[e.jsxs("div",{className:n.slaCard,children:[e.jsx("div",{className:n.slaLabel,children:"Current Uptime"}),e.jsxs("div",{className:n.slaValue,children:[l.slaMetrics.uptime.toFixed(2),"%"]}),e.jsxs("div",{className:n.slaTarget,children:["Target: ",l.slaMetrics.targetUptime,"%"]})]}),e.jsxs("div",{className:n.slaCard,children:[e.jsx("div",{className:n.slaLabel,children:"MTTR"}),e.jsxs("div",{className:n.slaValue,children:[l.slaMetrics.mttr," min"]}),e.jsx("div",{className:n.slaTarget,children:"Mean Time To Recovery"})]}),e.jsxs("div",{className:n.slaCard,children:[e.jsx("div",{className:n.slaLabel,children:"MTBF"}),e.jsxs("div",{className:n.slaValue,children:[l.slaMetrics.mtbf," hrs"]}),e.jsx("div",{className:n.slaTarget,children:"Mean Time Between Failures"})]})]})]}),(l==null?void 0:l.technology)&&e.jsxs("div",{className:n.techSection,children:[e.jsxs("h3",{children:[e.jsx(ss,{size:20}),"Technology Stack"]}),e.jsxs("div",{className:n.techGrid,children:[e.jsxs("div",{className:n.techCard,children:[e.jsx("div",{className:n.techLabel,children:"Service"}),e.jsx("div",{className:n.techValue,children:l.technology.stack})]}),e.jsxs("div",{className:n.techCard,children:[e.jsx("div",{className:n.techLabel,children:"Resource Group"}),e.jsx("div",{className:n.techValue,children:l.technology.resourceGroup})]}),e.jsxs("div",{className:n.techCard,children:[e.jsx("div",{className:n.techLabel,children:"Region"}),e.jsx("div",{className:n.techValue,children:l.technology.region})]}),e.jsxs("div",{className:n.techCard,children:[e.jsx("div",{className:n.techLabel,children:"Subscription"}),e.jsx("div",{className:n.techValue,children:l.technology.subscriptionId})]})]})]}),(l==null?void 0:l.operationalInfo)&&e.jsxs("div",{className:n.configSection,children:[e.jsxs("h3",{children:[e.jsx(_s,{size:20}),"Operational Configuration"]}),e.jsxs("div",{className:n.configGrid,children:[e.jsxs("div",{className:n.configCard,children:[e.jsx("div",{className:n.configLabel,children:"Criticality Level"}),e.jsx("div",{className:`${n.configValue} ${n[`criticality-${l.operationalInfo.criticalityLevel}`]}`,children:l.operationalInfo.criticalityLevel.toUpperCase()})]}),e.jsxs("div",{className:n.configCard,children:[e.jsx("div",{className:n.configLabel,children:"Data Classification"}),e.jsxs("div",{className:`${n.configValue} ${n[`classification-${l.operationalInfo.dataClassification}`]}`,children:[e.jsx(ts,{size:14}),l.operationalInfo.dataClassification.toUpperCase()]})]}),e.jsxs("div",{className:n.configCard,children:[e.jsx("div",{className:n.configLabel,children:"Maintenance Window"}),e.jsxs("div",{className:n.configValue,children:[e.jsx(X,{size:14}),l.operationalInfo.maintenanceWindow]})]}),e.jsxs("div",{className:n.configCard,children:[e.jsx("div",{className:n.configLabel,children:"Compliance"}),e.jsx("div",{className:n.complianceList,children:l.operationalInfo.complianceRequirements.map((o,h)=>e.jsx("span",{className:n.complianceBadge,children:o},h))})]})]})]}),(l==null?void 0:l.performanceMetrics)&&e.jsxs("div",{className:n.perfSection,children:[e.jsxs("h3",{children:[e.jsx(ce,{size:20}),"Real-time Performance"]}),e.jsxs("div",{className:n.perfGrid,children:[e.jsxs("div",{className:n.perfCard,children:[e.jsx("div",{className:n.perfLabel,children:"Average Latency"}),e.jsxs("div",{className:n.perfValue,children:[l.performanceMetrics.avgLatency,"ms"]})]}),e.jsxs("div",{className:n.perfCard,children:[e.jsx("div",{className:n.perfLabel,children:"P95 Latency"}),e.jsxs("div",{className:n.perfValue,children:[l.performanceMetrics.p95Latency,"ms"]})]}),e.jsxs("div",{className:n.perfCard,children:[e.jsx("div",{className:n.perfLabel,children:"Error Rate"}),e.jsxs("div",{className:n.perfValue,children:[l.performanceMetrics.errorRate.toFixed(2),"%"]})]}),e.jsxs("div",{className:n.perfCard,children:[e.jsx("div",{className:n.perfLabel,children:"Throughput"}),e.jsxs("div",{className:n.perfValue,children:[l.performanceMetrics.throughputMbps," MB/s"]})]}),e.jsxs("div",{className:n.perfCard,children:[e.jsx("div",{className:n.perfLabel,children:"CPU Usage"}),e.jsxs("div",{className:n.perfValue,children:[l.performanceMetrics.cpuUtilization.toFixed(1),"%"]})]}),e.jsxs("div",{className:n.perfCard,children:[e.jsx("div",{className:n.perfLabel,children:"Memory Usage"}),e.jsxs("div",{className:n.perfValue,children:[l.performanceMetrics.memoryUtilization.toFixed(1),"%"]})]})]})]}),(l==null?void 0:l.troubleshooting)&&e.jsxs("div",{className:n.troubleshootSection,children:[e.jsxs("h3",{children:[e.jsx(re,{size:20}),"Troubleshooting Resources"]}),e.jsxs("div",{className:n.troubleshootGrid,children:[e.jsxs("div",{className:n.troubleshootCard,children:[e.jsx("h4",{children:"Common Issues"}),e.jsx("ul",{className:n.issuesList,children:l.troubleshooting.commonIssues.map((o,h)=>e.jsxs("li",{className:n.issueItem,children:[e.jsx(oe,{size:14}),o]},h))})]}),e.jsxs("div",{className:n.troubleshootCard,children:[e.jsx("h4",{children:"Health Check Endpoints"}),e.jsx("div",{className:n.endpointsList,children:l.troubleshooting.healthCheckEndpoints.map((o,h)=>e.jsxs("button",{className:n.endpointButton,onClick:()=>window.open(o,"_blank"),children:[e.jsx(K,{size:14}),"Health Check ",h+1,e.jsx(ee,{size:12})]},h))})]}),e.jsxs("div",{className:n.troubleshootCard,children:[e.jsx("h4",{children:"Diagnostic Queries"}),e.jsx("div",{className:n.queriesList,children:l.troubleshooting.logQuerySamples.slice(0,2).map((o,h)=>e.jsxs("div",{className:n.queryItem,children:[e.jsxs("div",{className:n.queryHeader,children:[e.jsxs("span",{children:["Query ",h+1]}),e.jsxs("button",{className:n.copyButton,onClick:()=>U(o,`Query ${h+1}`),children:[e.jsx(ie,{size:12}),M===`Query ${h+1}`?"Copied!":"Copy"]})]}),e.jsx("code",{className:n.queryCode,children:o})]},h))})]})]})]})]})}),C==="logs"&&e.jsx("div",{className:n.tabContent,children:e.jsxs("div",{className:n.logsSection,children:[e.jsx("h3",{children:"Log References"}),e.jsx("div",{className:n.logsList,children:P.map((o,h)=>e.jsxs("div",{className:n.logItem,children:[e.jsxs("div",{className:n.logHeader,children:[e.jsxs("div",{className:n.logSystem,children:[e.jsx(re,{size:16}),o.logSystem.toUpperCase()]}),e.jsxs("button",{className:n.logButton,onClick:()=>window.open(o.logUrl,"_blank"),children:[e.jsx(ee,{size:14}),"Open Logs"]})]}),e.jsxs("div",{className:n.logMeta,children:[e.jsxs("span",{children:["Correlation ID: ",o.correlationId]}),e.jsxs("span",{children:["Time Range: ",new Date(o.timeRange.start).toLocaleString()," -",new Date(o.timeRange.end).toLocaleString()]})]}),o.queryTemplate&&e.jsxs("div",{className:n.queryTemplate,children:[e.jsxs("div",{className:n.queryHeader,children:[e.jsx("span",{children:"Query Template:"}),e.jsxs("button",{className:n.copyButton,onClick:()=>U(o.queryTemplate,"Query"),children:[e.jsx(ie,{size:12}),M==="Query"?"Copied!":"Copy"]})]}),e.jsx("code",{className:n.queryCode,children:o.queryTemplate})]})]},h))})]})}),C==="metrics"&&e.jsx("div",{className:n.tabContent,children:e.jsxs("div",{className:n.metricsSection,children:[e.jsx("h3",{children:"Performance Metrics History"}),e.jsxs("div",{className:n.metricsPlaceholder,children:[e.jsx(K,{size:48}),e.jsx("p",{children:"Interactive metrics charts would be displayed here"}),e.jsx("p",{children:"Showing trends for: Records/sec, Processing Time, Error Rate, Data Quality"}),B.length>0&&e.jsxs("p",{className:n.metricsInfo,children:[B.length," historical data points available"]}),$&&e.jsxs("button",{className:n.grafanaButton,onClick:()=>window.open($,"_blank"),children:[e.jsx(ee,{size:16}),"View in Grafana"]})]})]})}),C==="impact"&&e.jsx("div",{className:n.tabContent,children:L?e.jsxs("div",{className:n.impactSection,children:[e.jsxs("div",{className:n.impactOverview,children:[e.jsx("h3",{children:"Impact Analysis"}),e.jsx("div",{className:n.impactLevel,children:e.jsxs("span",{className:n.impactBadge,style:{backgroundColor:G(L.businessImpactLevel)},children:[L.businessImpactLevel.toUpperCase()," IMPACT"]})})]}),e.jsxs("div",{className:n.impactGrid,children:[e.jsxs("div",{className:n.impactCard,children:[e.jsx("h4",{children:"Affected Downstream Pipelines"}),e.jsx("div",{className:n.affectedList,children:L.affectedDownstreamPipelines.map((o,h)=>e.jsxs("div",{className:n.affectedItem,children:[e.jsx(oe,{size:14}),o]},h))})]}),e.jsxs("div",{className:n.impactCard,children:[e.jsx("h4",{children:"Affected Destinations"}),e.jsx("div",{className:n.affectedList,children:L.affectedDestinations.map((o,h)=>e.jsxs("div",{className:n.affectedItem,children:[e.jsx(oe,{size:14}),o]},h))})]}),e.jsxs("div",{className:n.impactCard,children:[e.jsx("h4",{children:"Estimated Data Loss"}),e.jsxs("div",{className:n.impactMetric,children:[L.estimatedDataLoss.toLocaleString()," records"]})]}),e.jsxs("div",{className:n.impactCard,children:[e.jsx("h4",{children:"Recovery Time Estimate"}),e.jsxs("div",{className:n.impactMetric,children:[L.recoveryTimeEstimate," minutes"]})]})]})]}):e.jsxs("div",{className:n.noImpact,children:[e.jsx(se,{size:48}),e.jsx("h3",{children:"No Current Impact"}),e.jsx("p",{children:"This pipeline failure is not currently impacting downstream systems."})]})}),C==="runbooks"&&e.jsx("div",{className:n.tabContent,children:e.jsxs("div",{className:n.runbooksSection,children:[e.jsx("h3",{children:"Resolution Runbooks"}),e.jsx("div",{className:n.runbooksList,children:z.map((o,h)=>e.jsxs("div",{className:n.runbookItem,children:[e.jsxs("div",{className:n.runbookHeader,children:[e.jsx("h4",{children:o.title}),e.jsxs("div",{className:n.runbookMeta,children:[e.jsx(X,{size:14}),"~",o.estimatedResolutionTime," min"]})]}),e.jsx("p",{className:n.runbookDescription,children:o.description}),e.jsxs("button",{className:n.runbookButton,onClick:()=>window.open(o.url,"_blank"),children:[e.jsx(re,{size:16}),"Open Runbook"]})]},h))}),e.jsxs("div",{className:n.oncallInfo,children:[e.jsx("h4",{children:"On-Call Team"}),e.jsxs("div",{className:n.oncallDetails,children:[e.jsx(F,{size:16}),e.jsx("span",{children:D})]})]})]})})]})]})})},Oa="_dataLineage_bh4pt_2",Ua="_header_bh4pt_9",Wa="_headerContent_bh4pt_13",Fa="_titleSection_bh4pt_19",Qa="_title_bh4pt_19",Ka="_infoButton_bh4pt_37",Xa="_subtitle_bh4pt_57",Ya="_mainContent_bh4pt_64",Ja="_controls_bh4pt_70",Za="_searchContainer_bh4pt_82",en="_searchIcon_bh4pt_89",sn="_searchInput_bh4pt_99",tn="_filterSelect_bh4pt_120",an="_clearButton_bh4pt_137",nn="_filterIndicator_bh4pt_153",rn="_clearFilterButton_bh4pt_166",on="_contentGrid_bh4pt_181",cn="_visualizationPanel_bh4pt_188",ln="_legend_bh4pt_197",dn="_legendItem_bh4pt_209",mn="_legendDot_bh4pt_218",hn="_source_bh4pt_225",un="_ingestion_bh4pt_229",pn="_transformation_bh4pt_233",_n="_enrichment_bh4pt_237",fn="_destination_bh4pt_241",xn="_lineageContainer_bh4pt_245",gn="_lineageSvg_bh4pt_253",yn="_sectionLabel_bh4pt_260",jn="_nodeGroup_bh4pt_267",bn="_nodeRect_bh4pt_272",vn="_selectedNode_bh4pt_284",Nn="_nodeText_bh4pt_290",Sn="_nodeSubtext_bh4pt_295",Cn="_connectionLine_bh4pt_300",In="_flowDot_bh4pt_304",kn="_glow_bh4pt_1",Ln="_tooltip_bh4pt_309",wn="_nodePopup_bh4pt_315",Tn="_popupSlideIn_bh4pt_1",Mn="_nodePopupExpanded_bh4pt_331",An="_popupHeader_bh4pt_349",Pn="_popupTitle_bh4pt_358",zn="_popupActions_bh4pt_368",Dn="_popupButton_bh4pt_374",$n="_expandButtonContainer_bh4pt_392",En="_expandButton_bh4pt_392",Bn="_popupContent_bh4pt_418",Hn="_quickInfo_bh4pt_422",Gn="_quickInfoItem_bh4pt_429",Rn="_quickInfoLabel_bh4pt_435",qn="_quickInfoValue_bh4pt_443",Vn="_statusBadge_bh4pt_452",On="_statusHealthy_bh4pt_461",Un="_statusWarning_bh4pt_467",Wn="_statusFailed_bh4pt_473",Fn="_statusProcessing_bh4pt_479",Qn="_expandedContent_bh4pt_485",Kn="_expandedSection_bh4pt_492",Xn="_expandedSectionTitle_bh4pt_499",Yn="_expandedSectionContent_bh4pt_509",Jn="_detailItem_bh4pt_515",Zn="_detailLabel_bh4pt_522",ei="_detailValue_bh4pt_526",si="_tagList_bh4pt_531",ti="_tag_bh4pt_531",ai="_popupOverlay_bh4pt_547",ni="_metricGrid_bh4pt_558",ii="_metricItem_bh4pt_565",ri="_metricValue_bh4pt_573",oi="_metricLabel_bh4pt_580",ci="_sidePanel_bh4pt_614",li="_summaryGrid_bh4pt_647",di="_errorBadge_bh4pt_657",mi="_warning_bh4pt_675",hi="_nodeWithErrors_bh4pt_679",ui="_clickHint_bh4pt_689",pi="_errorNode_bh4pt_710",_i="_warningNode_bh4pt_716",fi="_techDetails_bh4pt_723",xi="_techItem_bh4pt_729",gi="_protocolTag_bh4pt_754",yi="_serviceTag_bh4pt_754",ji="_apiTag_bh4pt_754",bi="_networkTag_bh4pt_754",vi="_alertRule_bh4pt_754",Ni="_alertList_bh4pt_792",Si="_troubleshootingActions_bh4pt_799",Ci="_actionButton_bh4pt_805",Ii="_errorDetails_bh4pt_831",ki="_errorHeader_bh4pt_839",Li="_errorIcon_bh4pt_846",wi="_errorMessage_bh4pt_852",Ti="_errorMeta_bh4pt_859",Mi="_errorCode_bh4pt_865",Ai="_errorTime_bh4pt_875",Pi="_suggestedActions_bh4pt_880",zi="_viewFullErrorButton_bh4pt_904",Di="_monitoringLinks_bh4pt_933",$i="_logLink_bh4pt_940",Ei="_communicationLinks_bh4pt_961",Bi="_commLink_bh4pt_970",Hi="_detailTitle_bh4pt_992",Gi="_pulse_bh4pt_1",Ri="_linkList_bh4pt_1010",qi="_link_bh4pt_1010",Vi="_codeSnippets_bh4pt_1032",Oi="_codeSnippet_bh4pt_1032",Ui="_summaryCard_bh4pt_1065",Wi="_summaryIcon_bh4pt_1101",Fi="_summaryContent_bh4pt_1139",Qi="_summaryValue_bh4pt_1146",Ki="_summaryLabel_bh4pt_1158",t={dataLineage:Oa,header:Ua,headerContent:Wa,titleSection:Fa,title:Qa,infoButton:Ka,subtitle:Xa,mainContent:Ya,controls:Ja,searchContainer:Za,searchIcon:en,searchInput:sn,filterSelect:tn,clearButton:an,filterIndicator:nn,clearFilterButton:rn,contentGrid:on,visualizationPanel:cn,legend:ln,legendItem:dn,legendDot:mn,source:hn,ingestion:un,transformation:pn,enrichment:_n,destination:fn,lineageContainer:xn,lineageSvg:gn,sectionLabel:yn,nodeGroup:jn,nodeRect:bn,selectedNode:vn,nodeText:Nn,nodeSubtext:Sn,connectionLine:Cn,flowDot:In,glow:kn,tooltip:Ln,nodePopup:wn,popupSlideIn:Tn,nodePopupExpanded:Mn,popupHeader:An,popupTitle:Pn,popupActions:zn,popupButton:Dn,expandButtonContainer:$n,expandButton:En,popupContent:Bn,quickInfo:Hn,quickInfoItem:Gn,quickInfoLabel:Rn,quickInfoValue:qn,statusBadge:Vn,statusHealthy:On,statusWarning:Un,statusFailed:Wn,statusProcessing:Fn,expandedContent:Qn,expandedSection:Kn,expandedSectionTitle:Xn,expandedSectionContent:Yn,detailItem:Jn,detailLabel:Zn,detailValue:ei,tagList:si,tag:ti,popupOverlay:ai,metricGrid:ni,metricItem:ii,metricValue:ri,metricLabel:oi,sidePanel:ci,summaryGrid:li,errorBadge:di,warning:mi,nodeWithErrors:hi,clickHint:ui,errorNode:pi,warningNode:_i,techDetails:fi,techItem:xi,protocolTag:gi,serviceTag:yi,apiTag:ji,networkTag:bi,alertRule:vi,alertList:Ni,troubleshootingActions:Si,actionButton:Ci,errorDetails:Ii,errorHeader:ki,errorIcon:Li,errorMessage:wi,errorMeta:Ti,errorCode:Mi,errorTime:Ai,suggestedActions:Pi,viewFullErrorButton:zi,monitoringLinks:Di,logLink:$i,communicationLinks:Ei,commLink:Bi,detailTitle:Hi,pulse:Gi,linkList:Ri,link:qi,codeSnippets:Vi,codeSnippet:Oi,summaryCard:Ui,summaryIcon:Wi,summaryContent:Fi,summaryValue:Qi,summaryLabel:Ki},Xi=b.memo(()=>{var le,de,me,he,ue,pe,_e,fe,xe,ge,ye,je,be,ve,Ne,Se,Ce,Ie,ke,Le,we,Te,Me,Ae,Pe,ze,De,$e,Ee,Be,He,Ge,Re,qe,Ve,Oe,Ue;const[q,Y]=b.useState(""),[v,g]=b.useState("all"),[i,P]=b.useState(null),[B,L]=b.useState(null),[z,D]=b.useState([]),[w,T]=b.useState(!1),[J,$]=b.useState(!1),[H,l]=b.useState(!1),[C,V]=b.useState({x:0,y:0}),[M,O]=b.useState(!1),U=b.useRef(null),c=a=>{let r=0;for(let d=0;d<a.length;d++){const u=a.charCodeAt(d);r=(r<<5)-r+u,r=r&r}return Math.abs(r)/2147483647},G=()=>{const a=[],r=[],d=["LinkedIn","Twitter","Office365","AzureAD","GitHub","ThreatIntel","Exchange","Teams","SharePoint","PowerBI"];d.forEach((s,j)=>{var N;const x=c(`${s}-status`),f=["healthy","warning","failed"],p=f[Math.floor(x*f.length)],m=ae.filter(te=>te.source===s),S=m.length>0?m[0]:null;a.push({id:`source-${s}`,name:s,type:"source",source:s,x:50,y:80+j*80,status:p,recordsPerSecond:Math.floor(c(`${s}-records`)*1e3)+100,avgProcessingTime:Math.floor(c(`${s}-time`)*500)+50,connections:[],description:`Data ingestion from ${s} platform`,lastUpdate:new Date(Date.now()-c(`${s}-update`)*36e5).toISOString(),dataQuality:Math.floor(c(`${s}-quality`)*20)+80,pipelineData:S,hasErrors:p==="failed"||p==="warning",errorCount:((N=S==null?void 0:S.errorHistory)==null?void 0:N.length)||(p==="failed"?3:p==="warning"?1:0),technology:s==="Office365"||s==="Exchange"||s==="Teams"||s==="SharePoint"?"Microsoft Graph API":s==="AzureAD"?"Azure Active Directory Logs":s==="LinkedIn"||s==="Twitter"?"Azure Event Hubs":s==="GitHub"?"GitHub REST API â†’ Azure Logic Apps":s==="ThreatIntel"?"Microsoft Defender for Threat Intelligence API":"Azure Event Hubs",resourceGroup:"rg-mstic-prod-eastus2",subscriptionId:"mstic-prod-subscription",region:"East US 2",throughputUnits:["LinkedIn","Twitter"].includes(s)?20:10,partitionCount:["LinkedIn","Twitter"].includes(s)?32:16,retentionDays:7,protocols:s==="Office365"||s==="AzureAD"?["HTTPS","OAuth 2.0"]:s==="GitHub"?["HTTPS","Webhook"]:["HTTPS","AMQP 1.0","Kafka"],authentication:s==="Office365"||s==="AzureAD"?"Managed Identity + Application Registration":s==="GitHub"?"GitHub App + Personal Access Token":"Managed Identity + Shared Access Key",monitoring:{applicationInsights:"ai-mstic-ingestion-prod",logAnalyticsWorkspace:"law-mstic-prod-eastus2",kustoCluster:"msticdata.eastus2.kusto.windows.net",alertRules:[`${s}_ingestion_failure`,`${s}_throughput_low`,`${s}_latency_high`]},dependencies:{keyVault:"kv-mstic-secrets-prod",serviceAccounts:[`sa-${s.toLowerCase()}-ingestion`],externalApis:s==="Office365"?["graph.microsoft.com"]:s==="GitHub"?["api.github.com"]:s==="LinkedIn"?["api.linkedin.com"]:s==="Twitter"?["api.twitter.com"]:[],networkConnections:["Virtual Network Gateway","Private Endpoints","Service Endpoints"]},slaMetrics:{uptime:Math.max(95,100-c(`${s}-uptime`)*5),targetUptime:99.9,mttr:Math.floor(c(`${s}-mttr`)*30)+5,mtbf:Math.floor(c(`${s}-mtbf`)*168)+24},operationalInfo:{owner:s==="Office365"||s==="AzureAD"?"MSTIC Identity Team":s==="GitHub"||s==="LinkedIn"?"MSTIC External Feeds Team":"MSTIC Data Ingestion Team",escalationPath:["On-call Engineer","Team Lead","Principal Engineer","Engineering Manager"],maintenanceWindow:"Sundays 02:00-04:00 UTC",criticalityLevel:["Office365","AzureAD","ThreatIntel"].includes(s)?"critical":["LinkedIn","Twitter"].includes(s)?"high":"medium",dataClassification:["Office365","AzureAD"].includes(s)?"confidential":"internal",complianceRequirements:["Office365","AzureAD"].includes(s)?["GDPR","SOX","ISO 27001","FedRAMP"]:["GDPR","ISO 27001"]},performanceMetrics:{avgLatency:Math.floor(c(`${s}-latency`)*200)+50,p95Latency:Math.floor(c(`${s}-p95`)*500)+100,errorRate:Math.round(c(`${s}-errors`)*2*100)/100,throughputMbps:Math.floor(c(`${s}-throughput`)*100)+10,cpuUtilization:Math.floor(c(`${s}-cpu`)*30)+20,memoryUtilization:Math.floor(c(`${s}-memory`)*40)+30},troubleshooting:{commonIssues:[`${s} API rate limiting`,"Authentication token expiration","Network connectivity issues","Data format validation errors"],runbookUrls:[`https://mstic.wiki/runbooks/${s.toLowerCase()}-ingestion`,`https://mstic.wiki/troubleshooting/${s.toLowerCase()}-common-issues`],logQuerySamples:[`${s}Ingestion_CL | where TimeGenerated > ago(1h) | where Level == "Error"`,`${s}Metrics_CL | summarize avg(RecordsPerSecond) by bin(TimeGenerated, 5m)`],healthCheckEndpoints:[`https://mstic-monitoring.azurewebsites.net/health/${s.toLowerCase()}`,`https://mstic-api.azurewebsites.net/status/${s.toLowerCase()}`]}})}),[{type:"ingestion",x:350},{type:"transformation",x:650},{type:"enrichment",x:950}].forEach(({type:s,x:j})=>{const x={};ae.forEach(m=>{x[m.source]||(x[m.source]=[]),x[m.source].push(m)});const f=[];d.forEach(m=>{const S=x[m]||[];if(S.length>0){const N=Math.floor(c(`${s}-${m}`)*S.length);f.push(S[N])}});const p=f.map((m,S)=>{var N;return{id:`${s}-${m.id}`,name:`${s.charAt(0).toUpperCase()+s.slice(1)} - ${m.name.split(" ").slice(0,3).join(" ")}`,type:s,source:m.source,x:j,y:80+S*80,status:m.status,recordsPerSecond:Math.floor(m.recordsProcessed/60),avgProcessingTime:m.avgProcessingTime,connections:[],description:`${s} pipeline: ${m.name}`,lastUpdate:m.lastRun.toISOString(),dataQuality:Math.floor(c(`${m.id}-quality`)*15)+85,actualPipeline:m,pipelineData:m,hasErrors:m.status==="failed"||m.status==="warning",errorCount:((N=m.errorHistory)==null?void 0:N.length)||0,technology:s==="ingestion"?"Azure Data Factory":s==="transformation"?"Azure Synapse Analytics (Spark Pools)":"Azure Databricks + Azure Functions",resourceGroup:`rg-mstic-${s}-prod-eastus2`,subscriptionId:"mstic-prod-subscription",region:"East US 2",computeType:s==="ingestion"?"Integration Runtime (Auto-resolve)":s==="transformation"?"Spark Pool (Medium: 8-32 nodes)":"Databricks Cluster (Standard_DS3_v2)",partitionCount:s==="transformation"?64:32,retentionDays:30,protocols:s==="ingestion"?["HTTPS","ODBC","JDBC"]:s==="transformation"?["Spark SQL","Delta Lake"]:["Python","Scala","Delta Lake","MLflow"],authentication:"Managed Identity + Azure Key Vault",monitoring:{applicationInsights:`ai-mstic-${s}-prod`,logAnalyticsWorkspace:"law-mstic-prod-eastus2",kustoCluster:"msticdata.eastus2.kusto.windows.net",alertRules:[`${s}_pipeline_failure`,`${s}_processing_delay`,`${s}_resource_exhaustion`]},dependencies:{keyVault:"kv-mstic-secrets-prod",serviceAccounts:[`sa-${s}-${m.source.toLowerCase()}`],externalApis:s==="enrichment"?["threatintelligence.microsoft.com","virusshare.com"]:[],networkConnections:["Azure Virtual Network","Private Link","Managed Virtual Network"]},slaMetrics:{uptime:Math.max(95,100-c(`${m.id}-uptime`)*5),targetUptime:s==="ingestion"?99.95:99.9,mttr:Math.floor(c(`${m.id}-mttr`)*20)+10,mtbf:Math.floor(c(`${m.id}-mtbf`)*120)+48},operationalInfo:{owner:s==="ingestion"?"MSTIC Data Ingestion Team":s==="transformation"?"MSTIC Data Platform Team":"MSTIC ML Engineering Team",escalationPath:["On-call Engineer","Senior Engineer","Team Lead","Principal Engineer"],maintenanceWindow:s==="transformation"?"Saturdays 01:00-03:00 UTC":"Sundays 03:00-05:00 UTC",criticalityLevel:s==="ingestion"?"high":s==="transformation"?"critical":"medium",dataClassification:"internal",complianceRequirements:["GDPR","ISO 27001","SOC 2"]},performanceMetrics:{avgLatency:s==="ingestion"?Math.floor(c(`${m.id}-lat1`)*100)+20:s==="transformation"?Math.floor(c(`${m.id}-lat2`)*300)+100:Math.floor(c(`${m.id}-lat3`)*500)+200,p95Latency:s==="ingestion"?Math.floor(c(`${m.id}-p95-1`)*200)+50:s==="transformation"?Math.floor(c(`${m.id}-p95-2`)*600)+200:Math.floor(c(`${m.id}-p95-3`)*1e3)+500,errorRate:Math.round(c(`${m.id}-errors`)*1.5*100)/100,throughputMbps:Math.floor(c(`${m.id}-throughput`)*200)+50,cpuUtilization:Math.floor(c(`${m.id}-cpu`)*40)+30,memoryUtilization:Math.floor(c(`${m.id}-memory`)*50)+25},troubleshooting:{commonIssues:[`${s} pipeline timeout issues`,"Resource scaling limitations","Data schema validation errors","Memory pressure during peak loads"],runbookUrls:[`https://mstic.wiki/runbooks/${s}-pipeline-troubleshooting`,`https://mstic.wiki/scaling/${s}-performance-tuning`],logQuerySamples:[`${s.charAt(0).toUpperCase()+s.slice(1)}Pipeline_CL | where TimeGenerated > ago(1h) | where Level == "Error"`,`${s.charAt(0).toUpperCase()+s.slice(1)}Metrics_CL | summarize avg(ProcessingTimeMs) by bin(TimeGenerated, 5m)`],healthCheckEndpoints:[`https://mstic-monitoring.azurewebsites.net/health/${s}`,`https://mstic-${s}.azurewebsites.net/status`]}}});a.push(...p)});const _=[{name:"MSTIC Data Lake",types:["storage","archive"],priority:1},{name:"Threat Intelligence DB",types:["threat","intel"],priority:1},{name:"Security Analytics Store",types:["analytics","ml"],priority:2},{name:"Alert System",types:["realtime","alerts"],priority:1},{name:"ML Training Data",types:["ml","training"],priority:3},{name:"Compliance Archive",types:["compliance","audit"],priority:2},{name:"Real-time Dashboard",types:["realtime","dashboard"],priority:1},{name:"API Gateway",types:["api","external"],priority:2},{name:"Kusto Analytics Engine",types:["kusto","analytics"],priority:1}],I={id:"parquet-staging-pipeline",name:"Parquet Field Extraction Staging",type:"transformation",x:500,y:880,status:"healthy",recordsPerSecond:2340,avgProcessingTime:450,connections:[],description:"Staging table for selective JSON field extraction from high-volume Parquet ingestion",lastUpdate:new Date().toISOString(),dataQuality:98,technology:"Azure Data Factory + Delta Lake + Kusto",resourceGroup:"rg-mstic-staging-prod-eastus2",subscriptionId:"mstic-prod-subscription",region:"East US 2",computeType:"Azure Data Factory Integration Runtime",partitionCount:64,retentionDays:7,protocols:["HTTPS","Delta Lake","KQL"],authentication:"Managed Identity + Service Principal",monitoring:{applicationInsights:"ai-mstic-staging-prod",logAnalyticsWorkspace:"law-mstic-prod-eastus2",kustoCluster:"msticdata.eastus2.kusto.windows.net",alertRules:["parquet_staging_failure","parquet_field_extraction_delay","staging_table_capacity"]},dependencies:{keyVault:"kv-mstic-secrets-prod",serviceAccounts:["sa-parquet-staging"],externalApis:[],networkConnections:["Private Link to Kusto","ADLS Private Endpoint"]},slaMetrics:{uptime:99.8,targetUptime:99.9,mttr:12,mtbf:168},operationalInfo:{owner:"MSTIC Data Platform Team",escalationPath:["On-call Engineer","Senior Data Engineer","Principal Engineer"],maintenanceWindow:"Saturdays 02:00-04:00 UTC",criticalityLevel:"high",dataClassification:"internal",complianceRequirements:["GDPR","ISO 27001"]},performanceMetrics:{avgLatency:450,p95Latency:850,errorRate:.8,throughputMbps:320,cpuUtilization:45,memoryUtilization:60},troubleshooting:{commonIssues:["JSON field extraction timeout","Parquet schema evolution issues","Kusto ingestion capacity limits","Delta Lake table optimization needed"],runbookUrls:["https://mstic.wiki/runbooks/parquet-staging-troubleshooting","https://mstic.wiki/kusto/field-extraction-optimization"],logQuerySamples:['ParquetStagingPipeline_CL | where TimeGenerated > ago(1h) | where Level == "Error"',"ParquetFieldExtraction_CL | summarize avg(ProcessingTimeMs) by bin(TimeGenerated, 5m)"],healthCheckEndpoints:["https://mstic-monitoring.azurewebsites.net/health/parquet-staging","https://mstic-staging.azurewebsites.net/status/field-extraction"]},scenarioDetails:{problem:"Extract specific JSON fields from thousands of Parquet files per hour",solution:"Staging table with conditional ingestion trigger",sourceFormat:"Parquet files (Azure Data Lake)",targetSystem:"Azure Data Explorer (Kusto)",volumePerHour:"~3,000 files",fieldFilter:"user_activity.threat_indicators",triggerCondition:"IF field_exists AND field_not_null"},stagingDetails:{tableName:"threat_indicators_staging",partitionStrategy:"BY (date_hour, source_system)",retentionPolicy:"7 days (staging only)",compressionRatio:"85%",indexStrategy:"Clustered on timestamp, source_ip"}};_.forEach((s,j)=>{const x=c(`${s.name}-status`),f=["healthy","warning"],p=f[Math.floor(x*f.length)];a.push({id:`dest-${s.name}`,name:s.name,type:"destination",x:1250,y:80+j*80,status:p,recordsPerSecond:Math.floor(c(`${s.name}-records`)*500)+50,avgProcessingTime:Math.floor(c(`${s.name}-time`)*100)+20,connections:[],description:`Data destination: ${s.name}`,lastUpdate:new Date(Date.now()-c(`${s.name}-update`)*18e5).toISOString(),dataQuality:Math.floor(c(`${s.name}-quality`)*10)+90,destinationTypes:s.types,priority:s.priority,technology:s.name.includes("Data Lake")?"Azure Data Lake Storage Gen2 (ADLS)":s.name.includes("DB")||s.name.includes("Database")?"Azure SQL Database (Premium)":s.name.includes("Analytics")?"Azure Synapse Analytics (SQL Pool)":s.name.includes("Alert")?"Azure Logic Apps + Service Bus":s.name.includes("ML")?"Azure Machine Learning Studio":s.name.includes("Compliance")?"Azure Purview + Archive Storage":s.name.includes("Dashboard")?"Power BI Premium + Azure SignalR":"Azure API Management + Application Gateway",resourceGroup:"rg-mstic-storage-prod-eastus2",subscriptionId:"mstic-prod-subscription",region:"East US 2",storageType:s.name.includes("Data Lake")?"Hot (Standard LRS) + Cool Archive":s.name.includes("Analytics")?"Premium SSD + Columnstore Index":s.name.includes("ML")?"Standard SSD + Blob Storage":s.name.includes("Compliance")?"Archive Storage (GRS)":"Standard Storage (ZRS)",partitionCount:s.name.includes("Data Lake")?128:s.name.includes("Analytics")?256:s.name.includes("Alert")?64:32,retentionDays:s.name.includes("Compliance")?2555:s.name.includes("Archive")?365:s.name.includes("ML")?180:90,protocols:s.name.includes("Data Lake")?["HTTPS","REST API","ABFS"]:s.name.includes("DB")?["TDS","HTTPS","ODBC"]:s.name.includes("Alert")?["HTTPS","AMQP","Service Bus"]:s.name.includes("API")?["HTTPS","OAuth 2.0","OpenAPI"]:["HTTPS","WebSocket","REST API"],authentication:s.name.includes("Data Lake")?"Managed Identity + ACLs + RBAC":s.name.includes("DB")?"Managed Identity + SQL Authentication":s.name.includes("ML")?"Service Principal + Workspace MSI":"Managed Identity + Key Vault",monitoring:{applicationInsights:"ai-mstic-destinations-prod",logAnalyticsWorkspace:"law-mstic-prod-eastus2",kustoCluster:"msticdata.eastus2.kusto.windows.net",alertRules:[`${s.name.replace(/\s+/g,"_").toLowerCase()}_capacity`,`${s.name.replace(/\s+/g,"_").toLowerCase()}_latency`,`${s.name.replace(/\s+/g,"_").toLowerCase()}_availability`]},dependencies:{keyVault:"kv-mstic-secrets-prod",serviceAccounts:[`sa-${s.name.replace(/\s+/g,"-").toLowerCase()}`],externalApis:s.name.includes("API")?["partner-apis.microsoft.com"]:[],networkConnections:["Private Endpoints","VNet Integration","Service Endpoints"]},slaMetrics:{uptime:Math.max(98,100-c(`${s.name}-uptime`)*2),targetUptime:s.name.includes("Data Lake")||s.name.includes("Alert")?99.99:99.9,mttr:Math.floor(c(`${s.name}-mttr`)*15)+5,mtbf:Math.floor(c(`${s.name}-mtbf`)*200)+100},operationalInfo:{owner:s.name.includes("Data Lake")||s.name.includes("Analytics")?"MSTIC Data Platform Team":s.name.includes("Alert")||s.name.includes("Dashboard")?"MSTIC Operations Team":s.name.includes("ML")?"MSTIC ML Engineering Team":s.name.includes("Compliance")?"MSTIC Compliance Team":"MSTIC Infrastructure Team",escalationPath:["On-call Engineer","Senior Engineer","Team Lead","Engineering Manager"],maintenanceWindow:s.name.includes("Alert")?"None (24/7 Operations)":"Sundays 01:00-03:00 UTC",criticalityLevel:s.name.includes("Alert")||s.name.includes("Data Lake")?"critical":s.name.includes("Dashboard")||s.name.includes("Analytics")?"high":"medium",dataClassification:s.name.includes("Compliance")?"confidential":"internal",complianceRequirements:s.name.includes("Compliance")?["GDPR","SOX","ISO 27001","FedRAMP","HIPAA"]:["GDPR","ISO 27001","SOC 2"]},performanceMetrics:{avgLatency:s.name.includes("Data Lake")?Math.floor(c(`${s.name}-lat1`)*50)+10:s.name.includes("Alert")?Math.floor(c(`${s.name}-lat2`)*100)+50:s.name.includes("Analytics")?Math.floor(c(`${s.name}-lat3`)*200)+100:Math.floor(c(`${s.name}-lat4`)*150)+75,p95Latency:s.name.includes("Data Lake")?Math.floor(c(`${s.name}-p95-1`)*100)+25:s.name.includes("Alert")?Math.floor(c(`${s.name}-p95-2`)*200)+100:s.name.includes("Analytics")?Math.floor(c(`${s.name}-p95-3`)*500)+250:Math.floor(c(`${s.name}-p95-4`)*300)+150,errorRate:Math.round(c(`${s.name}-errors`)*1*100)/100,throughputMbps:s.name.includes("Data Lake")?Math.floor(c(`${s.name}-through1`)*500)+100:s.name.includes("Analytics")?Math.floor(c(`${s.name}-through2`)*300)+50:Math.floor(c(`${s.name}-through3`)*200)+25,cpuUtilization:Math.floor(c(`${s.name}-cpu`)*25)+15,memoryUtilization:Math.floor(c(`${s.name}-memory`)*35)+20},troubleshooting:{commonIssues:[`${s.name} capacity management`,"Query performance optimization","Connection pool exhaustion","Storage tier optimization"],runbookUrls:[`https://mstic.wiki/runbooks/${s.name.replace(/\s+/g,"-").toLowerCase()}-maintenance`,`https://mstic.wiki/troubleshooting/${s.name.replace(/\s+/g,"-").toLowerCase()}-performance`],logQuerySamples:[`${s.name.replace(/\s+/g,"")}Logs_CL | where TimeGenerated > ago(1h) | where Level == "Error"`,`${s.name.replace(/\s+/g,"")}Metrics_CL | summarize avg(ResponseTimeMs) by bin(TimeGenerated, 5m)`],healthCheckEndpoints:[`https://mstic-monitoring.azurewebsites.net/health/${s.name.replace(/\s+/g,"-").toLowerCase()}`,`https://mstic-storage.azurewebsites.net/status/${s.name.replace(/\s+/g,"-").toLowerCase()}`]}})}),a.push(I),a.push({id:"parquet-source-adls",name:"Azure Data Lake (Parquet)",type:"source",source:"AzureAD",x:50,y:880,status:"healthy",recordsPerSecond:4500,avgProcessingTime:120,connections:[],description:"High-volume Parquet file ingestion from ADLS Gen2",lastUpdate:new Date().toISOString(),dataQuality:96,technology:"Azure Data Lake Storage Gen2",resourceGroup:"rg-mstic-datalake-prod-eastus2",subscriptionId:"mstic-prod-subscription",region:"East US 2",throughputUnits:50,partitionCount:128,retentionDays:30,protocols:["HTTPS","ABFS","REST API"],authentication:"Managed Identity + ACLs",monitoring:{applicationInsights:"ai-mstic-datalake-prod",logAnalyticsWorkspace:"law-mstic-prod-eastus2",kustoCluster:"msticdata.eastus2.kusto.windows.net",alertRules:["parquet_ingestion_failure","parquet_throughput_low","parquet_storage_capacity"]},dependencies:{keyVault:"kv-mstic-secrets-prod",serviceAccounts:["sa-adls-parquet-reader"],externalApis:[],networkConnections:["Private Endpoints","VNet Integration"]},slaMetrics:{uptime:99.95,targetUptime:99.99,mttr:5,mtbf:720},operationalInfo:{owner:"MSTIC Data Platform Team",escalationPath:["On-call Engineer","Storage Lead","Principal Engineer","Engineering Manager"],maintenanceWindow:"Sundays 01:00-02:00 UTC",criticalityLevel:"critical",dataClassification:"internal",complianceRequirements:["GDPR","ISO 27001","SOC 2"]},performanceMetrics:{avgLatency:45,p95Latency:120,errorRate:.05,throughputMbps:850,cpuUtilization:15,memoryUtilization:25},troubleshooting:{commonIssues:["Parquet file format validation errors","Storage tier access delays","Network connectivity to ADLS","Authentication token expiration"],runbookUrls:["https://mstic.wiki/runbooks/adls-parquet-troubleshooting","https://mstic.wiki/storage/adls-performance-optimization"],logQuerySamples:['ADLSParquetIngestion_CL | where TimeGenerated > ago(1h) | where Level == "Error"',"ADLSMetrics_CL | summarize avg(ThroughputMbps) by bin(TimeGenerated, 5m)"],healthCheckEndpoints:["https://mstic-monitoring.azurewebsites.net/health/adls-parquet","https://mstic-datalake.azurewebsites.net/status/parquet-ingestion"]},actualPipeline:null,hasErrors:!1,errorCount:0}),a.forEach(s=>{if(s.type==="source")a.filter(x=>x.type==="ingestion"&&x.source===s.source).forEach(x=>{const f=`${s.id}-${x.id}`,p=c(`${f}-volume`),m=["low","medium","high"],S=m[Math.floor(p*m.length)];r.push({id:f,from:s.id,to:x.id,volume:S,health:s.status==="failed"?"error":s.status==="warning"?"warning":"healthy",animated:s.status!=="failed"}),s.connections.push(x.id),x.connections.push(s.id)});else if(s.type==="ingestion"){const j=a.find(x=>x.type==="source"&&x.source===s.source);(j==null?void 0:j.status)!=="failed"&&a.filter(f=>f.type==="transformation"&&f.source===s.source).slice(0,2).forEach(f=>{const p=`${s.id}-${f.id}`,m=c(`${p}-volume`),S=["medium","high"],N=S[Math.floor(m*S.length)];r.push({id:p,from:s.id,to:f.id,volume:N,health:s.status==="failed"?"error":s.status==="warning"?"warning":"healthy",animated:s.status!=="failed"}),s.connections.push(f.id),f.connections.push(s.id)})}else if(s.type==="transformation"){const j=a.find(f=>f.type==="ingestion"&&f.source===s.source),x=a.find(f=>f.type==="source"&&f.source===s.source);(x==null?void 0:x.status)!=="failed"&&(j==null?void 0:j.status)!=="failed"&&a.filter(p=>p.type==="enrichment"&&p.source===s.source).slice(0,2).forEach(p=>{const m=`${s.id}-${p.id}`;r.push({id:m,from:s.id,to:p.id,volume:"high",health:s.status==="failed"?"error":s.status==="warning"?"warning":"healthy",animated:s.status!=="failed"}),s.connections.push(p.id),p.connections.push(s.id)})}else if(s.type==="enrichment"){const j=a.find(p=>p.type==="source"&&p.source===s.source),x=a.find(p=>p.type==="ingestion"&&p.source===s.source),f=a.find(p=>p.type==="transformation"&&p.source===s.source);if((j==null?void 0:j.status)!=="failed"&&(x==null?void 0:x.status)!=="failed"&&(f==null?void 0:f.status)!=="failed"){const m={LinkedIn:["Threat Intelligence DB","MSTIC Data Lake","ML Training Data"],Twitter:["Real-time Dashboard","Alert System","Security Analytics Store"],Office365:["Compliance Archive","Security Analytics Store","Alert System"],AzureAD:["Security Analytics Store","Alert System","Threat Intelligence DB"],GitHub:["Threat Intelligence DB","Security Analytics Store","API Gateway"],ThreatIntel:["Alert System","Threat Intelligence DB","Real-time Dashboard"],Exchange:["Compliance Archive","Security Analytics Store","Alert System"],Teams:["Compliance Archive","Real-time Dashboard","Security Analytics Store"],SharePoint:["Compliance Archive","MSTIC Data Lake","Security Analytics Store"],PowerBI:["Real-time Dashboard","Security Analytics Store","API Gateway"]}[s.source]||["MSTIC Data Lake","Security Analytics Store","Alert System"];a.filter(N=>N.type==="destination"&&m.includes(N.name)).forEach(N=>{const te=`${s.id}-${N.id}`;r.push({id:te,from:s.id,to:N.id,volume:"high",health:s.status==="failed"?"error":s.status==="warning"?"warning":"healthy",animated:s.status!=="failed"}),s.connections.push(N.id),N.connections.push(s.id)})}}});const y=a.find(s=>s.id==="parquet-source-adls"),k=a.find(s=>s.id==="parquet-staging-pipeline"),Z=a.find(s=>s.name==="Kusto Analytics Engine");return y&&k&&Z&&(r.push({id:"parquet-to-staging",from:y.id,to:k.id,volume:"high",health:"healthy",animated:!0}),y.connections.push(k.id),k.connections.push(y.id),r.push({id:"staging-to-kusto",from:k.id,to:Z.id,volume:"medium",health:"healthy",animated:!0}),k.connections.push(Z.id),Z.connections.push(k.id)),{nodes:a,connections:r}},{nodes:A,connections:E}=b.useMemo(()=>{const a=G(),r=a.nodes.filter(d=>d.hasErrors);return console.log("Generated nodes:",{total:a.nodes.length,withErrors:r.length,errorNodes:r.map(d=>({id:d.id,name:d.name,status:d.status,errorCount:d.errorCount}))}),a},[]),o=b.useMemo(()=>v==="all"?E:E.filter(a=>{const r=A.find(u=>u.id===a.from),d=A.find(u=>u.id===a.to);return(r==null?void 0:r.source)===v||(d==null?void 0:d.source)===v?!0:(d==null?void 0:d.type)==="destination"?E.filter(_=>{var I;return _.to===d.id&&((I=A.find(y=>y.id===_.from))==null?void 0:I.type)==="enrichment"}).some(_=>{const I=A.find(y=>y.id===_.from);return(I==null?void 0:I.source)===v}):!1}),[A,E,v]),h=A,W=o;b.useEffect(()=>{D([]),P(null)},[v]),b.useEffect(()=>{const a=()=>{if(H&&i){let u=C.x,_=C.y;u+420>window.innerWidth-20&&(u=window.innerWidth-420-20),_+400>window.innerHeight-20&&(_=window.innerHeight-400-20),u<20&&(u=20),_<20&&(_=20),V({x:u,y:_})}};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[H,i,C]);const R=h.filter(a=>a.name.toLowerCase().includes(q.toLowerCase())||a.source&&a.source.toLowerCase().includes(q.toLowerCase())),ns=a=>{const r=new Set,d=[],u=_=>{if(r.has(_))return;r.add(_),d.push(_);const I=h.find(y=>y.id===_);I&&I.connections.forEach(y=>{r.has(y)||u(y)})};u(a),D(d)},is=(a,r)=>{O(!1);const d=420,u=400,_=r.clientX,I=r.clientY;let y=_+15,k=I+15;y+d>window.innerWidth-20&&(y=_-d-15),k+u>window.innerHeight-20&&(k=I-u-15),y<20&&(y=20),k<20&&(k=20),d>window.innerWidth-40&&(y=20),u>window.innerHeight-40&&(k=20),V({x:y,y:k}),P(a),l(!0),a.type==="source"&&a.source?(g(a.source),D([])):ns(a.id)},rs=()=>{const a=!M;if(O(a),!i)return;const r=a?800:420,d=a?600:400;let u=C.x,_=C.y;u+r>window.innerWidth-20&&(u=window.innerWidth-r-20),_+d>window.innerHeight-20&&(_=window.innerHeight-d-20),u<20&&(u=20),_<20&&(_=20),V({x:u,y:_})},os=a=>{console.log("Node double-clicked:",{id:a.id,name:a.name,status:a.status,hasErrors:a.hasErrors,errorCount:a.errorCount,hasPipelineData:!!a.pipelineData,pipelineDataKeys:a.pipelineData?Object.keys(a.pipelineData):[]}),(a.status==="failed"||a.status==="warning")&&a.pipelineData?(console.log("Opening error modal for node:",a.name),P(a),T(!0)):console.log("Not opening modal - conditions not met")},cs=a=>{if(z.length>0&&!z.includes(a.id))return"#444";if(v!=="all"){if(a.type==="source"&&a.source===v)return"#0078d4";if(a.type==="source"&&a.source!==v)return"#333";if(a.type!=="source"&&a.type!=="destination")if(a.source===v)switch(a.type){case"ingestion":return"#52c41a";case"transformation":return"#faad14";case"enrichment":return"#8b5cf6";default:return"#888"}else return"#333";if(a.type==="destination")return W.some(d=>d.to===a.id)?"#ef4444":"#333"}switch(a.type){case"source":return"#0078d4";case"ingestion":return"#52c41a";case"transformation":return"#faad14";case"enrichment":return"#8b5cf6";case"destination":return"#ef4444";default:return"#888"}},ls=a=>{const r=z.includes(a.from)&&z.includes(a.to);return{strokeWidth:a.volume==="high"?"3":a.volume==="medium"?"2":"1",stroke:a.health==="error"?"#ef4444":a.health==="warning"?"#faad14":"#52c41a",opacity:z.length>0?r?"1":"0.2":"0.8",strokeDasharray:a.volume==="low"?"5,5":"none",markerEnd:a.health==="error"?"url(#arrowhead-error)":a.health==="warning"?"url(#arrowhead-warning)":"url(#arrowhead-healthy)"}},ds=a=>{switch(a){case"healthy":return e.jsx(se,{size:16,className:t.statusHealthy});case"warning":return e.jsx(Q,{size:16,className:t.statusWarning});case"failed":return e.jsx(es,{size:16,className:t.statusFailed});case"processing":return e.jsx(K,{size:16,className:t.statusProcessing});default:return null}},ms=[...new Set(ae.map(a=>a.source))];return e.jsxs("div",{className:t.dataLineage,children:[e.jsx("div",{className:t.header,children:e.jsx("div",{className:t.headerContent,children:e.jsxs("div",{className:t.titleSection,children:[e.jsxs("h1",{className:t.title,children:["Interactive Data Lineage",e.jsx("button",{className:t.infoButton,onClick:()=>$(!0),title:"How does this system work?",children:e.jsx(Fe,{size:18})})]}),e.jsx("p",{className:t.subtitle,children:"Visualize and explore data flow through your threat intelligence pipelines"})]})})}),e.jsxs("div",{className:t.mainContent,children:[e.jsxs("div",{className:t.controls,children:[e.jsxs("div",{className:t.searchContainer,children:[e.jsx(fs,{className:t.searchIcon}),e.jsx("input",{type:"text",placeholder:"Search nodes and pipelines...",value:q,onChange:a=>Y(a.target.value),className:t.searchInput})]}),e.jsxs("select",{value:v,onChange:a=>g(a.target.value),className:t.filterSelect,children:[e.jsx("option",{value:"all",children:"All Sources"}),ms.map(a=>e.jsx("option",{value:a,children:a},a))]}),e.jsx("button",{className:t.clearButton,onClick:()=>{P(null),D([]),g("all")},children:"Clear Selection"}),e.jsx("button",{className:t.clearButton,onClick:()=>{const a=A.find(r=>r.hasErrors&&r.pipelineData);a?(console.log("Test: Opening modal for",a.name),P(a),T(!0)):console.log("Test: No error nodes found")},style:{background:"#dc3545"},children:"Test Error Modal"})]}),v!=="all"&&e.jsxs("div",{className:t.filterIndicator,children:[e.jsxs("span",{children:["Showing data flow for: ",e.jsx("strong",{children:v})]}),e.jsx("button",{className:t.clearFilterButton,onClick:()=>g("all"),title:"Show all sources",children:"Ã—"})]}),e.jsx("div",{className:t.contentGrid,children:e.jsxs("div",{className:t.visualizationPanel,children:[e.jsxs("div",{className:t.legend,children:[e.jsxs("div",{className:t.legendItem,children:[e.jsx("div",{className:`${t.legendDot} ${t.source}`}),e.jsx("span",{children:"Data Sources"})]}),e.jsxs("div",{className:t.legendItem,children:[e.jsx("div",{className:`${t.legendDot} ${t.ingestion}`}),e.jsx("span",{children:"Ingestion"})]}),e.jsxs("div",{className:t.legendItem,children:[e.jsx("div",{className:`${t.legendDot} ${t.transformation}`}),e.jsx("span",{children:"Transformation"})]}),e.jsxs("div",{className:t.legendItem,children:[e.jsx("div",{className:`${t.legendDot} ${t.enrichment}`}),e.jsx("span",{children:"Enrichment"})]}),e.jsxs("div",{className:t.legendItem,children:[e.jsx("div",{className:`${t.legendDot} ${t.destination}`}),e.jsx("span",{children:"Destinations"})]})]}),e.jsx("div",{className:t.lineageContainer,children:e.jsxs("svg",{ref:U,className:t.lineageSvg,viewBox:"0 0 1600 900",preserveAspectRatio:"xMidYMid meet",children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"flowGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(82, 196, 26, 0.1)"}),e.jsx("stop",{offset:"50%",stopColor:"rgba(82, 196, 26, 0.8)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(82, 196, 26, 0.1)"}),e.jsx("animateTransform",{attributeName:"gradientTransform",attributeType:"XML",type:"translate",values:"-100 0; 200 0; -100 0",dur:"3s",repeatCount:"indefinite"})]}),e.jsx("marker",{id:"arrowhead-healthy",markerWidth:"6",markerHeight:"4",refX:"5",refY:"2",orient:"auto",children:e.jsx("polygon",{points:"0 0, 6 2, 0 4",fill:"#52c41a"})}),e.jsx("marker",{id:"arrowhead-warning",markerWidth:"6",markerHeight:"4",refX:"5",refY:"2",orient:"auto",children:e.jsx("polygon",{points:"0 0, 6 2, 0 4",fill:"#faad14"})}),e.jsx("marker",{id:"arrowhead-error",markerWidth:"6",markerHeight:"4",refX:"5",refY:"2",orient:"auto",children:e.jsx("polygon",{points:"0 0, 6 2, 0 4",fill:"#ef4444"})}),e.jsxs("filter",{id:"glow",children:[e.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),e.jsxs("feMerge",{children:[e.jsx("feMergeNode",{in:"coloredBlur"}),e.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),e.jsx("text",{x:"120",y:"50",className:t.sectionLabel,children:"Data Sources"}),e.jsx("text",{x:"420",y:"50",className:t.sectionLabel,children:"Ingestion"}),e.jsx("text",{x:"720",y:"50",className:t.sectionLabel,children:"Transformation"}),e.jsx("text",{x:"1020",y:"50",className:t.sectionLabel,children:"Enrichment"}),e.jsx("text",{x:"1320",y:"50",className:t.sectionLabel,children:"Destinations"}),W.filter(a=>{const r=R.find(u=>u.id===a.from),d=R.find(u=>u.id===a.to);return r&&d}).map(a=>{const r=R.find(_=>_.id===a.from),d=R.find(_=>_.id===a.to),u=ls(a);return e.jsxs("g",{children:[e.jsx("line",{x1:r.x+180,y1:r.y+22,x2:d.x-20,y2:d.y+22,stroke:u.stroke,strokeWidth:u.strokeWidth,opacity:u.opacity,strokeDasharray:u.strokeDasharray,markerEnd:u.markerEnd,className:t.connectionLine}),a.animated&&e.jsx("circle",{r:"3",fill:u.stroke,className:t.flowDot,children:e.jsx("animateMotion",{dur:"3s",repeatCount:"indefinite",path:`M${r.x+180},${r.y+22} L${d.x-20},${d.y+22}`})})]},a.id)}),R.map(a=>{const r=a.type==="source"&&v!=="all"&&a.source===v;return e.jsxs("g",{className:t.nodeGroup,onClick:d=>is(a,d),onDoubleClick:()=>os(a),onMouseEnter:()=>L(a.id),onMouseLeave:()=>L(null),children:[e.jsx("rect",{x:a.x,y:a.y,width:"180",height:"45",fill:cs(a),rx:"6",className:`${t.nodeRect} ${(i==null?void 0:i.id)===a.id?t.selectedNode:""}`,filter:(i==null?void 0:i.id)===a.id||r?"url(#glow)":"none",stroke:r?"#ffffff":"transparent",strokeWidth:r?"2":"0"}),e.jsx("text",{x:a.x+90,y:a.y+18,textAnchor:"middle",fill:"white",fontSize:"11",fontWeight:"600",className:t.nodeText,children:a.name.length>20?`${a.name.substring(0,17)}...`:a.name}),e.jsx("text",{x:a.x+90,y:a.y+30,textAnchor:"middle",fill:"#0078d4",fontSize:"8",fontWeight:"500",children:a.technology.length>30?a.technology.split(" ")[0]+(a.technology.includes("Azure")?" "+a.technology.split(" ")[1]:""):a.technology}),e.jsxs("text",{x:a.x+90,y:a.y+40,textAnchor:"middle",fill:"rgba(255,255,255,0.8)",fontSize:"9",className:t.nodeSubtext,children:[a.recordsPerSecond,"/s"]}),e.jsx("circle",{cx:a.x+160,cy:a.y+12,r:"5",fill:a.status==="healthy"?"#52c41a":a.status==="warning"?"#faad14":a.status==="failed"?"#ef4444":"#1890ff"}),a.hasErrors&&a.errorCount&&a.errorCount>0&&e.jsxs("g",{children:[e.jsx("circle",{cx:a.x+170,cy:a.y+35,r:"12",fill:"#ef4444",stroke:"#ffffff",strokeWidth:"2"}),e.jsx("text",{x:a.x+170,y:a.y+40,textAnchor:"middle",fill:"white",fontSize:"11",fontWeight:"700",children:a.errorCount>9?"9+":a.errorCount})]}),a.hasErrors&&e.jsx("rect",{x:a.x-3,y:a.y-3,width:"186",height:"51",fill:"none",stroke:a.status==="failed"?"#ef4444":"#faad14",strokeWidth:"3",rx:"8",className:t.errorBorder}),a.hasErrors&&B===a.id&&e.jsxs("g",{children:[e.jsx("rect",{x:a.x+20,y:a.y+55,width:"140",height:"20",fill:"rgba(0, 0, 0, 0.8)",rx:"4"}),e.jsx("text",{x:a.x+90,y:a.y+68,textAnchor:"middle",fill:"#faad14",fontSize:"10",fontWeight:"600",children:"Double-click for error details"})]})]},a.id)}),B&&R.map(a=>{if(B!==a.id)return null;const r=a.x>1e3?a.x-210:a.x+190,d=a.y-10;return e.jsxs("g",{className:t.tooltip,children:[e.jsx("rect",{x:r,y:d,width:"220",height:"85",fill:"rgba(0,0,0,0.95)",rx:"6",stroke:"#555",strokeWidth:"1"}),e.jsx("text",{x:r+10,y:d+15,fill:"white",fontSize:"11",fontWeight:"600",children:a.name}),e.jsx("text",{x:r+10,y:d+28,fill:"#0078d4",fontSize:"9",fontWeight:"500",children:a.technology}),e.jsxs("text",{x:r+10,y:d+40,fill:"#ccc",fontSize:"9",children:["Records/sec: ",a.recordsPerSecond]}),e.jsxs("text",{x:r+10,y:d+52,fill:"#ccc",fontSize:"9",children:["Avg Time: ",a.avgProcessingTime,"ms"]}),e.jsxs("text",{x:r+10,y:d+64,fill:"#ccc",fontSize:"9",children:["Quality: ",a.dataQuality,"% | RG: ",a.resourceGroup.split("-").slice(-2).join("-")]}),e.jsx("text",{x:r+10,y:d+76,fill:"#52c41a",fontSize:"8",children:"Click for detailed tech specs â†’"})]},`tooltip-${a.id}`)})]})})]})}),H&&i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:t.popupOverlay,onClick:()=>l(!1)}),e.jsxs("div",{className:`${t.nodePopup} ${M?t.nodePopupExpanded:""}`,style:{left:`${C.x}px`,top:`${C.y}px`},children:[e.jsxs("div",{className:t.popupHeader,children:[e.jsxs("h3",{className:t.popupTitle,children:[i.type==="source"&&e.jsx(Qe,{size:18}),i.type==="ingestion"&&e.jsx(Ke,{size:18}),i.type==="transformation"&&e.jsx(Xe,{size:18}),i.type==="enrichment"&&e.jsx(as,{size:18}),i.type==="destination"&&e.jsx(Ye,{size:18}),i.name]}),e.jsx("div",{className:t.popupActions,children:e.jsx("button",{className:t.popupButton,onClick:()=>l(!1),title:"Close",children:e.jsx(xs,{size:16})})})]}),e.jsxs("div",{className:t.popupContent,children:[e.jsxs("div",{className:t.quickInfo,children:[e.jsxs("div",{className:t.quickInfoItem,children:[e.jsx("span",{className:t.quickInfoLabel,children:"Status"}),e.jsx("div",{className:t.quickInfoValue,children:e.jsxs("span",{className:`${t.statusBadge} ${t[`status${i.status.charAt(0).toUpperCase()+i.status.slice(1)}`]}`,children:[ds(i.status),i.status]})})]}),e.jsxs("div",{className:t.quickInfoItem,children:[e.jsx("span",{className:t.quickInfoLabel,children:"Technology"}),e.jsxs("div",{className:t.quickInfoValue,children:[e.jsx(ss,{size:14}),i.technology]})]}),e.jsxs("div",{className:t.quickInfoItem,children:[e.jsx("span",{className:t.quickInfoLabel,children:"Throughput"}),e.jsxs("div",{className:t.quickInfoValue,children:[e.jsx(K,{size:14}),i.recordsPerSecond,"/s"]})]}),e.jsxs("div",{className:t.quickInfoItem,children:[e.jsx("span",{className:t.quickInfoLabel,children:"Processing Time"}),e.jsxs("div",{className:t.quickInfoValue,children:[e.jsx(X,{size:14}),i.avgProcessingTime,"ms"]})]})]}),e.jsxs("div",{className:t.metricGrid,children:[e.jsxs("div",{className:t.metricItem,children:[e.jsxs("p",{className:t.metricValue,children:[i.dataQuality,"%"]}),e.jsx("p",{className:t.metricLabel,children:"Data Quality"})]}),e.jsxs("div",{className:t.metricItem,children:[e.jsx("p",{className:t.metricValue,children:i.connections.length}),e.jsx("p",{className:t.metricLabel,children:"Connections"})]}),e.jsxs("div",{className:t.metricItem,children:[e.jsx("p",{className:t.metricValue,children:i.region}),e.jsx("p",{className:t.metricLabel,children:"Region"})]})]}),e.jsx("div",{className:t.expandButtonContainer,children:e.jsxs("button",{className:t.expandButton,onClick:rs,title:M?"Show less details":"Show more details",children:[M?e.jsx(gs,{size:14}):e.jsx(ys,{size:14}),M?"Less Details":"More Details"]})}),M&&e.jsxs("div",{className:t.expandedContent,children:[e.jsxs("div",{className:t.expandedSection,children:[e.jsxs("h4",{className:t.expandedSectionTitle,children:[e.jsx(ts,{size:16}),"Security & Authentication"]}),e.jsxs("div",{className:t.expandedSectionContent,children:[e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Authentication:"}),e.jsx("span",{className:t.detailValue,children:i.authentication})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Protocols:"}),e.jsx("div",{className:t.tagList,children:(le=i.protocols)==null?void 0:le.slice(0,3).map((a,r)=>e.jsx("span",{className:t.tag,children:a},r))})]})]})]}),e.jsxs("div",{className:t.expandedSection,children:[e.jsxs("h4",{className:t.expandedSectionTitle,children:[e.jsx(Je,{size:16}),"Infrastructure"]}),e.jsxs("div",{className:t.expandedSectionContent,children:[e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Resource Group:"}),e.jsx("span",{className:t.detailValue,children:i.resourceGroup})]}),i.computeType&&e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Compute:"}),e.jsx("span",{className:t.detailValue,children:i.computeType})]}),i.storageType&&e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Storage:"}),e.jsx("span",{className:t.detailValue,children:i.storageType})]})]})]}),e.jsxs("div",{className:t.expandedSection,children:[e.jsxs("h4",{className:t.expandedSectionTitle,children:[e.jsx(ce,{size:16}),"Monitoring"]}),e.jsxs("div",{className:t.expandedSectionContent,children:[e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"App Insights:"}),e.jsx("span",{className:t.detailValue,children:(de=i.monitoring)==null?void 0:de.applicationInsights})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Log Analytics:"}),e.jsx("span",{className:t.detailValue,children:(me=i.monitoring)==null?void 0:me.logAnalyticsWorkspace})]})]})]}),e.jsxs("div",{className:t.expandedSection,children:[e.jsxs("h4",{className:t.expandedSectionTitle,children:[e.jsx(Q,{size:16}),"Dependencies"]}),e.jsxs("div",{className:t.expandedSectionContent,children:[e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Key Vault:"}),e.jsx("span",{className:t.detailValue,children:(he=i.dependencies)==null?void 0:he.keyVault})]}),((ue=i.dependencies)==null?void 0:ue.externalApis)&&i.dependencies.externalApis.length>0&&e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"External APIs:"}),e.jsx("div",{className:t.tagList,children:i.dependencies.externalApis.slice(0,2).map((a,r)=>e.jsx("span",{className:t.tag,children:a},r))})]})]})]}),e.jsxs("div",{className:t.expandedSection,children:[e.jsxs("h4",{className:t.expandedSectionTitle,children:[e.jsx(Je,{size:16}),"Operational Information"]}),e.jsxs("div",{className:t.expandedSectionContent,children:[e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Owner:"}),e.jsx("span",{className:t.detailValue,children:(pe=i.operationalInfo)==null?void 0:pe.owner})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Escalation Path:"}),e.jsx("div",{className:t.tagList,children:(fe=(_e=i.operationalInfo)==null?void 0:_e.escalationPath)==null?void 0:fe.map((a,r)=>e.jsx("span",{className:t.tag,children:a},r))})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Maintenance Window:"}),e.jsx("span",{className:t.detailValue,children:(xe=i.operationalInfo)==null?void 0:xe.maintenanceWindow})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Criticality Level:"}),e.jsx("span",{className:t.detailValue,children:(ge=i.operationalInfo)==null?void 0:ge.criticalityLevel})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Data Classification:"}),e.jsx("span",{className:t.detailValue,children:(ye=i.operationalInfo)==null?void 0:ye.dataClassification})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Compliance Requirements:"}),e.jsx("div",{className:t.tagList,children:(be=(je=i.operationalInfo)==null?void 0:je.complianceRequirements)==null?void 0:be.map((a,r)=>e.jsx("span",{className:t.tag,children:a},r))})]})]})]}),e.jsxs("div",{className:t.expandedSection,children:[e.jsxs("h4",{className:t.expandedSectionTitle,children:[e.jsx(X,{size:16}),"SLA Metrics"]}),e.jsxs("div",{className:t.expandedSectionContent,children:[e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Uptime:"}),e.jsxs("span",{className:t.detailValue,children:[(ve=i.slaMetrics)==null?void 0:ve.uptime,"%"]})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Target Uptime:"}),e.jsxs("span",{className:t.detailValue,children:[(Ne=i.slaMetrics)==null?void 0:Ne.targetUptime,"%"]})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"MTTR:"}),e.jsxs("span",{className:t.detailValue,children:[(Se=i.slaMetrics)==null?void 0:Se.mttr," minutes"]})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"MTBF:"}),e.jsxs("span",{className:t.detailValue,children:[(Ce=i.slaMetrics)==null?void 0:Ce.mtbf," hours"]})]})]})]}),e.jsxs("div",{className:t.expandedSection,children:[e.jsxs("h4",{className:t.expandedSectionTitle,children:[e.jsx(ce,{size:16}),"Performance Metrics"]}),e.jsxs("div",{className:t.expandedSectionContent,children:[e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Avg Latency:"}),e.jsxs("span",{className:t.detailValue,children:[(Ie=i.performanceMetrics)==null?void 0:Ie.avgLatency,"ms"]})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"P95 Latency:"}),e.jsxs("span",{className:t.detailValue,children:[(ke=i.performanceMetrics)==null?void 0:ke.p95Latency,"ms"]})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Error Rate:"}),e.jsxs("span",{className:t.detailValue,children:[(Le=i.performanceMetrics)==null?void 0:Le.errorRate,"%"]})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Throughput:"}),e.jsxs("span",{className:t.detailValue,children:[(we=i.performanceMetrics)==null?void 0:we.throughputMbps," Mbps"]})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"CPU Utilization:"}),e.jsxs("span",{className:t.detailValue,children:[(Te=i.performanceMetrics)==null?void 0:Te.cpuUtilization,"%"]})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Memory Utilization:"}),e.jsxs("span",{className:t.detailValue,children:[(Me=i.performanceMetrics)==null?void 0:Me.memoryUtilization,"%"]})]})]})]}),e.jsxs("div",{className:t.expandedSection,children:[e.jsxs("h4",{className:t.expandedSectionTitle,children:[e.jsx(Fe,{size:16}),"Troubleshooting Resources"]}),e.jsxs("div",{className:t.expandedSectionContent,children:[e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Common Issues:"}),e.jsx("div",{className:t.tagList,children:(Pe=(Ae=i.troubleshooting)==null?void 0:Ae.commonIssues)==null?void 0:Pe.slice(0,2).map((a,r)=>e.jsx("span",{className:t.tag,children:a},r))})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Runbook URLs:"}),e.jsx("div",{className:t.linkList,children:(De=(ze=i.troubleshooting)==null?void 0:ze.runbookUrls)==null?void 0:De.map((a,r)=>e.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:t.link,children:["Runbook ",r+1]},r))})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Health Check Endpoints:"}),e.jsx("div",{className:t.linkList,children:(Ee=($e=i.troubleshooting)==null?void 0:$e.healthCheckEndpoints)==null?void 0:Ee.map((a,r)=>e.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:t.link,children:["Health Check ",r+1]},r))})]}),e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Sample Log Queries:"}),e.jsx("div",{className:t.codeSnippets,children:(He=(Be=i.troubleshooting)==null?void 0:Be.logQuerySamples)==null?void 0:He.map((a,r)=>e.jsx("code",{className:t.codeSnippet,children:a},r))})]})]})]})]}),(i.hasErrors||i.status==="failed"||i.status==="warning")&&e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#1a1a1a",borderRadius:"8px",border:"1px solid #ef4444"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx(Q,{size:16,style:{color:"#ef4444"}}),e.jsx("span",{style:{fontWeight:"600",color:"#ef4444"},children:i.errorCount?`${i.errorCount} Active Errors`:"System Issues Detected"})]}),((Ge=i.pipelineData)==null?void 0:Ge.currentError)&&e.jsxs("p",{style:{fontSize:"0.85rem",color:"#cccccc",margin:"0 0 0.75rem 0"},children:[i.pipelineData.currentError.errorMessage.slice(0,100),"..."]}),e.jsxs("button",{onClick:()=>{T(!0),l(!1)},style:{background:"#ef4444",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"6px",fontSize:"0.85rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(Q,{size:14}),"View Error Details"]})]}),e.jsxs("div",{style:{marginTop:"1rem",fontSize:"0.8rem",color:"#888",textAlign:"center"},children:["Last updated: ",new Date(i.lastUpdate).toLocaleString()]})]})]})]}),w&&i&&i.pipelineData&&e.jsx(Ze,{isOpen:w,onClose:()=>T(!1),pipelineName:i.name,currentError:i.pipelineData.currentError,errorHistory:i.pipelineData.errorHistory||[],logReferences:i.pipelineData.logs||[],metricsHistory:i.pipelineData.metrics||[],impactAnalysis:i.pipelineData.impact,runbooks:i.pipelineData.runbooks||[],oncallTeam:((Re=i.operationalInfo)==null?void 0:Re.owner)||"MSTIC Data Engineering Team",slackChannel:"#mstic-incidents",teamsChannel:"MSTIC Operations",operationalData:{slaMetrics:i.slaMetrics,operationalInfo:i.operationalInfo,performanceMetrics:i.performanceMetrics,troubleshooting:i.troubleshooting,contactInfo:{primaryTeam:((qe=i.operationalInfo)==null?void 0:qe.owner)||"MSTIC Data Engineering Team",secondaryTeam:"MSTIC Platform Team",escalationContacts:[{name:"On-call Engineer",role:"Level 1 Support",email:"mstic-oncall@microsoft.com",phone:"+1-425-882-8080",slackHandle:"@mstic-oncall"},{name:"Senior Engineer",role:"Level 2 Support",email:"mstic-senior@microsoft.com",phone:"+1-425-882-8081",slackHandle:"@mstic-senior"},{name:"Engineering Manager",role:"Level 3 Escalation",email:"mstic-manager@microsoft.com",phone:"+1-425-882-8082",slackHandle:"@mstic-manager"}]},technology:{stack:i.technology,resourceGroup:i.resourceGroup,subscriptionId:i.subscriptionId,region:i.region}}}),e.jsxs("div",{className:t.summaryGrid,children:[e.jsxs("div",{className:t.summaryCard,children:[e.jsx("div",{className:t.summaryIcon,children:e.jsx(Qe,{size:24})}),e.jsxs("div",{className:t.summaryContent,children:[e.jsx("div",{className:t.summaryValue,children:h.filter(a=>a.type==="source").length}),e.jsx("div",{className:t.summaryLabel,children:"Data Sources"})]})]}),e.jsxs("div",{className:t.summaryCard,children:[e.jsx("div",{className:t.summaryIcon,children:e.jsx(Xe,{size:24})}),e.jsxs("div",{className:t.summaryContent,children:[e.jsx("div",{className:t.summaryValue,children:h.filter(a=>["ingestion","transformation","enrichment"].includes(a.type)).length}),e.jsx("div",{className:t.summaryLabel,children:"Processing Pipelines"})]})]}),e.jsxs("div",{className:t.summaryCard,children:[e.jsx("div",{className:t.summaryIcon,children:e.jsx(Ke,{size:24})}),e.jsxs("div",{className:t.summaryContent,children:[e.jsx("div",{className:t.summaryValue,children:W.length}),e.jsx("div",{className:t.summaryLabel,children:"Data Flows"})]})]}),e.jsxs("div",{className:t.summaryCard,children:[e.jsx("div",{className:t.summaryIcon,children:e.jsx(Ye,{size:24})}),e.jsxs("div",{className:t.summaryContent,children:[e.jsx("div",{className:t.summaryValue,children:h.filter(a=>a.type==="destination").length}),e.jsx("div",{className:t.summaryLabel,children:"Destinations"})]})]})]})]}),w&&i&&i.pipelineData&&e.jsx(Ze,{isOpen:w,onClose:()=>T(!1),pipelineName:i.pipelineData.name,currentError:i.pipelineData.currentError,errorHistory:i.pipelineData.errorHistory||[],logReferences:i.pipelineData.logReferences||[],metricsHistory:i.pipelineData.metricsHistory||[],impactAnalysis:i.pipelineData.impactAnalysis,runbooks:i.pipelineData.runbooks||[],oncallTeam:i.pipelineData.oncallTeam||"MSTIC Data Engineering",slackChannel:i.pipelineData.slackChannel,teamsChannel:i.pipelineData.teamsChannel,dashboardUrl:i.pipelineData.dashboardUrl,grafanaUrl:i.pipelineData.grafanaUrl,healthCheckUrl:i.pipelineData.healthCheckUrl,operationalData:{slaMetrics:i.slaMetrics,operationalInfo:i.operationalInfo,performanceMetrics:i.performanceMetrics,troubleshooting:i.troubleshooting,technology:{stack:i.technology,resourceGroup:i.resourceGroup,region:i.region,subscriptionId:i.subscriptionId},contactInfo:{primaryTeam:((Ve=i.operationalInfo)==null?void 0:Ve.owner)||"MSTIC Data Engineering",escalationContacts:((Ue=(Oe=i.operationalInfo)==null?void 0:Oe.escalationPath)==null?void 0:Ue.map((a,r)=>({name:`${a} Contact`,role:a,email:`${a.toLowerCase().replace(/\s+/g,".")}@microsoft.com`,phone:r===0?"+1-555-0123":void 0,slackHandle:`@${a.toLowerCase().replace(/\s+/g,"")}`})))||[]}}}),e.jsx(js,{isOpen:J,onClose:()=>$(!1),section:"dataLineage"})]})});Xi.displayName="DataLineage";export{Xi as default};
//# sourceMappingURL=DataLineage-C9ocyd34.js.map
